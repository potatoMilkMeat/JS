<!DOCTYPE html>
<!-- saved from url=(0055)https://www.imooc.com/article/32292?block_id=tuijian_wz -->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>
    Axios源码深度剖析 - AJAX新王者_慕课手记
  </title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="renderer" content="webkit">
  <meta name="mobile-agent" content="format=wml" ;="" url="https://m.imooc.com/article/32292">
  <link rel="alternate" media="only screen and (max-width: 640px)" href="https://m.imooc.com/article/32292">
  <meta name="mobile-agent" content="format=xhtml" ;="" url="https://m.imooc.com/article/32292">
  <meta name="mobile-agent" content="format=html5" ;="" url="https://m.imooc.com/article/32292">
  <meta property="qc:admins" content="77103107776157736375">
  <meta property="wb:webmaster" content="c4f857219bfae3cb">
  <meta http-equiv="Access-Control-Allow-Origin" content="*">
  <meta http-equiv="Cache-Control" content="no-transform ">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <link rel="dns-prefetch" href="https://www.imooc.com/">
  <link rel="dns-prefetch" href="https://img.imooc.com/">
  <link rel="dns-prefetch" href="https://img1.sycdn.imooc.com/">
  <link rel="apple-touch-icon" sizes="76x76" href="https://www.imooc.com/static/img/common/touch-icon-ipad.png">
  <link rel="apple-touch-icon" sizes="120x120"
    href="https://www.imooc.com/static/img/common/touch-icon-iphone-retina.png">
  <link rel="apple-touch-icon" sizes="152x152"
    href="https://www.imooc.com/static/img/common/touch-icon-ipad-retina.png">
  <meta name="Description"
    content="axios源码分析 - XHR篇 文章源码托管在github上，欢迎fork指正！ axios 是一个基于 Promise 的http请求库，可以用在浏览器和node.js中，目前">
  <style id="list">
    body ol,
    body ul {
      margin: 0;
      padding: 0;
    }

    body .list-paddingleft-1 {
      padding-left: 0
    }

    body .list-paddingleft-2 {
      padding-left: 20px
    }

    body .list-paddingleft-3 {
      padding-left: 40px
    }
  </style>
  <style>
    body,
    div,
    dl,
    dt,
    dd,
    ul,
    ol,
    li,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    pre,
    code,
    form,
    fieldset,
    legend,
    input,
    button,
    textarea,
    p,
    blockquote,
    th,
    td {
      margin: 0;
      padding: 0
    }

    fieldset,
    img {
      border: 0
    }

    :focus {
      outline: 0
    }

    address,
    caption,
    cite,
    code,
    dfn,
    em,
    strong,
    th,
    var,
    optgroup {
      font-style: normal;
      font-weight: 400
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-size: 100%;
      font-weight: 400
    }

    abbr,
    acronym {
      border: 0;
      font-variant: normal
    }

    code,
    kbd,
    samp,
    tt {
      font-size: 100%
    }

    input,
    button,
    textarea,
    select {
      *font-size: 100%;
      border: 0
    }

    body {
      background: #fff;
      color: #5e5e5e;
      font: 14px/2em Microsoft YaHei, SimSun, Arial
    }

    ol,
    ul {
      list-style: none
    }

    table {
      border-collapse: collapse;
      border-spacing: 0
    }

    caption,
    th {
      text-align: left
    }

    sup,
    sub {
      font-size: 100%;
      vertical-align: baseline
    }

    :link,
    :visited,
    ins {
      text-decoration: none
    }

    blockquote,
    q {
      quotes: none
    }

    blockquote:before,
    blockquote:after,
    q:before,
    q:after {
      content: '';
      content: none
    }

    a:link,
    a:visited {
      color: #5e5e5e
    }

    a:hover {
      color: #c9394a
    }

    a:active {
      color: #666
    }

    .clearfix:after {
      content: '\0020';
      display: block;
      height: 0;
      clear: both;
      visibility: hidden
    }

    .clearfix {
      *zoom: 1
    }

    .l {
      float: left
    }

    .r {
      float: right
    }

    .clear {
      height: 0;
      overflow: hidden;
      clear: both
    }

    .hide {
      display: none
    }

    .btn.hide {
      display: none
    }

    a.hidefocus {
      outline: 0
    }

    button.hidefocus::-moz-focus-inner {
      border: 0
    }

    a:focus {
      outline: 0;
      -moz-outline: 0
    }

    input,
    textarea {
      outline: 0
    }

    h2 {
      font-size: 20px
    }

    h3 {
      font-size: 16px;
      line-height: 32px
    }

    h5 {
      font-size: 14px;
      line-height: 28px
    }

    .img_border {
      border: 4px solid #fff;
      border-radius: 1px
    }

    .bb {
      border-bottom: 1px solid #d2d2d2
    }

    .bt {
      border-top: 1px solid #d2d2d2
    }

    .bbn {
      border-bottom: 0 !important
    }

    .mc {
      margin: 0 auto !important
    }

    .m0 {
      margin: 0 !important
    }

    .m1 {
      margin: 1px !important
    }

    .m2 {
      margin: 2px !important
    }

    .m3 {
      margin: 3px !important
    }

    .m4 {
      margin: 4px !important
    }

    .m5 {
      margin: 5px !important
    }

    .m10 {
      margin: 10px
    }

    .m15 {
      margin: 15px
    }

    .m20 {
      margin: 20px
    }

    .m25 {
      margin: 25px
    }

    .m30 {
      margin: 30px
    }

    .mt5 {
      margin-top: 5px !important
    }

    .mt0 {
      margin-top: 0 !important
    }

    .mt10 {
      margin-top: 10px !important
    }

    .mt14 {
      margin-top: 14px
    }

    .mt15 {
      margin-top: 15px
    }

    .mt18 {
      margin-top: 18px
    }

    .mt20 {
      margin-top: 20px !important
    }

    .mt30 {
      margin-top: 30px
    }

    .mt40 {
      margin-top: 40px
    }

    .mt50 {
      margin-top: 50px
    }

    .mt60 {
      margin-top: 60px
    }

    .mt70 {
      margin-top: 70px
    }

    .mt80 {
      margin-top: 80px
    }

    .mt90 {
      margin-top: 90px
    }

    .mt100 {
      margin-top: 100px
    }

    .mb0 {
      margin-bottom: 0 !important
    }

    .mb3 {
      margin-bottom: 3px
    }

    .mb5 {
      margin-bottom: 5px !important
    }

    .mb10 {
      margin-bottom: 10px
    }

    .mb15 {
      margin-bottom: 15px
    }

    .mb20 {
      margin-bottom: 20px !important
    }

    .mb25 {
      margin-bottom: 25px !important
    }

    .mb30 {
      margin-bottom: 30px
    }

    .mb40 {
      margin-bottom: 40px
    }

    .mb50 {
      margin-bottom: 50px
    }

    .mb55 {
      margin-bottom: 55px
    }

    .mb80 {
      margin-bottom: 80px
    }

    .mb100 {
      margin-bottom: 100px
    }

    .ml0 {
      margin-left: 0 !important
    }

    .ml8 {
      margin-left: 8px !important
    }

    .ml1 {
      margin-left: 1px !important
    }

    .ml5 {
      margin-left: 5px !important
    }

    .ml10 {
      margin-left: 10px !important
    }

    .ml12 {
      margin-left: 12px !important
    }

    .ml13 {
      margin-left: 13px !important
    }

    .ml15 {
      margin-left: 15px !important
    }

    .ml25 {
      margin-left: 25px !important
    }

    .ml20 {
      margin-left: 20px !important
    }

    .ml30 {
      margin-left: 30px !important
    }

    .ml35 {
      margin-left: 35px !important
    }

    .ml38 {
      margin-left: 38px !important
    }

    .ml40 {
      margin-left: 40px !important
    }

    .ml50 {
      margin-left: 50px !important
    }

    .ml60 {
      margin-left: 60px !important
    }

    .ml55 {
      margin-left: 55px !important
    }

    .ml57 {
      margin-left: 57px !important
    }

    .ml60 {
      margin-left: 60px !important
    }

    .ml80 {
      margin-left: 80px !important
    }

    .ml100 {
      margin-left: 100px !important
    }

    .ml110 {
      margin-left: 110px !important
    }

    .ml120 {
      margin-left: 120px !important
    }

    .ml150 {
      margin-left: 150px !important
    }

    .ml200 {
      margin-left: 200px !important
    }

    .ml250 {
      margin-left: 250px !important
    }

    .ml285 {
      margin-left: 285px !important
    }

    .ml835 {
      margin-left: 835px !important
    }

    .mr5 {
      margin-right: 5px !important
    }

    .mr10 {
      margin-right: 10px !important
    }

    .mr15 {
      margin-right: 15px !important
    }

    .mr20 {
      margin-right: 20px !important
    }

    .mr30 {
      margin-right: 30px !important
    }

    .mr40 {
      margin-right: 40px !important
    }

    .mr50 {
      margin-right: 50px !important
    }

    .mr80 {
      margin-right: 80px !important
    }

    .mr100 {
      margin-right: 100px !important
    }

    .mr250 {
      margin-right: 250px !important
    }

    .mr300 {
      margin-right: 300px !important
    }

    .pointer {
      cursor: pointer
    }

    .color-gray,
    a.color-gray:link,
    a.color-gray:visited {
      color: #b7bcc0
    }

    .color-white {
      color: #fff !important
    }

    .color-blue {
      color: #088bd3
    }

    .fl {
      float: left
    }

    .fr {
      float: right
    }

    .mr60 {
      margin-right: 60px
    }

    .color-red {
      color: #EF1300 !important
    }

    .pr {
      position: relative
    }

    .pa {
      position: absolute
    }

    .errorHint {
      height: 25px;
      line-height: 20px;
      font-size: 12px;
      color: #f01414
    }

    .breakall {
      word-break: break-all
    }

    .wui-dialog {
      background-color: #fff;
      box-shadow: #ccc 1px 4px 20px 3px;
      position: absolute;
      box-shadow: 0 12px 24px 0 rgba(0, 0, 0, .24)
    }

    .cb {
      clear: both
    }

    .fs12 {
      font-size: 12px !important
    }

    .fs14 {
      font-size: 14px !important
    }

    .fs16 {
      font-size: 16px !important
    }

    .fs18 {
      font-size: 18px !important
    }

    .fs20 {
      font-size: 20px !important
    }

    .bold {
      font-weight: 700 !important
    }

    body,
    html {
      font: 14px/1.5 "PingFang SC", "微软雅黑", "Microsoft YaHei", Helvetica, "Helvetica Neue", Tahoma, Arial, sans-serif;
      color: #1c1f21;
      height: 100%
    }

    body {
      min-width: 1200px;
      background-color: #f8fafc;
      overflow-y: scroll;
      padding-top: 0;
      -webkit-transition: -webkit-transform .3s ease;
      transition: transform .3s ease
    }

    a:link,
    a:visited {
      color: #1c1f21
    }

    a:active,
    a:hover {
      color: #ec1500
    }

    .clearfix:after {
      content: '\0020';
      display: block;
      height: 0;
      clear: both;
      visibility: hidden
    }

    .l {
      float: left
    }

    .r {
      float: right
    }

    .hide {
      display: none
    }

    .hide-text {
      text-indent: 100%;
      white-space: nowrap;
      overflow: hidden
    }

    .newcontainer,
    .page-container {
      margin: 0 auto;
      width: 1152px
    }

    .container {
      margin: 0 auto
    }

    .container {
      width: 1152px
    }

    #main {
      padding: 20px 0;
      min-height: calc(100% - 140px);
      margin-left: 360px;
    }

    .waper {
      width: 1200px;
      margin: 0 auto
    }

    .shadow {
      -webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, .1);
      -moz-box-shadow: 0 2px 4px rgba(0, 0, 0, .1);
      box-shadow: 0 2px 4px rgba(0, 0, 0, .1)
    }

    .text-ellipsis {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap
    }

    .addZ-index {
      z-index: 9999
    }

    .addZ-indexCode {
      z-index: 9999
    }

    .bindHintBox {
      background-color: #ffc;
      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, .2);
      position: absolute;
      right: 10px;
      top: 60px;
      width: 313px;
      height: 54px;
      z-index: 3;
      font-size: 12px;
      line-height: 54px;
      color: #07111b;
      padding: 0 15px
    }

    .bindHintBox .closeBindHint {
      width: 17px;
      height: 17px;
      position: relative;
      top: 4px;
      left: 20px;
      cursor: pointer;
      background: url(/static/img/nlogin.png) no-repeat 0 0;
      transition: transform .2s;
      -webkit-transition: transform .2s;
      -moz-transition: transform .2s;
      -o-transition: transform .2s
    }

    .bindHintBox .arrow {
      position: absolute;
      right: 15px;
      top: -10px;
      border-width: 0 10px 10px 10px;
      border-color: transparent transparent #ffc transparent;
      border-style: solid
    }

    .linkToMall {
      font-size: 12px !important;
      color: #fff !important;
      opacity: 1 !important
    }

    #header {
      background: #07111b
    }

    #header .page-container {
      width: auto;
      padding-right: 10px;
      z-index: 900;
      box-shadow: 0 4px 8px 0 rgba(7, 17, 27, .1);
      position: relative
    }

    #header .logo {
      float: left;
      margin: 0 20px
    }

    #header .logo a {
      display: block;
      width: 140px;
      height: 72px;
      background: url(/static/img/common/logo.png?t=2.4) center center no-repeat;
      -webkit-transition: background-color .2s;
      -moz-transition: background-color .2s;
      transition: background-color .2s
    }

    #header .nav-item li {
      float: left
    }

    #header .nav-item li a {
      padding: 0 20px;
      display: block;
      color: rgba(255, 255, 255, .6);
      text-align: center;
      font-size: 16px;
      height: 72px;
      line-height: 72px;
      -webkit-transition: background-color .3s;
      -moz-transition: background-color .3s;
      transition: background-color .3s;
      position: relative
    }

    #header .nav-item li a .icn-new {
      position: absolute;
      display: inline-block;
      top: 14px;
      width: 16px;
      height: 16px;
      background: url(/static/img/common/new.png) no-repeat 0 0
    }

    #header .nav-item li a.active,
    #header .nav-item li a:hover {
      color: #fff
    }

    #header #login-area {
      float: right;
      position: relative
    }

    #header #login-area .dist-money {
      line-height: 72px;
      position: relative;
      font-size: 14px;
      color: rgba(255, 255, 255, .6)
    }

    #header #login-area .dist-money:hover>a {
      color: #fff
    }

    #header #login-area .dist-money>a {
      color: rgba(255, 255, 255, .6);
      padding: 0 12px
    }

    #header #login-area .dist-money a {
      width: 122px !important;
      padding: 0 12px;
      box-sizing: border-box
    }

    #header #login-area .user-mycourse-box>a {
      text-align: center;
      color: #787d82
    }

    #header #login-area .app-download {
      line-height: 72px;
      color: rgba(255, 255, 255, .6)
    }

    #header #login-area .app-download>a {
      padding: 0 15px;
      font-size: 14px;
      color: rgba(255, 255, 255, .6)
    }

    #header #login-area .app-download>a:hover {
      color: #fff
    }

    #header #login-area .shop-cart {
      height: 36px;
      line-height: 36px;
      margin: 18px 0
    }

    #header #login-area .shop-cart .shop-cart-icon {
      display: inline-block;
      padding: 0 18px;
      width: auto;
      box-sizing: border-box;
      border: 1px solid rgba(255, 255, 255, .2);
      border-radius: 18px;
      height: 36px;
      line-height: 34px;
      color: #787d82;
      text-align: center
    }

    #header #login-area .shop-cart .my-cart {
      top: 54px
    }

    #header #login-area .remind_warp {
      width: 60px;
      height: 48px
    }

    #header #login-area .remind_warp a {
      height: 48px;
      line-height: 48px
    }

    #header #login-area .remind_warp .msg_remind {
      display: none;
      position: absolute;
      width: 8px;
      height: 8px;
      background-color: #f01414;
      right: 14px;
      top: 10px;
      border-radius: 50%
    }

    #header #login-area .remind_warp .icon-notifi {
      display: block;
      line-height: 48px;
      font-size: 22px;
      text-align: center;
      cursor: pointer;
      -webkit-transition: color .2s;
      -moz-transition: color .2s;
      transition: color .2s
    }

    #header #login-area .remind_warp .icon-notifi:hover {
      color: #fff
    }

    #header #login-area .logined>li {
      float: left;
      position: relative
    }

    #header #login-area .logined>li.user-mycourse-box a:hover {
      color: #f01414
    }

    #header #login-area .logined>li>a {
      display: block;
      width: 60px;
      height: 72px;
      line-height: 72px;
      color: #787d82;
      text-align: center;
      -webkit-transition: background-color .2s;
      -moz-transition: background-color .2s;
      transition: background-color .2s
    }

    #header #login-area .logined>li>a:hover {
      color: #fff
    }

    #header #login-area .logined>li>a:hover i {
      color: #fff
    }

    #header #login-area .header-unlogin>li {
      float: left
    }

    #header #login-area .header-unlogin .header-signin {
      margin-left: 12px;
      color: rgba(255, 255, 255, .6)
    }

    #header #login-area .header-unlogin .header-signin a {
      display: inline-block;
      padding: 0 12px;
      height: 72px;
      line-height: 72px;
      font-size: 14px;
      color: rgba(255, 255, 255, .6);
      -webkit-transition: background-color .2s;
      -moz-transition: background-color .2s;
      transition: background-color .2s
    }

    #header #login-area .header-unlogin .header-signin a:hover {
      color: rgba(240, 20, 20, .8)
    }

    .remind_warp,
    .search-area {
      margin: 12px 0
    }

    .search-warp {
      position: relative;
      float: left;
      margin-left: 24px
    }

    .search-warp .showhide-search {
      width: 20px;
      height: 24px;
      text-align: right;
      position: absolute;
      display: inline-block;
      right: 0;
      bottom: 24px;
      padding: 0 8px;
      border-radius: 18px
    }

    .search-warp .showhide-search i {
      display: block;
      height: 24px;
      color: #545c63;
      cursor: pointer;
      font-size: 20px;
      line-height: 24px;
      width: 20px
    }

    .search-area {
      float: right;
      position: relative;
      height: 40px;
      padding-right: 40px;
      border-bottom: 1px solid rgba(255, 255, 255, .4);
      zoom: 1;
      background: #e9e9e9;
      border-radius: 8px;
      margin: 16px 0;
      width: 324px;
      box-sizing: border-box;
      font-size: 0;
      -webkit-transition: width .3s;
      -moz-transition: width .3s;
      transition: width .3s
    }

    .search-area .search-input {
      padding: 8px 12px;
      font-size: 14px;
      color: #a6a6a6;
      line-height: 24px;
      height: 40px;
      width: 100%;
      float: left;
      border: 0;
      -webkit-transition: background-color .3s;
      -moz-transition: background-color .3s;
      transition: background-color .3s;
      background-color: transparent;
      -moz-box-sizing: border-box;
      -webkit-box-sizing: border-box;
      -ms-box-sizing: border-box;
      box-sizing: border-box
    }

    .search-area .search-input.w100 {
      width: 100%
    }

    .search-area .hotTags {
      display: inline-block;
      position: absolute;
      top: 0;
      right: 40px
    }

    .search-area .hotTags a {
      display: inline-block;
      padding: 4px 8px;
      height: 16px;
      font-size: 14px;
      color: #545c63;
      line-height: 16px;
      margin-top: 8px;
      max-width: 60px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap
    }

    .search-area .hotTags a:hover {
      color: #f21f1f
    }

    .search-area input::-webkit-input-placeholder {
      color: #a6a6a6
    }

    .search-area input::-moz-placeholder {
      color: #a6a6a6
    }

    .search-area input:-moz-placeholder {
      color: #a6a6a6
    }

    .search-area input:-ms-input-placeholder {
      color: #a6a6a6
    }

    .search-area .btn_search {
      float: left;
      cursor: pointer;
      width: 30px;
      height: 38px;
      text-align: center;
      -webkit-transition: background-color .3s;
      -moz-transition: background-color .3s;
      transition: background-color .3s
    }

    .search-area .search-area-result {
      position: absolute;
      left: 0;
      top: 57px;
      width: 300px;
      margin-bottom: 20px;
      border-top: none;
      background-color: #fff;
      box-shadow: 0 8px 16px 0 rgba(7, 17, 27, .2);
      font-size: 12px;
      overflow: hidden;
      display: none;
      z-index: 800;
      border-bottom-right-radius: 8px;
      border-bottom-left-radius: 8px
    }

    .search-area .search-area-result.hot-hide {
      top: 47px
    }

    .search-area .search-area-result.hot-hide .hot {
      display: none
    }

    .search-area .search-area-result.hot-hide .history {
      border-top: 0
    }

    .search-area .search-area-result h2 {
      font-size: 12px;
      color: #1c1f21;
      line-height: 12px;
      margin-bottom: 8px;
      font-weight: 700
    }

    .search-area .search-area-result .hot {
      padding: 12px 0 8px 12px;
      box-sizing: border-box
    }

    .search-area .search-area-result .hot .hot-item {
      background: rgba(84, 92, 99, .1);
      border-radius: 12px;
      padding: 4px 12px;
      line-height: 16px;
      margin-right: 4px;
      margin-bottom: 4px;
      display: inline-block;
      cursor: pointer;
      font-size: 12px;
      color: #545c63
    }

    .search-area .search-area-result .history {
      border-top: 1px solid rgba(28, 31, 33, .1);
      box-sizing: border-box
    }

    .search-area .search-area-result .history li {
      height: 40px;
      line-height: 40px;
      padding: 0 10px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      color: #787d82;
      cursor: pointer
    }

    .search-area .search-area-result .history li .light,
    .search-area .search-area-result .history li:hover {
      color: #1c1f21;
      background-color: #edf0f2
    }

    .my_message a span {
      display: none
    }

    .my_message .msg_remind {
      display: none;
      position: absolute;
      width: 6px;
      height: 6px;
      background-color: #f01414;
      right: 14px;
      top: 14px;
      border-radius: 50%
    }

    .msg_icon {
      display: none;
      position: absolute;
      padding: 0 5px;
      height: 16px;
      left: 32px;
      top: 10px;
      line-height: 16px;
      background: #f01414;
      border-radius: 50%;
      color: #fff;
      font-style: normal;
      font-size: 10px
    }

    .my_mp span {
      display: block;
      line-height: 16px;
      color: #6c7072
    }

    .my_mp .mp {
      padding-top: 12px;
      font-size: 12px
    }

    .my_mp a:hover .mp_num {
      color: #fff
    }

    .set_btn {
      right: 0
    }

    .set_btn img {
      border-radius: 50%;
      vertical-align: middle;
      display: inline-block;
      background: url(/static/img/menu_icon.png) no-repeat 0 0
    }

    #nav_list {
      display: none;
      z-index: 999;
      width: 140px;
      position: absolute;
      top: 60px;
      right: 0;
      background: #363c41;
      list-style: none
    }

    #nav_list li a {
      border-top: 1px solid #4a5153;
      height: 39px;
      line-height: 39px;
      font-size: 14px;
      background-image: url(/static/img/menu_icon.png?t=10);
      background-repeat: no-repeat;
      display: block;
      color: #fff;
      text-align: left;
      padding: 0;
      padding-left: 47px;
      width: auto
    }

    #nav_list a:hover {
      color: #fff;
      background-color: #4d5559
    }

    #nav_list #my_space {
      padding: 0 18px;
      background-image: none;
      border: 0;
      height: 49px;
      line-height: 49px;
      text-align: center
    }

    #nav_list .my_message {
      background-position: 19px -46px
    }

    #nav_list #my_note {
      background-position: 19px -90px
    }

    #nav_list #my_question {
      background-position: 19px -128px
    }

    #nav_list #my_setting {
      background-position: 19px -167px
    }

    #nav_list #my_logout {
      background-position: 19px -207px
    }

    .myspace_remind {
      width: 10px;
      height: 10px;
      background: url(/static/img/space-remind.png) no-repeat 0 0;
      position: absolute;
      top: 10px;
      right: 10px
    }

    #footer {
      background: #1c1f21;
      border-top: 1px solid #e2e4e6;
      font-size: 12px;
      color: #787d82;
      padding: 27px 0;
      min-width: 620px
    }

    #footer .waper {
      width: auto;
      max-width: 1200px
    }

    #footer .footer_intro {
      padding-left: 40px
    }

    #footer p {
      line-height: 1.7
    }

    .footer_logo {
      display: none;
      float: left;
      background: url(/static/img/common/footer-sprite.png?t=0705) 0 -230px no-repeat;
      height: 40px;
      width: 120px;
      margin: 0 20px
    }

    #footer .des {
      width: 445px
    }

    #footer .followus {
      margin-right: 34px;
      padding-left: 30px
    }

    .followus a {
      float: left;
      position: relative;
      width: 32px;
      height: 32px;
      background-image: url(/static/img/common/footer-sprite.png?t=0705);
      background-repeat: no-repeat;
      margin: 3px 6px 0;
      opacity: .5;
      -webkit-transition: opacity .2s;
      -moz-transition: opacity .2s;
      transition: opacity .2s;
      z-index: 2
    }

    #footer .followus a:hover {
      opacity: 1
    }

    #footer .beian {
      background: url(/static/img/beianicon.png) no-repeat 0 0;
      width: 16px;
      height: 16px;
      vertical-align: middle;
      background-size: cover;
      display: inline-block;
      margin-right: 4px;
      margin-top: -4px
    }

    .flw-weixin-box {
      position: absolute;
      display: none;
      width: 170px;
      height: 220px;
      left: -69px;
      bottom: 35px;
      background: url(/static/img/common/footer-sprite.png?t=0705) no-repeat 0 0
    }

    .followus .followus-weixin {
      background-position: 0 -279px
    }

    .followus-weixin:hover .flw-weixin-box {
      display: block
    }

    .followus .followus-weibo {
      background-position: 0 -321px
    }

    .followus .followus-qzone {
      background-position: 0 -363px
    }

    .friend-links {
      line-height: 60px
    }

    .friend-links a {
      display: inline-block;
      margin-right: 20px
    }

    .friend-links a:hover {
      text-decoration: underline;
      color: #000
    }

    .friend-links dl {
      padding: 0 10px
    }

    .friend-links dd {
      float: left;
      width: 160px
    }

    .footer_link ul {
      overflow: hidden;
      margin-top: -1px
    }

    .footer_link a:active,
    .footer_link a:link,
    .footer_link a:visited {
      color: #c8cdd2
    }

    .footer_link a:hover {
      color: #fff
    }

    #footer .footer_link {
      margin-bottom: 4px;
      line-height: 1.8
    }

    #footer .footer_link li {
      margin-right: 30px;
      text-align: center;
      float: left
    }

    .page {
      margin: 25px 0 auto;
      overflow: hidden;
      clear: both;
      text-align: center
    }

    .page-inner {
      padding: 0 20px
    }

    .page a {
      display: inline-block;
      margin: 0 8px;
      padding: 0 4px;
      min-width: 24px;
      line-height: 32px;
      font-size: 14px;
      color: #4d555d;
      text-align: center;
      border-radius: 16px;
      -webkit-transition: border-color .2s;
      -moz-transition: border-color .2s;
      transition: border-color .2s
    }

    .page a.text-page-tag:hover {
      background: #d9dde1;
      color: #4d555d;
      text-decoration: none
    }

    .page a.text-page-tag.active {
      background: #4d555d;
      color: #fff
    }

    .page span,
    .page-disabled {
      display: inline-block;
      padding: 0 4px;
      min-width: 24px;
      height: 32px;
      line-height: 32px;
      font-size: 14px;
      color: #c8cdd2;
      text-align: center
    }

    .page-first,
    .page-last {
      width: 50px
    }

    .page-next,
    .page-prev {
      width: 70px
    }

    .page .notmargin {
      margin-right: 0
    }

    .bordered {
      border-bottom: solid 1px #d0d6d9
    }

    .panel {
      -webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, .2);
      -moz-box-shadow: 0 2px 4px rgba(0, 0, 0, .2);
      box-shadow: 0 2px 4px rgba(0, 0, 0, .2);
      padding: 0 20px;
      color: #1c1f21;
      background-color: #fff;
      margin-bottom: 20px
    }

    .panel-heading {
      border-bottom: solid 1px #d0d6d9
    }

    .panel-title {
      height: 50px;
      line-height: 50px;
      font-size: 16px
    }

    select {
      margin: 0;
      font-size: 100%;
      cursor: pointer;
      font-weight: 400;
      background-color: #fff;
      border: 1px solid #ccc;
      color: #555;
      display: inline-block;
      font-size: 14px;
      height: 30px;
      line-height: 30px;
      padding: 4px 6px;
      vertical-align: middle
    }

    select:focus {
      outline: thin dotted #333;
      outline: 5px auto -webkit-focus-ring-color;
      outline-offset: -2px
    }

    a.btn-add-collection {
      display: block;
      background: url(/static/img/course/new_add_collection.png) no-repeat 46px top;
      height: 32px;
      color: #909b9e;
      text-align: center;
      line-height: 35px
    }

    a.btn-add-collection:hover {
      background-position: 46px -44px;
      color: #fff
    }

    a.btn-remove-collection {
      background-position: 46px -88px;
      color: #909b9e
    }

    a.btn-remove-collection:hover {
      background-position: 46px -130px
    }

    .course-title .btn-add-collection {
      margin-top: 6px
    }

    .videohead .btn-add-collection {
      margin-top: 20px
    }

    .js-btn-collection .concerned-icon {
      margin-top: 34px;
      display: inline-block
    }

    progress {
      display: inline-block;
      background: #f0f0f0;
      border: 0;
      height: 6px;
      color: #aad94a;
      width: 400px
    }

    progress::-webkit-progress-bar {
      background: #f0f0f0
    }

    progress::-moz-progress-bar {
      background: #aad94a
    }

    progress::-webkit-progress-value {
      background: #aad94a
    }

    .progress {
      background: #f0f0f0;
      height: 6px;
      width: 400px;
      display: inline-block
    }

    .progressBar {
      background: #aad94a;
      height: 6px
    }

    .teacher-icon {
      width: 7px;
      margin-left: 5px;
      position: relative;
      top: 1px
    }

    .lottery {
      position: fixed;
      right: 0;
      top: 50%;
      margin-top: -218px;
      z-index: 4
    }

    .elevator-lottery {
      background: url(/static/img/act/lottery-float.png);
      width: 102px;
      height: 102px;
      background-size: cover;
      display: block
    }

    .elevator {
      position: fixed;
      padding: 0 16px;
      top: 55%;
      margin-top: -140px;
      right: 0;
      z-index: 899;
      background-color: #fff;
      box-shadow: 0 4px 12px 0 rgba(7, 17, 27, .1)
    }

    .elevator a {
      display: block;
      width: 26px;
      padding: 16px 0;
      font-size: 22px;
      line-height: 20px;
      color: #b5b9bc;
      box-sizing: border-box;
      text-align: center;
      border-bottom: 1px solid #edf1f2
    }

    .elevator a:hover {
      color: #14191e
    }

    .elevator a i {
      font-size: 24px;
      color: #d9dde1
    }

    .elevator a i:hover {
      color: #14191e
    }

    .elevator a span {
      display: none;
      font-size: 12px;
      color: #07111b;
      line-height: 14px
    }

    .elevator .no-goto {
      border-bottom: none
    }

    .elevator .elevator-dist i {
      display: inline-block;
      width: 18px;
      height: 20px;
      background: url(/static/img/index/redPacket.png) no-repeat;
      background-size: 100% 100%;
      background-position: top center;
      margin: 2px 0
    }

    .elevator .elevator-app:hover i,
    .elevator .elevator-dist:hover i,
    .elevator .elevator-faq:hover i,
    .elevator .elevator-msg:hover i,
    .elevator .elevator-top:hover i,
    .elevator .elevator-weixin:hover i {
      display: none
    }

    .elevator .elevator-app:hover span,
    .elevator .elevator-dist:hover span,
    .elevator .elevator-faq:hover span,
    .elevator .elevator-msg:hover span,
    .elevator .elevator-top:hover span,
    .elevator .elevator-weixin:hover span {
      display: inline-block
    }

    .elevator .elevator-app-box {
      position: absolute;
      width: 172px;
      height: 212px;
      bottom: -2px;
      right: 56px;
      -webkit-transition: opacity .25s, transform .3s;
      -moz-transition: opacity .25s, transform .3s;
      transition: opacity .25s, transform .3s;
      opacity: 0;
      max-width: 0;
      -webkit-transform: scale(.01);
      -ms-transform: scale(.01);
      transform: scale(.01);
      -webkit-transform-origin: 100% 95%;
      -ms-transform-origin: 100% 95%;
      transform-origin: 100% 95%;
      background: url(/static/img/common/elevator.png?t=0705) no-repeat 0 -220px
    }

    .elevator .elevator-app:hover .elevator-app-box {
      display: block;
      visibility: visible;
      opacity: 1;
      max-width: none;
      -webkit-transform: scale(1);
      -ms-transform: scale(1);
      transform: scale(1)
    }

    .elevator .elevator-weixin-box {
      position: absolute;
      width: 172px;
      height: 212px;
      bottom: -4px;
      right: 56px;
      -webkit-transition: opacity .25s, transform .3s;
      -moz-transition: opacity .25s, transform .3s;
      transition: opacity .25s, transform .3s;
      opacity: 0;
      max-width: 0;
      -webkit-transform: scale(.01);
      -ms-transform: scale(.01);
      transform: scale(.01);
      -webkit-transform-origin: 100% 95%;
      -ms-transform-origin: 100% 95%;
      transform-origin: 100% 95%;
      background: url(/static/img/common/elevator.png?t=0705) no-repeat 0 0
    }

    .elevator .elevator-weixin:hover .elevator-weixin-box {
      display: block;
      visibility: visible;
      opacity: 1;
      max-width: none;
      -webkit-transform: scale(1);
      -ms-transform: scale(1);
      transform: scale(1)
    }

    a {
      outline: 0
    }

    a:active {
      star: expression(this.onFocus=this.blur())
    }

    a,
    button,
    input {
      outline: 0
    }

    button::-moz-focus-inner {
      border: 0
    }

    input::-moz-focus-inner {
      border: 0
    }

    .autowrap {
      word-wrap: break-word;
      word-break: break-all
    }

    .compatible-contianer {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      min-width: 800px;
      height: 30px;
      line-height: 30px;
      background: url(/static/img/iebg.gif) repeat-x;
      z-index: 999999
    }

    .cpt-ct {
      color: #363636;
      font-size: 12px;
      text-align: center
    }

    .cpt-ct i {
      display: inline-block;
      width: 12px;
      height: 14px;
      vertical-align: -2px;
      margin-right: 5px;
      background: url(/static/img/iefixed-sprite.png) no-repeat 0 0
    }

    .cpt-ct a {
      color: #39b94e
    }

    .cpt-ct a:hover {
      text-decoration: underline
    }

    .cpt-handle {
      position: absolute;
      right: 20px;
      top: 0;
      font-size: 12px;
      line-height: 27px
    }

    .cpt-handle a {
      display: inline-block;
      vertical-align: middle
    }

    .cpt-handle .cpt-agin {
      color: #656e73;
      margin-right: 5px
    }

    .cpt-handle .cpt-agin:hover {
      color: #363d40
    }

    .cpt-close {
      width: 16px;
      height: 16px;
      text-align: center;
      line-height: 16px;
      border-radius: 50%;
      transition: .3s
    }

    .cpt-close:hover {
      background-color: #fc8800
    }

    .cpt-close i {
      display: inline-block;
      height: 8px;
      width: 8px;
      vertical-align: 1px;
      background: url(/static/img/iefixed-sprite.png) no-repeat 0 -24px
    }

    .cpt-close:hover i {
      background-position: 0 -42px
    }

    .layer-usercard {
      position: absolute;
      z-index: 999;
      width: 370px;
      height: 165px;
      background: #fff;
      box-shadow: 0 2px 2px #999
    }

    .layer-usercard .arrow {
      position: absolute;
      left: 65px;
      top: -11px;
      width: 19px;
      height: 11px;
      background: url(/static/img/dot_usercard.png)
    }

    .layer-usercard-header {
      height: 110px;
      background: #2a2c2e
    }

    .layer-usercard-header .avatar img {
      border-radius: 50px;
      left: 21px;
      position: absolute;
      top: 21px;
      border: 3px solid #7f8082
    }

    .layer-usercard-header dd,
    .layer-usercard-header dt {
      float: right;
      width: 245px;
      padding-right: 20px;
      color: #fff
    }

    .layer-usercard-header dt {
      padding-top: 20px;
      font-size: 18px
    }

    .layer-usercard-header dd {
      font-size: 12px
    }

    .layer-usercard-info ul {
      overflow: hidden;
      padding-top: 16px;
      height: 32px;
      font-size: 16px;
      color: #364247;
      position: relative
    }

    .layer-usercard-info li {
      float: left;
      padding: 0 22px;
      border-right: 1px solid #d9d9d9
    }

    .layer-usercard-info span {
      color: #969b9e;
      font-size: 12px
    }

    .layer-usercard-info li.noborder {
      border: 0
    }

    li.layer-usercard-medal {
      padding: 0;
      top: 12px;
      right: 10px;
      width: 117px;
      position: absolute;
      border: 0
    }

    .layer-usercard-medal a {
      width: 32px;
      height: 32px;
      float: left;
      margin-right: 5px;
      border-radius: 1px;
      overflow: hidden
    }

    .ipt {
      color: #1c1f21;
      background-color: #fff;
      border: 1px solid #98a1a6;
      height: 20px;
      padding: 9px 9px;
      font-size: 14px;
      line-height: 20px;
      border-radius: 0;
      -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
      -moz-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
      transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
      border-color: #98a1a6;
      -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
      -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
      box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075)
    }

    select.ipt {
      height: 20px;
      line-height: 20px
    }

    select[multiple].ipt,
    textarea.ipt {
      height: auto
    }

    .ipt:-moz-placeholder {
      color: #c8cdd2
    }

    .ipt::-moz-placeholder {
      color: #c8cdd2;
      opacity: 1
    }

    .ipt:-ms-input-placeholder {
      color: #c8cdd2
    }

    .ipt::-webkit-input-placeholder {
      color: #c8cdd2
    }

    .ipt.placeholder {
      color: #c8cdd2
    }

    .ipt:focus {
      border-color: #1c1f21;
      outline: 0;
      -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(28, 31, 33, .4);
      -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(28, 31, 33, .4);
      box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(28, 31, 33, .4)
    }

    .ipt.disabled,
    .ipt[disabled],
    .ipt[readonly] {
      cursor: default;
      background-color: #edf1f2;
      opacity: 1
    }

    textarea.ipt {
      height: auto
    }

    .ipt-error {
      color: #ec1500;
      border-color: #ec1500;
      -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
      -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
      box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075)
    }

    .ipt-error:focus {
      border-color: #ec1500;
      outline: 0;
      -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(236, 21, 0, .4);
      -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(236, 21, 0, .4);
      box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(236, 21, 0, .4)
    }

    .btn {
      display: inline-block;
      margin-bottom: 0;
      font-weight: 200;
      text-align: center;
      vertical-align: middle;
      touch-action: manipulation;
      cursor: pointer;
      text-decoration: none;
      box-sizing: content-box;
      background-image: none;
      border: 1px solid transparent;
      -webkit-appearance: none;
      white-space: nowrap;
      outline: 0;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none
    }

    .btn.focus,
    .btn:focus,
    .btn:hover {
      color: #fff;
      text-decoration: none
    }

    .btn.active,
    .btn:active {
      outline: 0;
      background-image: none
    }

    .btn.disabled,
    .btn[disabled],
    fieldset[disabled] .btn {
      pointer-events: none;
      opacity: .65;
      box-shadow: none
    }

    .btn-red {
      color: #fff;
      background-color: #ec1500;
      border-color: #ec1500;
      border-style: solid;
      border-width: 1px;
      cursor: pointer;
      -weibkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      width: 138px;
      height: 38px;
      line-height: 38px;
      font-size: 14px
    }

    .btn-red:link,
    .btn-red:visited {
      color: #fff
    }

    .btn-red.focus,
    .btn-red:focus,
    .btn-red:hover {
      color: #fff;
      background-color: #ff2611;
      border-color: #ff2611
    }

    .btn-red.active,
    .btn-red:active {
      background-color: #d31300;
      border-color: #d31300
    }

    .btn-red.disabled,
    .btn-red.disabled.active,
    .btn-red.disabled.focus,
    .btn-red.disabled:active,
    .btn-red.disabled:focus,
    .btn-red.disabled:hover,
    .btn-red[disabled],
    .btn-red[disabled].active,
    .btn-red[disabled].focus,
    .btn-red[disabled]:active,
    .btn-red[disabled]:focus,
    .btn-red[disabled]:hover {
      cursor: default;
      box-shadow: none;
      background-color: #ec1500;
      border-color: #ec1500
    }

    .btn-blue {
      color: #fff;
      background-color: #1481b8;
      border-color: #1481b8;
      border-style: solid;
      border-width: 1px;
      cursor: pointer;
      -weibkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      width: 138px;
      height: 38px;
      line-height: 38px;
      font-size: 14px
    }

    .btn-blue:link,
    .btn-blue:visited {
      color: #fff
    }

    .btn-blue.focus,
    .btn-blue:focus,
    .btn-blue:hover {
      color: #fff;
      background-color: #1898d8;
      border-color: #1898d8
    }

    .btn-blue.active,
    .btn-blue:active {
      background-color: #1271a1;
      border-color: #1271a1
    }

    .btn-blue.disabled,
    .btn-blue.disabled.active,
    .btn-blue.disabled.focus,
    .btn-blue.disabled:active,
    .btn-blue.disabled:focus,
    .btn-blue.disabled:hover,
    .btn-blue[disabled],
    .btn-blue[disabled].active,
    .btn-blue[disabled].focus,
    .btn-blue[disabled]:active,
    .btn-blue[disabled]:focus,
    .btn-blue[disabled]:hover {
      cursor: default;
      box-shadow: none;
      background-color: #1481b8;
      border-color: #1481b8
    }

    .btn-green {
      color: #fff;
      background-color: #17823b;
      border-color: #17823b;
      border-style: solid;
      border-width: 1px;
      cursor: pointer;
      -weibkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      width: 138px;
      height: 38px;
      line-height: 38px;
      font-size: 14px
    }

    .btn-green:link,
    .btn-green:visited {
      color: #fff
    }

    .btn-green.focus,
    .btn-green:focus,
    .btn-green:hover {
      color: #fff;
      background-color: #1ca048;
      border-color: #1ca048
    }

    .btn-green.active,
    .btn-green:active {
      background-color: #136c31;
      border-color: #136c31
    }

    .btn-green.disabled,
    .btn-green.disabled.active,
    .btn-green.disabled.focus,
    .btn-green.disabled:active,
    .btn-green.disabled:focus,
    .btn-green.disabled:hover,
    .btn-green[disabled],
    .btn-green[disabled].active,
    .btn-green[disabled].focus,
    .btn-green[disabled]:active,
    .btn-green[disabled]:focus,
    .btn-green[disabled]:hover {
      cursor: default;
      box-shadow: none;
      background-color: #17823b;
      border-color: #17823b
    }

    .btn-normal {
      color: #787d82;
      background-color: #fff;
      border-color: #d0d6d9;
      border-style: solid;
      border-width: 1px;
      cursor: pointer;
      -weibkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      width: 138px;
      height: 38px;
      line-height: 38px;
      font-size: 14px
    }

    .btn-normal:link,
    .btn-normal:visited {
      color: #787d82
    }

    .btn-normal.focus,
    .btn-normal:focus,
    .btn-normal:hover {
      color: #787d82;
      background-color: #edf1f2;
      border-color: #98a1a6
    }

    .btn-normal.active,
    .btn-normal:active {
      background-color: #f2f2f2;
      border-color: #c2cace
    }

    .btn-normal.disabled,
    .btn-normal.disabled.active,
    .btn-normal.disabled.focus,
    .btn-normal.disabled:active,
    .btn-normal.disabled:focus,
    .btn-normal.disabled:hover,
    .btn-normal[disabled],
    .btn-normal[disabled].active,
    .btn-normal[disabled].focus,
    .btn-normal[disabled]:active,
    .btn-normal[disabled]:focus,
    .btn-normal[disabled]:hover {
      cursor: default;
      box-shadow: none;
      background-color: #fff;
      border-color: #d0d6d9
    }

    .btn-sm {
      width: 78px;
      height: 28px;
      line-height: 28px;
      font-size: 12px
    }

    .send-area-result {
      background: #fff;
      box-shadow: 0 0 8px rgba(0, 0, 0, .4);
      -moz-box-shadow: 0 0 8px rgba(0, 0, 0, .4);
      -webkit-box-shadow: 0 0 8px rgba(0, 0, 0, .4);
      position: absolute;
      top: 58px;
      left: 0;
      width: inherit
    }

    .send-area-result dt {
      font-size: 12px;
      color: #c8cdd2;
      line-height: 40px;
      height: 40px;
      padding: 0 10px
    }

    .send-area-result dd {
      height: 40px;
      line-height: 40px
    }

    .send-area-result dd a.questiontitle {
      border: none;
      font-size: 14px;
      color: #787d82;
      width: inherit;
      text-align: left;
      height: 40px;
      line-height: 40px;
      padding: 0 10px;
      display: block
    }

    .oncurr {
      color: #14191e;
      background: #edf1f2
    }

    .send-area-result dd a.questiontitle em,
    .send-area-result dd a.questiontitle i {
      font-style: normal;
      font-size: 12px;
      margin-left: 10px
    }

    .send-area-result dd a.questiontitle em {
      color: #c8cdd2
    }

    .send-area-result dd a.questiontitle i {
      color: #00b33b
    }

    .visible-xs-block {
      display: none
    }

    @media screen and (max-width:1479px) {
      .search-warp {
        margin-left: 10px !important
      }

      .search-area {
        width: 300px
      }

      .search-area .search-input {
        padding: 8px 4px
      }

      .search-area a.last {
        margin-right: 0
      }

      .nav-item li {
        transition: .3s;
        margin: 0
      }

      .nav-item li>a {
        padding: 0 10px !important
      }
    }

    @media screen and (max-width:1366px) {
      #header .logo {
        margin: 0 0
      }

      .searchTags {
        display: none !important
      }
    }

    @media screen and (max-width:1270px) {
      .nav-item li {
        transition: .3s;
        margin: 0
      }

      .nav-item li>a {
        padding: 0 5px !important
      }

      #footer .followus {
        padding-left: 0
      }

      #footer .footer_link li {
        margin-right: 10px
      }
    }

    @media screen and (max-width:1200px) {
      .fix-header .search-area {
        width: 250px
      }
    }

    @media screen and (max-width:1140px) {
      .fix-header .search-warp {
        display: none
      }
    }

    @media screen and (max-width:979px) {
      #logo {
        margin-left: 0
      }

      #logo a {
        width: 130px
      }

      .nav-item li>a {
        padding: 0 15px
      }

      .logined li>a,
      .remind_warp {
        width: 50px
      }

      .msg_icon {
        left: 30px
      }

      .remind_warp .msg_remind {
        right: 5px
      }

      .header-app {
        display: none
      }

      .header-signin a {
        width: 50px
      }

      #footer {
        text-align: center
      }

      #footer .followus {
        float: none;
        padding: 0;
        margin-bottom: 8px
      }

      #footer .followus a {
        float: none;
        display: inline-block
      }

      #footer .footer_intro {
        float: none;
        padding-left: 0
      }

      #footer .footer_link li {
        float: none;
        display: inline-block;
        margin-right: 16px
      }
    }

    @media screen and (max-width:767px) {
      #nav {
        padding: 0 15px
      }

      #logo {
        margin-left: 0
      }

      #logo a {
        width: 120px
      }

      .elevator,
      .wd-scroll {
        display: none
      }

      .visible-xs-block {
        display: block
      }

      #login-area,
      .search-warp {
        display: none
      }

      #footer {
        display: none
      }

      html.holding {
        height: 100%;
        overflow: hidden
      }

      body:after {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        z-index: 1000;
        content: " ";
        display: block;
        background: #000;
        opacity: 0;
        -webkit-transition: all .3s ease;
        transition: all .3s ease;
        visibility: hidden
      }

      body.slide-left {
        -webkit-transform: translate(-130px, 0);
        -ms-transform: translate(-130px, 0);
        transform: translate(-130px, 0);
        margin-right: -130px;
        padding-right: 130px;
        height: 100%;
        overflow: hidden
      }

      body.slide-left:after {
        left: -130px;
        visibility: visible;
        opacity: .3;
        z-index: 1002
      }

      footer {
        display: none
      }

      .navbar-toggle {
        position: relative;
        float: right;
        border: 0;
        color: #fff;
        margin-top: 10px;
        margin-right: -5px;
        outline: 0;
        padding: 5px 10px
      }

      .navbar-toggle,
      .navbar-toggle:focus,
      .navbar-toggle:hover {
        background: 0 0
      }

      .navbar-toggle .icon-menu {
        color: #fff;
        font-size: 32px
      }

      body.slide-left .nav-item {
        display: block
      }
    }

    .lotterycomer {
      width: 100%;
      height: 50px;
      background-image: url(/static/img/act/lottery-top-02.png);
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      display: block;
      cursor: pointer;
      position: relative;
      z-index: 9999
    }

    .lotterycomer.hide {
      display: none !important
    }

    .newcomer {
      width: 100%;
      height: 136px;
      position: fixed;
      left: 0;
      bottom: 0;
      z-index: 999;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat
    }

    .newcomer i {
      position: absolute;
      right: 20px;
      bottom: 48px;
      font-size: 20px;
      color: rgba(255, 255, 255, .6)
    }

    .newcomer i:hover {
      color: #fff
    }

    .lottery {
      position: fixed;
      right: 0;
      top: 50%;
      margin-top: -218px;
      z-index: 4
    }

    .elevator-lottery {
      background: url(/static/img/act/lottery-float.png);
      width: 102px;
      height: 102px;
      background-size: cover;
      display: block
    }

    .elevator-lottery i {
      float: right;
      color: #fff;
      margin: 3px
    }

    .newcomer_mask {
      position: fixed;
      z-index: 998;
      width: 100%;
      height: 100%;
      left: 0;
      bottom: 0;
      background: rgba(7, 17, 27, .6)
    }

    .newcomer_modal {
      position: fixed;
      z-index: 999;
      left: 50%;
      margin-left: -198px;
      top: 50%;
      margin-top: -190px;
      width: 396px;
      height: 390px;
      background: #fff;
      box-shadow: 0 8px 16px 0 rgba(28, 31, 33, .2);
      border-radius: 12px;
      background-image: url(/static/img/newcomer_bg.png);
      background-repeat: no-repeat;
      background-size: 100% 360px
    }

    .newcomer_modal .get-btn {
      width: 320px;
      height: 48px;
      margin: 0 auto;
      margin-top: 280px;
      margin-bottom: 16px;
      font-weight: 700;
      font-size: 16px;
      color: #fff;
      text-align: center;
      line-height: 48px;
      cursor: pointer;
      background-image: linear-gradient(-135deg, #f9662d 0, #f01414 100%);
      border-radius: 24px
    }

    .newcomer_modal .next-time {
      font-size: 14px;
      color: #9199a1;
      line-height: 22px;
      text-align: center;
      cursor: pointer
    }

    .newcomer_modal .next-time:hover {
      color: #545c63
    }

    #septemberSchool {
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(7, 17, 27, .6)
    }

    #septemberSchool .popup_box {
      position: fixed;
      color: #fff;
      width: 530px;
      height: 348px;
      background: url(/static/img/septemberSchool_bg.png);
      left: 50%;
      top: 50%;
      margin-left: -245px;
      margin-top: -210px
    }

    #septemberSchool .popup_box .imv2-close {
      position: absolute;
      top: 0;
      right: 0;
      font-size: 30px;
      cursor: pointer
    }

    #septemberSchool .popup_box .inner_text {
      position: relative;
      margin: 90px 97px;
      width: 296px;
      height: 162px;
      text-align: center
    }

    #septemberSchool .popup_box .inner_text h1 {
      font-size: 32px;
      line-height: 32px;
      font-weight: 600
    }

    #septemberSchool .popup_box .inner_text h2 {
      font-size: 20px;
      line-height: 32px;
      font-weight: 600;
      margin-top: 6px
    }

    #septemberSchool .popup_box .inner_text h4 {
      font-size: 18px;
      line-height: 49px;
      margin-top: 6px
    }

    #septemberSchool .popup_box .inner_text h3 {
      font-size: 18px;
      font-weight: 600;
      margin-top: 6px;
      line-height: 18px;
      margin-bottom: 9px
    }

    #septemberSchool .popup_box .inner_text .clock {
      text-align: center;
      width: 100%;
      height: 48px;
      padding: 7px 0;
      box-sizing: border-box;
      font-size: 20px;
      display: block;
      position: absolute;
      bottom: -48px;
      left: 0
    }

    #septemberSchool .popup_box .inner_text .clock span {
      display: inline-block;
      font-size: 22px;
      color: #383d42;
      background: #fff;
      width: 34px;
      height: 34px;
      line-height: 34px;
      border-radius: 4px;
      margin: 0 6px
    }

    #septemberSchool .popup_box .inner_text .get-btn {
      display: inline-block;
      background-image: linear-gradient(270deg, #fac200 0, #f28f00 100%);
      border-radius: 26px;
      font-size: 20px;
      color: #fff;
      line-height: 20px;
      padding: 12px 34px;
      position: absolute;
      bottom: -166px;
      left: 50%;
      margin-left: -74px
    }

    #septemberSchool_finish {
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(7, 17, 27, .6)
    }

    #septemberSchool_finish .popup_box {
      position: fixed;
      width: 900px;
      height: 450px;
      left: 50%;
      top: 50%;
      margin-left: -450px;
      margin-top: -225px;
      padding: 24px 22px;
      background: #fff;
      border: 1px solid #979797;
      box-shadow: 0 8px 16px 0 rgba(28, 31, 33, .2);
      border-radius: 12px;
      box-sizing: border-box
    }

    #septemberSchool_finish .popup_box .imv2-close {
      position: absolute;
      top: 24px;
      right: 32px;
      font-size: 24px;
      color: #b2b8bd;
      cursor: pointer
    }

    #septemberSchool_finish .popup_box .imv2-close:hover {
      color: #6d6d6d
    }

    #septemberSchool_finish .popup_box .title {
      font-size: 16px;
      color: #1c1f21;
      text-align: center;
      line-height: 24px;
      font-weight: 600
    }

    #septemberSchool_finish .popup_box .content {
      display: flex;
      justify-content: flex-start;
      flex-direction: row;
      margin-top: 32px
    }

    #septemberSchool_finish .popup_box .content .item {
      height: 318px;
      border-radius: 12px
    }

    #septemberSchool_finish .popup_box .content .item.coupon-box {
      width: 251px;
      background: #f2f2f2;
      margin-left: 24px;
      overflow: hidden
    }

    #septemberSchool_finish .popup_box .content .item.coupon-box h3 {
      font-size: 14px;
      color: #fff;
      line-height: 18px;
      padding: 14px 0;
      text-align: center
    }

    #septemberSchool_finish .popup_box .content .item.coupon-box h3.cc {
      background: #f53d3d
    }

    #septemberSchool_finish .popup_box .content .item.coupon-box h3.read {
      background: #37f
    }

    #septemberSchool_finish .popup_box .content .item.coupon-box .coupon {
      display: block;
      width: 214px;
      height: 106px;
      margin: 16px auto;
      background-size: contain;
      background-position: center
    }

    #septemberSchool_finish .popup_box .content .item.coupon-box .coupon.a,
    #septemberSchool_finish .popup_box .content .item.coupon-box .coupon.b {
      background-image: url(/static/img/september_coupon_bg1.png)
    }

    #septemberSchool_finish .popup_box .content .item.coupon-box .coupon.c,
    #septemberSchool_finish .popup_box .content .item.coupon-box .coupon.d {
      background-image: url(/static/img/september_coupon_bg2.png)
    }

    #septemberSchool_finish .popup_box .content .item.intro {
      margin-left: 36px
    }

    #septemberSchool_finish .popup_box .content .item.intro .text {
      margin-top: 50px;
      margin-bottom: 36px
    }

    #septemberSchool_finish .popup_box .content .item.intro .text h3 {
      font-size: 14px;
      color: #545c63;
      line-height: 20px;
      font-weight: 600
    }

    #septemberSchool_finish .popup_box .content .item.intro .text p {
      font-size: 12px;
      color: #545c63;
      line-height: 20px;
      margin-top: 20px
    }

    #septemberSchool_finish .popup_box .content .item.intro .sep-coupon-btn {
      display: inline-block;
      width: 126px;
      height: 36px;
      font-size: 14px;
      color: #fff;
      line-height: 35px;
      background: #383d42;
      border-radius: 26px;
      text-align: center
    }

    #septemberSchool_finish .popup_box .content .item.intro .sep-coupon-btn:last-child {
      margin-left: 12px
    }

    @media screen and (max-width:480px) {

      .elevator,
      .wd-scroll {
        display: none
      }
    }

    @font-face {
      font-family: icomoon;
      src: url(/static/fonts/icomoon/fonts/icomoon.eot?d8493nx);
      src: url(/static/fonts/icomoon/fonts/icomoon.eot?d8493nx#iefix) format('embedded-opentype'), url(/static/fonts/icomoon/fonts/icomoon.ttf?d8493nx) format('truetype'), url(/static/fonts/icomoon/fonts/icomoon.woff?d8493nx) format('woff'), url(/static/fonts/icomoon/fonts/icomoon.svg?d8493nx#icomoon) format('svg');
      font-weight: 400;
      font-style: normal
    }

    [class*=" icon-"],
    [class^=icon-] {
      font-family: icomoon;
      speak: none;
      font-style: normal;
      font-weight: 400;
      font-variant: normal;
      text-transform: none;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale
    }

    .icon-score_shop:before {
      content: "\e927"
    }

    .icon-receipt:before {
      content: "\e928"
    }

    .icon-set_key:before {
      content: "\e922"
    }

    .icon-set_sns:before {
      content: "\e923"
    }

    .icon-set_phone:before {
      content: "\e924"
    }

    .icon-set_email:before {
      content: "\e925"
    }

    .icon-remove_circle:before {
      content: "\e921"
    }

    .icon-set2:before {
      content: "\e920"
    }

    .icon-share2:before {
      content: "\e91f"
    }

    .icon-thumb_o:before {
      content: "\e91e"
    }

    .icon-check:before {
      content: "\e91d"
    }

    .icon-radiobu_on:before {
      content: "\e919"
    }

    .icon-radiobut_off:before {
      content: "\e91a"
    }

    .icon-checkbox_o:before {
      content: "\e91b"
    }

    .icon-checkbox:before {
      content: "\e91c"
    }

    .icon-group_add:before {
      content: "\e918"
    }

    .icon-exp_o:before {
      content: "\e917"
    }

    .icon-left3:before {
      content: "\e90a"
    }

    .icon-godown:before {
      content: "\e910"
    }

    .icon-goup:before {
      content: "\e912"
    }

    .icon-notifi:before {
      content: "\e909"
    }

    .icon-del:before {
      content: "\e60f"
    }

    .icon-edit:before {
      content: "\e60b"
    }

    .icon-drop_left:before {
      content: "\e915"
    }

    .icon-drop_right:before {
      content: "\e90b"
    }

    .icon-drop_up:before {
      content: "\e916"
    }

    .icon-drop_down:before {
      content: "\e90c"
    }

    .icon-notdisplay:before {
      content: "\e90d"
    }

    .icon-wiki:before {
      content: "\e608"
    }

    .icon-blog:before {
      content: "\e90e"
    }

    .icon-yuanwen:before {
      content: "\e90f"
    }

    .icon-plan:before {
      content: "\e609"
    }

    .icon-shizhan:before {
      content: "\e911"
    }

    .icon-tick:before {
      content: "\e600"
    }

    .icon-left2:before {
      content: "\e913"
    }

    .icon-right2:before {
      content: "\e914"
    }

    .icon-down2:before {
      content: "\e903"
    }

    .icon-up2:before {
      content: "\e904"
    }

    .icon-flag2:before {
      content: "\e902"
    }

    .icon-close2:before {
      content: "\e905"
    }

    .icon-star_outline:before {
      content: "\e901"
    }

    .icon-star2:before {
      content: "\e900"
    }

    .icon-show-pw:before {
      content: "\e648"
    }

    .icon-share-weibo:before {
      content: "\e645"
    }

    .icon-share-weichat:before {
      content: "\e646"
    }

    .icon-share-qq:before {
      content: "\e647"
    }

    .icon-home:before {
      content: "\e601"
    }

    .icon-clock:before {
      content: "\e602"
    }

    .icon-chat:before {
      content: "\e603"
    }

    .icon-msg:before {
      content: "\e604"
    }

    .icon-resp:before {
      content: "\e605"
    }

    .icon-addques:before {
      content: "\e606"
    }

    .icon-user:before {
      content: "\e607"
    }

    .icon-note:before {
      content: "\e60a"
    }

    .icon-share:before {
      content: "\e60c"
    }

    .icon-set:before {
      content: "\e60d"
    }

    .icon-camera:before {
      content: "\e60e"
    }

    .icon-search:before {
      content: "\e610"
    }

    .icon-key:before {
      content: "\e611"
    }

    .icon-smail:before {
      content: "\e613"
    }

    .icon-point:before {
      content: "\e614"
    }

    .icon-ques:before {
      content: "\e615"
    }

    .icon-tick2:before {
      content: "\e616"
    }

    .icon-chapter:before {
      content: "\e617"
    }

    .icon-mobile:before {
      content: "\e618"
    }

    .icon-gotop:before {
      content: "\e619"
    }

    .icon-statistic:before {
      content: "\e61a"
    }

    .icon-code:before {
      content: "\e61b"
    }

    .icon-video:before {
      content: "\e61c"
    }

    .icon-test:before {
      content: "\e61d"
    }

    .icon-menu:before {
      content: "\e61e"
    }

    .icon-plus:before {
      content: "\e61f"
    }

    .icon-sub:before {
      content: "\e620"
    }

    .icon-close:before {
      content: "\e621"
    }

    .icon-down:before {
      content: "\e622"
    }

    .icon-left:before {
      content: "\e623"
    }

    .icon-top:before {
      content: "\e624"
    }

    .icon-right:before {
      content: "\e625"
    }

    .icon-exit:before {
      content: "\e626"
    }

    .icon-refresh:before {
      content: "\e627"
    }

    .icon-again:before {
      content: "\e628"
    }

    .icon-bell:before {
      content: "\e629"
    }

    .icon-nobell:before {
      content: "\e62a"
    }

    .icon-nolearn:before {
      content: "\e62b"
    }

    .icon-half:before {
      content: "\e62c"
    }

    .icon-full:before {
      content: "\e62d"
    }

    .icon-info:before {
      content: "\e926"
    }

    .icon-point-revert:before {
      content: "\e62e"
    }

    .icon-ques-revert:before {
      content: "\e62f"
    }

    .icon-tick-revert:before {
      content: "\e630"
    }

    .icon-flag:before {
      content: "\e631"
    }

    .icon-msg-revert:before {
      content: "\e632"
    }

    .icon-ad:before {
      content: "\e633"
    }

    .icon-imooc:before {
      content: "\e634"
    }

    .icon-thumb:before {
      content: "\e635"
    }

    .icon-thumb-revert:before {
      content: "\e636"
    }

    .icon-star:before {
      content: "\e637"
    }

    .icon-star-revert:before {
      content: "\e638"
    }

    .icon-heart:before {
      content: "\e639"
    }

    .icon-heart-revert:before {
      content: "\e63a"
    }

    .icon-qq:before {
      content: "\e63b"
    }

    .icon-weibo:before {
      content: "\e63c"
    }

    .icon-qqweibo:before {
      content: "\e63d"
    }

    .icon-weixin:before {
      content: "\e63e"
    }

    .icon-folder:before {
      content: "\e63f"
    }

    .icon-jian:before {
      content: "\e640"
    }

    .icon-ding:before {
      content: "\e641"
    }

    .icon-you:before {
      content: "\e642"
    }

    .icon-apple:before {
      content: "\e643"
    }

    .icon-android:before {
      content: "\e644"
    }

    .icon-mail:before {
      content: "\e612"
    }

    .icon-wxgzh:before {
      content: "\e907"
    }

    .icon-appdownload:before {
      content: "\e908"
    }

    .icon-feedback:before {
      content: "\e906"
    }

    .icon-shopping-cart:before {
      content: "\e929"
    }

    .icon-ques:before {
      content: "\e615"
    }

    .icon-down:before {
      content: "\e622"
    }

    .icon-left:before {
      content: "\e623"
    }

    .icon-top:before {
      content: "\e624"
    }

    .icon-right:before {
      content: "\e625"
    }

    @font-face {
      font-family: DINCond-M;
      src: url(/static/fonts/DINCondm/DINCOND-MEDIUM.otf);
      font-weight: 400;
      font-style: normal
    }

    .transition {
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    #sub-header {
      width: 100%;
      height: 60px;
      background: #fff;
      box-shadow: 0 8px 16px 0 rgba(28, 31, 33, .1)
    }

    #sub-header .sub-container {
      max-width: 1088px;
      height: 100%;
      margin: 0 auto
    }

    #sub-header .sub-container .search-article {
      position: relative;
      width: 480px;
      height: 36px;
      background: #f3f5f6;
      border-radius: 8px;
      padding-right: 56px;
      margin: 12px;
      float: right;
      overflow: hidden
    }

    #sub-header .sub-container .search-article input.search-input {
      width: 100%;
      height: 36px;
      line-height: 20px;
      padding: 8px 16px;
      font-size: 14px;
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input::-webkit-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input::-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input:-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input:-ms-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article .search-btn {
      position: absolute;
      right: 0;
      top: 0;
      font-size: 24px;
      color: #9199a1;
      line-height: 24px;
      padding: 6px 16px
    }

    #sub-header .sub-container .search-warp {
      float: right;
      width: 480px;
      height: 36px;
      background: #f3f5f6;
      border-radius: 8px;
      padding-right: 56px;
      margin: 12px;
      box-sizing: border-box
    }

    #sub-header .sub-container .search-warp.search-active {
      box-shadow: 5px 5px 6px #e6e6e6
    }

    #sub-header .sub-container .search-warp.search-active .showhide-search {
      background: 0 0
    }

    #sub-header .sub-container .search-warp.search-active .showhide-search i {
      color: #37f
    }

    #sub-header .sub-container .search-warp .searchTags {
      bottom: 6px;
      right: 60px
    }

    #sub-header .sub-container .search-warp .searchTags a {
      color: #fff;
      background-color: rgba(0, 0, 0, .6)
    }

    #sub-header .sub-container .search-warp .search-area {
      width: 100% !important;
      height: 36px;
      background: #f3f5f6;
      font-size: 14px;
      color: #9199a1;
      padding: 0;
      margin: 0;
      border-radius: inherit
    }

    #sub-header .sub-container .search-warp .search-area.suggest-active {
      border: 0
    }

    #sub-header .sub-container .search-warp .search-area input.search-input {
      width: 100%;
      height: 36px;
      line-height: 20px;
      padding: 8px 16px;
      font-size: 14px;
      color: #9199a1;
      border-radius: inherit
    }

    #sub-header .sub-container .search-warp .search-area input.search-input::-webkit-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area input.search-input::-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area input.search-input:-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area input.search-input:-ms-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area .search-area-result {
      top: 48px
    }

    #sub-header .sub-container .search-warp .showhide-search {
      position: absolute;
      right: 0;
      top: 0;
      font-size: 24px;
      color: #9199a1;
      line-height: 24px;
      padding: 6px 16px;
      border-radius: 0
    }

    #sub-header .sub-container .search-warp .showhide-search:active,
    #sub-header .sub-container .search-warp .showhide-search:focus,
    #sub-header .sub-container .search-warp .showhide-search:hover {
      background: 0 0
    }

    #sub-header .sub-container .search-warp .showhide-search:active i,
    #sub-header .sub-container .search-warp .showhide-search:focus i,
    #sub-header .sub-container .search-warp .showhide-search:hover i {
      color: #37f
    }

    #sub-header .sub-container .operate-area {
      float: right
    }

    #sub-header .sub-container .operate-area span {
      display: inline-block;
      position: relative
    }

    #sub-header .sub-container .operate-area span .btn {
      width: 90px;
      height: 36px;
      line-height: 18px;
      padding: 8px 24px;
      margin: 12px 0;
      color: #fff;
      font-size: 14px;
      border-radius: 24px;
      box-sizing: border-box
    }

    #sub-header .sub-container .operate-area span .btn.btn-blue {
      background: #37f
    }

    #sub-header .sub-container .operate-area span .btn.btn-discovery {
      background: #383d42;
      margin-left: 13px;
      position: relative
    }

    #sub-header .sub-container .operate-area span .btn.btn-discovery+.count {
      height: 16px;
      line-height: 14px;
      position: absolute;
      right: -5px;
      top: 7px;
      color: #fff;
      font-size: 12px;
      background: #f20d0d;
      padding: 0 5px 0 4px;
      border: 1px solid #fff;
      border-radius: 8px;
      box-sizing: border-box
    }

    #sub-header .sub-container.discovery {
      width: 682px
    }

    #sub-header .sub-container.discovery a.discovery-logo {
      display: inline-block;
      padding: 12px 0
    }

    #sub-header .sub-container.discovery a.discovery-logo i {
      width: 36px;
      height: 36px;
      font-size: 18px;
      color: #fff;
      line-height: 18px;
      padding: 9px;
      background: #383d42;
      border-radius: 50%;
      margin-right: 12px
    }

    #sub-header .sub-container.discovery a.discovery-logo span {
      font-size: 20px;
      color: #1c1f21;
      line-height: 36px;
      font-weight: 600
    }

    #sub-header .sub-container.discovery ul {
      display: inline-block;
      margin-left: 160px
    }

    #sub-header .sub-container.discovery ul li {
      float: left
    }

    #sub-header .sub-container.discovery ul li.follow a {
      cursor: pointer
    }

    #sub-header .sub-container.discovery ul li a {
      display: inline-block;
      height: 40px;
      line-height: 40px;
      margin: 10px 24px;
      font-size: 16px;
      color: #545c63;
      font-weight: 600;
      position: relative
    }

    #sub-header .sub-container.discovery ul li a:after {
      content: "";
      display: block;
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      border-radius: 25%;
      transform: scaleX(0);
      background-color: #37f;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    #sub-header .sub-container.discovery ul li a.active,
    #sub-header .sub-container.discovery ul li a:hover {
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s;
      color: #37f
    }

    #sub-header .sub-container.discovery ul li a.active:after,
    #sub-header .sub-container.discovery ul li a:hover:after {
      transform: scaleX(.6)
    }

    .article.container {
      width: 1088px;
      padding-top: 24px
    }

    .article.container .centerlist {
      position: relative
    }

    .article.container .centerlist .article_tip {
      display: none;
      position: absolute;
      width: 288px;
      height: 144px;
      background: #2b333b;
      box-shadow: 0 8px 16px 0 rgba(7, 17, 27, .2);
      border-radius: 8px
    }

    .article.container .centerlist .article_tip>div {
      position: relative;
      width: 288px;
      height: 144px;
      padding: 24px;
      box-sizing: border-box
    }

    .article.container .centerlist .article_tip>div .article_tip_tit {
      height: 24px;
      margin-bottom: 4px
    }

    .article.container .centerlist .article_tip>div .article_tip_tit i {
      float: left;
      font-size: 24px;
      color: #f90;
      line-height: 24px;
      margin-right: 8px
    }

    .article.container .centerlist .article_tip>div .article_tip_tit i.sz-tips:before {
      content: "\e91e"
    }

    .article.container .centerlist .article_tip>div .article_tip_tit .span1 {
      float: left;
      font-size: 16px;
      color: #f90;
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_tit .span2 {
      float: right;
      font-size: 12px;
      color: #fff;
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_content {
      font-size: 12px;
      color: #fff;
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_footer {
      position: absolute;
      height: 24px;
      bottom: 16px;
      left: 24px;
      right: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_footer .no_tip {
      float: left;
      font-size: 12px;
      color: rgba(255, 255, 255, .6);
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_footer .next_tip {
      float: right;
      font-size: 12px;
      color: rgba(255, 255, 255, .6);
      line-height: 24px
    }

    .article.container .centerlist .article_tip .triangle-right {
      position: absolute;
      right: -12px;
      top: 15px;
      width: 0;
      height: 0;
      border-top: 12px solid transparent;
      border-left: 12px solid #2b333b;
      border-bottom: 12px solid transparent
    }

    .article.container .centerlist .article_tip_step1 {
      right: 130px;
      top: 2px;
      z-index: 1
    }

    .article.container .centerlist .article_tip_step2 {
      right: -196px;
      top: -82px;
      z-index: 1
    }

    .placeholder:-moz-placeholder {
      font-size: 12px;
      font-family: "Microsoft Yahei", "Hiragino Sans GB", Helvetica, "Helvetica Neue", "微软雅黑", Tahoma, Arial, sans-serif;
      color: #787d82
    }

    .placeholder::-moz-placeholder {
      font-size: 12px;
      color: #787d82;
      font-family: "Microsoft Yahei", "Hiragino Sans GB", Helvetica, "Helvetica Neue", "微软雅黑", Tahoma, Arial, sans-serif;
      opacity: 1
    }

    .placeholder:-ms-input-placeholder {
      font-size: 12px;
      font-family: "Microsoft Yahei", "Hiragino Sans GB", Helvetica, "Helvetica Neue", "微软雅黑", Tahoma, Arial, sans-serif;
      color: #787d82
    }

    .placeholder::-webkit-input-placeholder {
      font-size: 12px;
      font-family: "Microsoft Yahei", "Hiragino Sans GB", Helvetica, "Helvetica Neue", "微软雅黑", Tahoma, Arial, sans-serif;
      color: #787d82
    }

    .placeholder.placeholder {
      font-size: 12px;
      font-family: "Microsoft Yahei", "Hiragino Sans GB", Helvetica, "Helvetica Neue", "微软雅黑", Tahoma, Arial, sans-serif;
      color: #787d82
    }

    .verify-code {
      float: left
    }

    .verify-code input.verify-code-ipt {
      float: left;
      width: 118px;
      height: 30px;
      line-height: 30px;
      padding: 4px 5px;
      border: 1px solid #d0d6d9;
      font-size: 14px;
      font-family: "Microsoft Yahei", "Hiragino Sans GB", Helvetica, "Helvetica Neue", "微软雅黑", Tahoma, Arial, sans-serif
    }

    .verify-code input.verify-code-ipt::-moz-placeholder {
      color: #787d82;
      opacity: 1
    }

    .verify-code input.verify-code-ipt:-ms-input-placeholder {
      color: #787d82
    }

    .verify-code input.verify-code-ipt::-webkit-input-placeholder {
      color: #787d82
    }

    .verify-code input.verify-code-ipt.placeholder {
      color: #787d82
    }

    .verify-code .img-code {
      float: left;
      margin-left: 10px;
      width: 70px;
      height: 40px
    }

    .verify-code .verify-code-around {
      float: left;
      height: 40px;
      line-height: 20px;
      margin-left: 10px;
      cursor: pointer
    }

    .verify-code .verify-code-around i {
      font-style: normal;
      color: #00b33b
    }

    .verify-code .verify-img-wrap {
      margin-left: 10px;
      float: left;
      height: 40px;
      width: 70px
    }

    .verify-code .verify-img-wrap .verify-img {
      height: 40px;
      vertical-align: top;
      width: 70px
    }

    .verify-code .icon-refresh {
      color: #b5b9bc;
      float: left;
      display: inline-block;
      font-size: 24px;
      margin: 8px 0 0 10px;
      transition: all .4s ease-in 0s
    }

    .verify-code .errtip {
      float: left;
      clear: left;
      height: 30px;
      font-size: 12px;
      line-height: 30px;
      color: #e71f19
    }

    .share-wrap {
      text-align: center
    }

    .share-wrap .weichat-posi {
      position: relative;
      padding-left: 5px
    }

    .share-wrap .weichat-style {
      text-align: center
    }

    .share-wrap li {
      display: inline-block;
      width: 112px;
      padding: 0 36px
    }

    .share-wrap .icon-nav {
      background-image: none;
      line-height: 47px;
      float: none;
      display: inline-block;
      margin: 0;
      padding: 0;
      height: auto;
      color: #b4bbbf;
      font-size: 47px
    }

    .share-wrap .share-note {
      color: #787d82;
      font-size: 14px;
      padding-top: 10px
    }

    .share-wrap .icon-share-qq,
    .share-wrap .sns-QQ {
      font-size: 45px
    }

    .share-wrap .icon-share-qq:hover,
    .share-wrap .sns-QQ:hover {
      color: #08c
    }

    .share-wrap .sns-weixin:hover {
      color: #00b33b
    }

    .share-wrap .sns-weibo:hover {
      color: #f01400
    }

    .small-share .share-txt {
      font-size: 12px;
      color: #14191e;
      float: left
    }

    .small-share li {
      width: auto;
      padding: 0 2px
    }

    .small-share .icon-nav {
      font-size: 20px;
      color: #787d82;
      display: inline-block
    }

    .small-share .icon-share-qq {
      font-size: 18px;
      padding: 0 3px 0 4px
    }

    .small-share .weichat-style {
      float: left
    }

    .small-share .weichat-style a {
      height: 20px;
      line-height: 20px
    }

    .small-share .weichat-posi {
      height: 20px
    }

    .share-rl-tips {
      width: 98px;
      display: inline-block;
      background-color: #fffaf5;
      color: #ff8922;
      font-size: 12px;
      padding: 5px 8px 5px 12px
    }

    .share-rl-tips strong {
      font-weight: 700
    }

    .share-rl-tips .rule-arrow {
      background: url(/static/img/common/rl-arrow.png) 0 -11px no-repeat;
      position: absolute;
      right: 51px;
      top: -6px;
      color: #ffe5cb;
      width: 11px;
      height: 6px
    }

    .share-rl-tips .credit-rl {
      color: #787d82;
      padding-left: 7px
    }

    .share-rl-tips .credit-rl:hover {
      color: #14191e
    }

    .cont-credit {
      padding: 5px 10px;
      margin: 15px 0 3px;
      width: auto
    }

    .tipoff-block {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(7, 17, 27, .6);
      z-index: 900
    }

    .tipoff-box {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      margin-top: -168px;
      margin-left: -225px;
      padding: 24px 32px 32px;
      width: 450px;
      height: 336px;
      background: #fff;
      box-shadow: 0 8px 16px 0 rgba(7, 17, 27, .2);
      border-radius: 8px;
      box-sizing: border-box;
      z-index: 901
    }

    .tipoff-box .tipoff-loading {
      margin: 10px auto;
      width: 70px;
      z-index: 6
    }

    .tipoff-box .tipoff-loading .bounce1,
    .tipoff-box .tipoff-loading .bounce2,
    .tipoff-box .tipoff-loading .bounce3 {
      width: 20px;
      height: 20px;
      background-color: #d9dde1;
      border-radius: 100%;
      display: inline-block;
      -webkit-animation: bouncedelay 1.2s infinite ease-in-out;
      animation: bouncedelay 1.2s infinite ease-in-out;
      -webkit-animation-fill-mode: both;
      animation-fill-mode: both
    }

    .tipoff-box .tipoff-loading .bounce1 {
      -webkit-animation-delay: -.32s;
      animation-delay: -.32s
    }

    .tipoff-box .tipoff-loading .bounce2 {
      -webkit-animation-delay: -.16s;
      animation-delay: -.16s
    }

    @-webkit-keyframes bouncedelay {

      0%,
      100%,
      80% {
        -webkit-transform: scale(0)
      }

      40% {
        -webkit-transform: scale(1)
      }
    }

    @keyframes bouncedelay {

      0%,
      100%,
      80% {
        transform: scale(0);
        -webkit-transform: scale(0)
      }

      40% {
        transform: scale(1);
        -webkit-transform: scale(1)
      }
    }

    .tipoff-box .tipoff-top-box {
      margin-bottom: 24px;
      width: 100%;
      font-size: 16px;
      color: #07111b;
      line-height: 24px
    }

    .tipoff-box .tipoff-top-box .tipoff-close-btn {
      font-size: 24px;
      color: #93999f;
      line-height: 24px
    }

    .tipoff-box .tipoff-type-box {
      width: 100%;
      height: 48px;
      overflow: hidden;
      margin-bottom: 24px
    }

    .tipoff-box .tipoff-type-box .item {
      width: 33.3%;
      font-size: 12px;
      color: #93999f;
      line-height: 24px;
      overflow: hidden
    }

    .tipoff-box .tipoff-type-box .item i {
      display: inline-block;
      margin-right: 4px;
      font-size: 16px;
      line-height: 24px
    }

    .tipoff-box .tipoff-type-box .item p {
      max-width: 108px;
      height: 24px;
      overflow: hidden
    }

    .tipoff-box .tipoff-content {
      position: relative
    }

    .tipoff-box .tipoff-content .tipoff-desc {
      padding: 12px;
      width: 386px;
      height: 88px;
      background: #fff;
      border: 1px solid #d9dde1;
      border-radius: 2px;
      box-sizing: border-box;
      font-size: 14px;
      color: #07111b;
      resize: none
    }

    .tipoff-box .tipoff-content .tipoff-text {
      position: absolute;
      bottom: 12px;
      right: 12px;
      font-size: 12px;
      color: #93999f;
      line-height: 12px
    }

    .tipoff-box .tipoff-btn-box {
      width: 100%;
      margin-top: 24px
    }

    .tipoff-box .tipoff-btn-box .tipoff-cancel-btn {
      margin-right: 8px;
      width: 76px;
      height: 36px;
      line-height: 36px;
      border: 1px solid #d9dde1;
      border-radius: 2px;
      font-size: 14px;
      color: #93999f;
      text-align: center;
      cursor: pointer
    }

    .tipoff-box .tipoff-btn-box .tipoff-submit-btn {
      width: 76px;
      height: 36px;
      background: rgba(240, 20, 20, .8);
      border-radius: 2px;
      font-size: 14px;
      color: #fff;
      line-height: 36px;
      text-align: center;
      cursor: pointer
    }

    body {
      overflow-x: hidden
    }

    .moco-modal-inner .moco-modal-dialog {
      padding-bottom: 0
    }

    .moco-modal-layer.fixed .feed-detail-close {
      position: fixed;
      right: 50%;
      margin-right: -382px;
      top: 20px
    }

    .moco-discovery-dialog {
      position: relative
    }

    .moco-discovery-dialog .publish {
      width: 640px;
      padding-bottom: 32px
    }

    .moco-discovery-dialog .publish .publish-editor {
      height: 160px;
      box-sizing: border-box;
      background: #fff;
      border: 1px solid #d9dde1;
      border-radius: 4px;
      overflow: hidden
    }

    .moco-discovery-dialog .publish .publish-editor textarea {
      display: inherit;
      padding: 16px;
      width: 100%;
      height: 120px;
      box-sizing: border-box;
      border: 0;
      font-size: 14px;
      line-height: 18px
    }

    .moco-discovery-dialog .publish .publish-editor .publish-tool {
      position: relative;
      padding: 5px 15px 5px 10px;
      height: 38px;
      line-height: 28px;
      box-sizing: border-box;
      background: #fff;
      box-shadow: 0 0 8px 0 rgba(7, 17, 27, .1);
      border-radius: 2px;
      color: #b7bbbf
    }

    .moco-discovery-dialog .publish .publish-editor .publish-tool i {
      float: left;
      font-size: 20px;
      line-height: 28px;
      margin-right: 36px;
      cursor: pointer
    }

    .moco-discovery-dialog .publish .publish-editor .publish-tool i:last-child {
      margin-right: 0
    }

    .moco-discovery-dialog .publish .publish-editor .publish-tool i.webuploader-container {
      width: 20px;
      height: 28px;
      overflow: hidden
    }

    .moco-discovery-dialog .publish .publish-editor .publish-tool i.webuploader-container>div {
      top: 0 !important
    }

    .moco-discovery-dialog .publish .publish-editor .publish-tool .publish-count {
      float: right;
      font-size: 12px
    }

    .moco-discovery-dialog .publish .publish-editor .publish-tool .publish-count.red {
      color: red
    }

    .moco-discovery-dialog .publish .publish-submit {
      position: relative;
      padding-top: 22px;
      text-align: right
    }

    .moco-discovery-dialog .publish .publish-submit .publish-submit-btn {
      width: 76px;
      height: 36px;
      background: #37f;
      border-radius: 18px;
      color: #fff;
      line-height: 36px;
      text-align: center;
      display: inline-block;
      position: relative
    }

    .moco-discovery-dialog .publish .publish-submit .publish-submit-btn.disabled:before {
      display: block
    }

    .moco-discovery-dialog .publish .publish-submit .publish-submit-btn:before {
      display: none;
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      content: "发表中..";
      border-radius: 18px;
      background: #37f
    }

    .moco-discovery-dialog .publish .publish-submit .publish-submit-btn.forward-submit:before {
      content: "提交中.."
    }

    .moco-discovery-dialog .publish .publish-submit .publish-image-queue {
      position: absolute;
      left: 0;
      top: 12px;
      right: 80px;
      height: 48px
    }

    .moco-discovery-dialog .publish .publish-submit .publish-image-queue .pimgbox {
      position: relative;
      float: left;
      width: 48px;
      height: 48px;
      margin-right: 4px;
      border-radius: 4px
    }

    .moco-discovery-dialog .publish .publish-submit .publish-image-queue .pimgbox:hover .optclose {
      display: block
    }

    .moco-discovery-dialog .publish .publish-submit .publish-image-queue img {
      width: 48px;
      height: 48px;
      border-radius: 4px
    }

    .moco-discovery-dialog .publish .publish-submit .publish-image-queue .optclose {
      transition: .3s all linear;
      display: none;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      background: rgba(7, 17, 27, .8);
      cursor: pointer;
      border-radius: 4px;
      text-align: center
    }

    .moco-discovery-dialog .publish .publish-submit .publish-image-queue i {
      font-size: 24px;
      color: #fff;
      line-height: 48px
    }

    .moco-discovery-dialog .publish .publish-forward {
      margin-top: 10px;
      padding: 20px;
      background: #f3f5f7;
      border-radius: 8px
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content {
      padding-top: 5px;
      font-size: 12px;
      color: #4d555d;
      line-height: 22px
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content p {
      word-break: break-all;
      word-wrap: break-word;
      overflow: hidden;
      text-overflow: -o-ellipsis-lastline;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      max-height: 44px;
      margin-bottom: 6px
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article {
      margin: 5px 0 10px;
      padding: 8px;
      background: #fff;
      border: 1px solid #f3f5f7;
      box-shadow: 0 4px 8px 0 rgba(7, 17, 27, .1);
      border-radius: 4px;
      overflow: hidden
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-img {
      float: left
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-img img {
      width: 132px;
      height: 132px;
      border-radius: 2px
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-detail {
      margin-left: 152px;
      margin-right: 12px
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-detail h3 {
      margin-top: 12px;
      margin-bottom: 4px;
      font-size: 14px;
      color: #07111b;
      line-height: 20px;
      font-weight: 700
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-detail h3 a {
      display: block;
      height: 20px;
      font-size: 12px;
      color: #4d555d;
      line-height: 20px;
      word-break: break-all;
      word-wrap: break-word;
      overflow: hidden;
      text-overflow: -o-ellipsis-lastline;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-detail>div {
      height: 50px
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-detail a,
    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-detail p {
      height: 40px;
      font-size: 12px;
      color: #4d555d;
      line-height: 20px;
      overflow: hidden;
      word-break: break-all;
      word-wrap: break-word;
      text-overflow: -o-ellipsis-lastline;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-tool {
      font-size: 12px;
      color: #93999f;
      line-height: 16px
    }

    .moco-discovery-dialog .publish .publish-forward .publish-forward-content .feed-article .article-tool .article-tip a {
      float: left;
      margin-right: 12px;
      color: #93999f
    }

    .moco-discovery-dialog .feed-detail-close {
      position: absolute;
      right: -80px;
      font-size: 24px;
      top: -32px;
      color: #fff
    }

    .moco-discovery-dialog .feed-title {
      padding: 16px 0;
      line-height: 32px;
      border-bottom: 1px solid #d9dde1
    }

    .moco-discovery-dialog .feed-detail {
      padding: 0 !important;
      width: 624px
    }

    .moco-discovery-dialog .feed-detail .feed-comment {
      margin: 10px -32px 0 !important;
      width: 688px !important;
      padding: 20px 32px !important;
      border-top: 1px solid #d9dde1;
      box-shadow: 0 5px 10px 0 rgba(7, 17, 27, .1)
    }

    .moco-discovery-dialog .feed-detail .feed-comment .user-pic {
      width: 36px !important;
      height: 36px !important
    }

    .moco-discovery-dialog .feed-detail .feed-comment .user-pic img {
      width: 36px !important;
      height: 36px !important
    }

    .moco-discovery-dialog .feed-detail .feed-comment .feed-right {
      padding-left: 48px !important
    }

    .moco-discovery-dialog .feed-comment-list {
      padding: 24px 0 !important;
      border-bottom: 1px solid #d9dde1
    }

    .moco-discovery-dialog .feed-detail-view {
      display: none;
      color: #9199a1;
      margin-top: 24px;
      line-height: 24px;
      text-align: center;
      cursor: pointer
    }

    .moco-discovery-dialog .feed-detail-view:hover {
      color: #545c63
    }

    @font-face {
      font-family: KaTeX_AMS;
      src: url(/static/fonts/katex/KaTeX_AMS-Regular.672c961.eot);
      src: url(/static/fonts/katex/KaTeX_AMS-Regular.672c961.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_AMS-Regular.f4c3270.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_AMS-Regular.e78f217.woff) format("woff"), url(/static/fonts/katex/KaTeX_AMS-Regular.9971d27.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Caligraphic;
      src: url(/static/fonts/katex/KaTeX_Caligraphic-Bold.3c3fce5.eot);
      src: url(/static/fonts/katex/KaTeX_Caligraphic-Bold.3c3fce5.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Caligraphic-Bold.a2e0522.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Caligraphic-Bold.bac6199.woff) format("woff"), url(/static/fonts/katex/KaTeX_Caligraphic-Bold.743b42a.ttf) format("truetype");
      font-weight: 700;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Caligraphic;
      src: url(/static/fonts/katex/KaTeX_Caligraphic-Regular.a0ba281.eot);
      src: url(/static/fonts/katex/KaTeX_Caligraphic-Regular.a0ba281.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Caligraphic-Regular.479a68e.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Caligraphic-Regular.a64e134.woff) format("woff"), url(/static/fonts/katex/KaTeX_Caligraphic-Regular.244db27.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Fraktur;
      src: url(/static/fonts/katex/KaTeX_Fraktur-Bold.2b4454d.eot);
      src: url(/static/fonts/katex/KaTeX_Fraktur-Bold.2b4454d.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Fraktur-Bold.8e5f883.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Fraktur-Bold.0a0aa19.woff) format("woff"), url(/static/fonts/katex/KaTeX_Fraktur-Bold.ad26cc8.ttf) format("truetype");
      font-weight: 700;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Fraktur;
      src: url(/static/fonts/katex/KaTeX_Fraktur-Regular.dc81eae.eot);
      src: url(/static/fonts/katex/KaTeX_Fraktur-Regular.dc81eae.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Fraktur-Regular.ae2b6f4.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Fraktur-Regular.f980ca7.woff) format("woff"), url(/static/fonts/katex/KaTeX_Fraktur-Regular.d459632.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Main;
      src: url(/static/fonts/katex/KaTeX_Main-Bold.d327c21.eot);
      src: url(/static/fonts/katex/KaTeX_Main-Bold.d327c21.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Main-Bold.83f8b32.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Main-Bold.d8a629d.woff) format("woff"), url(/static/fonts/katex/KaTeX_Main-Bold.e69b951.ttf) format("truetype");
      font-weight: 700;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Main;
      src: url(/static/fonts/katex/KaTeX_Main-Italic.2702ac3.eot);
      src: url(/static/fonts/katex/KaTeX_Main-Italic.2702ac3.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Main-Italic.07510ed.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Main-Italic.8dd42e0.woff) format("woff"), url(/static/fonts/katex/KaTeX_Main-Italic.1b22614.ttf) format("truetype");
      font-weight: 400;
      font-style: italic
    }

    @font-face {
      font-family: KaTeX_Main;
      src: url(/static/fonts/katex/KaTeX_Main-Regular.31ec450.eot);
      src: url(/static/fonts/katex/KaTeX_Main-Regular.31ec450.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Main-Regular.bd65225.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Main-Regular.2dffc87.woff) format("woff"), url(/static/fonts/katex/KaTeX_Main-Regular.d9162df.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Math;
      src: url(/static/fonts/katex/KaTeX_Math-Italic.031026c.eot);
      src: url(/static/fonts/katex/KaTeX_Math-Italic.031026c.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Math-Italic.afeebb7.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Math-Italic.da58601.woff) format("woff"), url(/static/fonts/katex/KaTeX_Math-Italic.55fbb3a.ttf) format("truetype");
      font-weight: 400;
      font-style: italic
    }

    @font-face {
      font-family: KaTeX_SansSerif;
      src: url(/static/fonts/katex/KaTeX_SansSerif-Regular.a3319b7.eot);
      src: url(/static/fonts/katex/KaTeX_SansSerif-Regular.a3319b7.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_SansSerif-Regular.7d5fa3e.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_SansSerif-Regular.48c7df6.woff) format("woff"), url(/static/fonts/katex/KaTeX_SansSerif-Regular.8075d14.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Script;
      src: url(/static/fonts/katex/KaTeX_Script-Regular.cf8394e.eot);
      src: url(/static/fonts/katex/KaTeX_Script-Regular.cf8394e.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Script-Regular.c472b57.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Script-Regular.5acb381.woff) format("woff"), url(/static/fonts/katex/KaTeX_Script-Regular.abb12fc.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Size1;
      src: url(/static/fonts/katex/KaTeX_Size1-Regular.5438d9d.eot);
      src: url(/static/fonts/katex/KaTeX_Size1-Regular.5438d9d.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Size1-Regular.feed6c7.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Size1-Regular.bdd0d5e.woff) format("woff"), url(/static/fonts/katex/KaTeX_Size1-Regular.8cc60fd.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Size2;
      src: url(/static/fonts/katex/KaTeX_Size2-Regular.1f5c2ab.eot);
      src: url(/static/fonts/katex/KaTeX_Size2-Regular.1f5c2ab.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Size2-Regular.8a86a0a.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Size2-Regular.fd67fb3.woff) format("woff"), url(/static/fonts/katex/KaTeX_Size2-Regular.5976fff.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Size3;
      src: url(/static/fonts/katex/KaTeX_Size3-Regular.1a6c0d6.eot);
      src: url(/static/fonts/katex/KaTeX_Size3-Regular.1a6c0d6.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Size3-Regular.2c1ea03.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Size3-Regular.943c94f.woff) format("woff"), url(/static/fonts/katex/KaTeX_Size3-Regular.e929f5d.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Size4;
      src: url(/static/fonts/katex/KaTeX_Size4-Regular.5a3cee2.eot);
      src: url(/static/fonts/katex/KaTeX_Size4-Regular.5a3cee2.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Size4-Regular.680d35e.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Size4-Regular.6853774.woff) format("woff"), url(/static/fonts/katex/KaTeX_Size4-Regular.81ab95e.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    @font-face {
      font-family: KaTeX_Typewriter;
      src: url(/static/fonts/katex/KaTeX_Typewriter-Regular.179ea52.eot);
      src: url(/static/fonts/katex/KaTeX_Typewriter-Regular.179ea52.eot#iefix) format("embedded-opentype"), url(/static/fonts/katex/KaTeX_Typewriter-Regular.d2f65c2.woff2) format("woff2"), url(/static/fonts/katex/KaTeX_Typewriter-Regular.9bd7cfe.woff) format("woff"), url(/static/fonts/katex/KaTeX_Typewriter-Regular.8f16d7f.ttf) format("truetype");
      font-weight: 400;
      font-style: normal
    }

    .katex-display {
      display: block;
      margin: 1em 0;
      text-align: center
    }

    .katex-display>.katex {
      display: inline-block;
      text-align: initial
    }

    .katex {
      font: normal 1.21em KaTeX_Main, Times New Roman, serif;
      line-height: 1.2;
      white-space: nowrap;
      text-indent: 0;
      text-rendering: auto
    }

    .katex * {
      -ms-high-contrast-adjust: none !important
    }

    .katex .katex-html {
      display: inline-block
    }

    .katex .katex-mathml {
      position: absolute;
      clip: rect(1px, 1px, 1px, 1px);
      padding: 0;
      border: 0;
      height: 1px;
      width: 1px;
      overflow: hidden
    }

    .katex .base {
      position: relative
    }

    .katex .base,
    .katex .strut {
      display: inline-block
    }

    .katex .mathrm {
      font-style: normal
    }

    .katex .mathit,
    .katex .textit {
      font-style: italic
    }

    .katex .mathit {
      font-family: KaTeX_Math
    }

    .katex .mathbf {
      font-family: KaTeX_Main;
      font-weight: 700
    }

    .katex .amsrm,
    .katex .mathbb {
      font-family: KaTeX_AMS
    }

    .katex .mathcal {
      font-family: KaTeX_Caligraphic
    }

    .katex .mathfrak {
      font-family: KaTeX_Fraktur
    }

    .katex .mathtt {
      font-family: KaTeX_Typewriter
    }

    .katex .mathscr {
      font-family: KaTeX_Script
    }

    .katex .mathsf {
      font-family: KaTeX_SansSerif
    }

    .katex .mainit {
      font-family: KaTeX_Main;
      font-style: italic
    }

    .katex .mainrm {
      font-family: KaTeX_Main;
      font-style: normal
    }

    .katex .mord+.mop {
      margin-left: .16667em
    }

    .katex .mord+.mbin {
      margin-left: .22222em
    }

    .katex .mord+.mrel {
      margin-left: .27778em
    }

    .katex .mop+.mop,
    .katex .mop+.mord,
    .katex .mord+.minner {
      margin-left: .16667em
    }

    .katex .mop+.mrel {
      margin-left: .27778em
    }

    .katex .mop+.minner {
      margin-left: .16667em
    }

    .katex .mbin+.minner,
    .katex .mbin+.mop,
    .katex .mbin+.mopen,
    .katex .mbin+.mord {
      margin-left: .22222em
    }

    .katex .mrel+.minner,
    .katex .mrel+.mop,
    .katex .mrel+.mopen,
    .katex .mrel+.mord {
      margin-left: .27778em
    }

    .katex .mclose+.mop {
      margin-left: .16667em
    }

    .katex .mclose+.mbin {
      margin-left: .22222em
    }

    .katex .mclose+.mrel {
      margin-left: .27778em
    }

    .katex .mclose+.minner,
    .katex .minner+.mop,
    .katex .minner+.mord,
    .katex .mpunct+.mclose,
    .katex .mpunct+.minner,
    .katex .mpunct+.mop,
    .katex .mpunct+.mopen,
    .katex .mpunct+.mord,
    .katex .mpunct+.mpunct,
    .katex .mpunct+.mrel {
      margin-left: .16667em
    }

    .katex .minner+.mbin {
      margin-left: .22222em
    }

    .katex .minner+.mrel {
      margin-left: .27778em
    }

    .katex .minner+.minner,
    .katex .minner+.mopen,
    .katex .minner+.mpunct {
      margin-left: .16667em
    }

    .katex .mbin.mtight,
    .katex .mclose.mtight,
    .katex .minner.mtight,
    .katex .mop.mtight,
    .katex .mopen.mtight,
    .katex .mord.mtight,
    .katex .mpunct.mtight,
    .katex .mrel.mtight {
      margin-left: 0
    }

    .katex .mclose+.mop.mtight,
    .katex .minner+.mop.mtight,
    .katex .mop+.mop.mtight,
    .katex .mop+.mord.mtight,
    .katex .mord+.mop.mtight {
      margin-left: .16667em
    }

    .katex .vlist-t {
      display: inline-table;
      table-layout: fixed
    }

    .katex .vlist-r {
      display: table-row
    }

    .katex .vlist {
      display: table-cell;
      vertical-align: bottom;
      position: relative
    }

    .katex .vlist>span {
      display: block;
      height: 0;
      position: relative
    }

    .katex .vlist>span>span {
      display: inline-block
    }

    .katex .vlist>span>.pstrut {
      overflow: hidden;
      width: 0
    }

    .katex .vlist-t2 {
      margin-right: -2px
    }

    .katex .vlist-s {
      display: table-cell;
      vertical-align: bottom;
      font-size: 1px;
      width: 2px
    }

    .katex .msupsub {
      text-align: left
    }

    .katex .mfrac>span>span {
      text-align: center
    }

    .katex .mfrac .frac-line {
      display: inline-block;
      width: 100%
    }

    @media screen {

      .katex .mfrac .frac-line,
      .katex .overline .overline-line,
      .katex .underline .underline-line {
        min-height: 1px
      }
    }

    @media screen and (-webkit-min-device-pixel-ratio:2),
    screen and (min-resolution:192dpi) {

      .katex .mfrac .frac-line,
      .katex .overline .overline-line,
      .katex .underline .underline-line {
        min-height: .5px
      }
    }

    .katex .mspace {
      display: inline-block
    }

    .katex .mspace.negativethinspace {
      margin-left: -.16667em
    }

    .katex .mspace.thinspace {
      width: .16667em
    }

    .katex .mspace.negativemediumspace {
      margin-left: -.22222em
    }

    .katex .mspace.mediumspace {
      width: .22222em
    }

    .katex .mspace.thickspace {
      width: .27778em
    }

    .katex .mspace.sixmuspace {
      width: .333333em
    }

    .katex .mspace.eightmuspace {
      width: .444444em
    }

    .katex .mspace.enspace {
      width: .5em
    }

    .katex .mspace.twelvemuspace {
      width: .666667em
    }

    .katex .mspace.quad {
      width: 1em
    }

    .katex .mspace.qquad {
      width: 2em
    }

    .katex .clap,
    .katex .llap,
    .katex .rlap {
      width: 0;
      position: relative
    }

    .katex .clap>.inner,
    .katex .llap>.inner,
    .katex .rlap>.inner {
      position: absolute
    }

    .katex .clap>.fix,
    .katex .llap>.fix,
    .katex .rlap>.fix {
      display: inline-block
    }

    .katex .llap>.inner {
      right: 0
    }

    .katex .clap>.inner,
    .katex .rlap>.inner {
      left: 0
    }

    .katex .clap>.inner>span {
      margin-left: -50%;
      margin-right: 50%
    }

    .katex .katex-logo .a {
      font-size: .75em;
      margin-left: -.32em;
      position: relative;
      top: -.2em
    }

    .katex .katex-logo .t {
      margin-left: -.23em
    }

    .katex .katex-logo .e {
      margin-left: -.1667em;
      position: relative;
      top: .2155em
    }

    .katex .katex-logo .x {
      margin-left: -.125em
    }

    .katex .rule {
      display: inline-block;
      border: 0 solid;
      position: relative
    }

    .katex .overline .overline-line,
    .katex .underline .underline-line {
      display: inline-block;
      width: 100%
    }

    .katex .sqrt>.root {
      margin-left: .27777778em;
      margin-right: -.55555556em
    }

    .katex .fontsize-ensurer,
    .katex .sizing {
      display: inline-block
    }

    .katex .fontsize-ensurer.reset-size1.size1,
    .katex .sizing.reset-size1.size1 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size1.size2,
    .katex .sizing.reset-size1.size2 {
      font-size: 1.2em
    }

    .katex .fontsize-ensurer.reset-size1.size3,
    .katex .sizing.reset-size1.size3 {
      font-size: 1.4em
    }

    .katex .fontsize-ensurer.reset-size1.size4,
    .katex .sizing.reset-size1.size4 {
      font-size: 1.6em
    }

    .katex .fontsize-ensurer.reset-size1.size5,
    .katex .sizing.reset-size1.size5 {
      font-size: 1.8em
    }

    .katex .fontsize-ensurer.reset-size1.size6,
    .katex .sizing.reset-size1.size6 {
      font-size: 2em
    }

    .katex .fontsize-ensurer.reset-size1.size7,
    .katex .sizing.reset-size1.size7 {
      font-size: 2.4em
    }

    .katex .fontsize-ensurer.reset-size1.size8,
    .katex .sizing.reset-size1.size8 {
      font-size: 2.88em
    }

    .katex .fontsize-ensurer.reset-size1.size9,
    .katex .sizing.reset-size1.size9 {
      font-size: 3.456em
    }

    .katex .fontsize-ensurer.reset-size1.size10,
    .katex .sizing.reset-size1.size10 {
      font-size: 4.148em
    }

    .katex .fontsize-ensurer.reset-size1.size11,
    .katex .sizing.reset-size1.size11 {
      font-size: 4.976em
    }

    .katex .fontsize-ensurer.reset-size2.size1,
    .katex .sizing.reset-size2.size1 {
      font-size: .83333333em
    }

    .katex .fontsize-ensurer.reset-size2.size2,
    .katex .sizing.reset-size2.size2 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size2.size3,
    .katex .sizing.reset-size2.size3 {
      font-size: 1.16666667em
    }

    .katex .fontsize-ensurer.reset-size2.size4,
    .katex .sizing.reset-size2.size4 {
      font-size: 1.33333333em
    }

    .katex .fontsize-ensurer.reset-size2.size5,
    .katex .sizing.reset-size2.size5 {
      font-size: 1.5em
    }

    .katex .fontsize-ensurer.reset-size2.size6,
    .katex .sizing.reset-size2.size6 {
      font-size: 1.66666667em
    }

    .katex .fontsize-ensurer.reset-size2.size7,
    .katex .sizing.reset-size2.size7 {
      font-size: 2em
    }

    .katex .fontsize-ensurer.reset-size2.size8,
    .katex .sizing.reset-size2.size8 {
      font-size: 2.4em
    }

    .katex .fontsize-ensurer.reset-size2.size9,
    .katex .sizing.reset-size2.size9 {
      font-size: 2.88em
    }

    .katex .fontsize-ensurer.reset-size2.size10,
    .katex .sizing.reset-size2.size10 {
      font-size: 3.45666667em
    }

    .katex .fontsize-ensurer.reset-size2.size11,
    .katex .sizing.reset-size2.size11 {
      font-size: 4.14666667em
    }

    .katex .fontsize-ensurer.reset-size3.size1,
    .katex .sizing.reset-size3.size1 {
      font-size: .71428571em
    }

    .katex .fontsize-ensurer.reset-size3.size2,
    .katex .sizing.reset-size3.size2 {
      font-size: .85714286em
    }

    .katex .fontsize-ensurer.reset-size3.size3,
    .katex .sizing.reset-size3.size3 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size3.size4,
    .katex .sizing.reset-size3.size4 {
      font-size: 1.14285714em
    }

    .katex .fontsize-ensurer.reset-size3.size5,
    .katex .sizing.reset-size3.size5 {
      font-size: 1.28571429em
    }

    .katex .fontsize-ensurer.reset-size3.size6,
    .katex .sizing.reset-size3.size6 {
      font-size: 1.42857143em
    }

    .katex .fontsize-ensurer.reset-size3.size7,
    .katex .sizing.reset-size3.size7 {
      font-size: 1.71428571em
    }

    .katex .fontsize-ensurer.reset-size3.size8,
    .katex .sizing.reset-size3.size8 {
      font-size: 2.05714286em
    }

    .katex .fontsize-ensurer.reset-size3.size9,
    .katex .sizing.reset-size3.size9 {
      font-size: 2.46857143em
    }

    .katex .fontsize-ensurer.reset-size3.size10,
    .katex .sizing.reset-size3.size10 {
      font-size: 2.96285714em
    }

    .katex .fontsize-ensurer.reset-size3.size11,
    .katex .sizing.reset-size3.size11 {
      font-size: 3.55428571em
    }

    .katex .fontsize-ensurer.reset-size4.size1,
    .katex .sizing.reset-size4.size1 {
      font-size: .625em
    }

    .katex .fontsize-ensurer.reset-size4.size2,
    .katex .sizing.reset-size4.size2 {
      font-size: .75em
    }

    .katex .fontsize-ensurer.reset-size4.size3,
    .katex .sizing.reset-size4.size3 {
      font-size: .875em
    }

    .katex .fontsize-ensurer.reset-size4.size4,
    .katex .sizing.reset-size4.size4 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size4.size5,
    .katex .sizing.reset-size4.size5 {
      font-size: 1.125em
    }

    .katex .fontsize-ensurer.reset-size4.size6,
    .katex .sizing.reset-size4.size6 {
      font-size: 1.25em
    }

    .katex .fontsize-ensurer.reset-size4.size7,
    .katex .sizing.reset-size4.size7 {
      font-size: 1.5em
    }

    .katex .fontsize-ensurer.reset-size4.size8,
    .katex .sizing.reset-size4.size8 {
      font-size: 1.8em
    }

    .katex .fontsize-ensurer.reset-size4.size9,
    .katex .sizing.reset-size4.size9 {
      font-size: 2.16em
    }

    .katex .fontsize-ensurer.reset-size4.size10,
    .katex .sizing.reset-size4.size10 {
      font-size: 2.5925em
    }

    .katex .fontsize-ensurer.reset-size4.size11,
    .katex .sizing.reset-size4.size11 {
      font-size: 3.11em
    }

    .katex .fontsize-ensurer.reset-size5.size1,
    .katex .sizing.reset-size5.size1 {
      font-size: .55555556em
    }

    .katex .fontsize-ensurer.reset-size5.size2,
    .katex .sizing.reset-size5.size2 {
      font-size: .66666667em
    }

    .katex .fontsize-ensurer.reset-size5.size3,
    .katex .sizing.reset-size5.size3 {
      font-size: .77777778em
    }

    .katex .fontsize-ensurer.reset-size5.size4,
    .katex .sizing.reset-size5.size4 {
      font-size: .88888889em
    }

    .katex .fontsize-ensurer.reset-size5.size5,
    .katex .sizing.reset-size5.size5 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size5.size6,
    .katex .sizing.reset-size5.size6 {
      font-size: 1.11111111em
    }

    .katex .fontsize-ensurer.reset-size5.size7,
    .katex .sizing.reset-size5.size7 {
      font-size: 1.33333333em
    }

    .katex .fontsize-ensurer.reset-size5.size8,
    .katex .sizing.reset-size5.size8 {
      font-size: 1.6em
    }

    .katex .fontsize-ensurer.reset-size5.size9,
    .katex .sizing.reset-size5.size9 {
      font-size: 1.92em
    }

    .katex .fontsize-ensurer.reset-size5.size10,
    .katex .sizing.reset-size5.size10 {
      font-size: 2.30444444em
    }

    .katex .fontsize-ensurer.reset-size5.size11,
    .katex .sizing.reset-size5.size11 {
      font-size: 2.76444444em
    }

    .katex .fontsize-ensurer.reset-size6.size1,
    .katex .sizing.reset-size6.size1 {
      font-size: .5em
    }

    .katex .fontsize-ensurer.reset-size6.size2,
    .katex .sizing.reset-size6.size2 {
      font-size: .6em
    }

    .katex .fontsize-ensurer.reset-size6.size3,
    .katex .sizing.reset-size6.size3 {
      font-size: .7em
    }

    .katex .fontsize-ensurer.reset-size6.size4,
    .katex .sizing.reset-size6.size4 {
      font-size: .8em
    }

    .katex .fontsize-ensurer.reset-size6.size5,
    .katex .sizing.reset-size6.size5 {
      font-size: .9em
    }

    .katex .fontsize-ensurer.reset-size6.size6,
    .katex .sizing.reset-size6.size6 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size6.size7,
    .katex .sizing.reset-size6.size7 {
      font-size: 1.2em
    }

    .katex .fontsize-ensurer.reset-size6.size8,
    .katex .sizing.reset-size6.size8 {
      font-size: 1.44em
    }

    .katex .fontsize-ensurer.reset-size6.size9,
    .katex .sizing.reset-size6.size9 {
      font-size: 1.728em
    }

    .katex .fontsize-ensurer.reset-size6.size10,
    .katex .sizing.reset-size6.size10 {
      font-size: 2.074em
    }

    .katex .fontsize-ensurer.reset-size6.size11,
    .katex .sizing.reset-size6.size11 {
      font-size: 2.488em
    }

    .katex .fontsize-ensurer.reset-size7.size1,
    .katex .sizing.reset-size7.size1 {
      font-size: .41666667em
    }

    .katex .fontsize-ensurer.reset-size7.size2,
    .katex .sizing.reset-size7.size2 {
      font-size: .5em
    }

    .katex .fontsize-ensurer.reset-size7.size3,
    .katex .sizing.reset-size7.size3 {
      font-size: .58333333em
    }

    .katex .fontsize-ensurer.reset-size7.size4,
    .katex .sizing.reset-size7.size4 {
      font-size: .66666667em
    }

    .katex .fontsize-ensurer.reset-size7.size5,
    .katex .sizing.reset-size7.size5 {
      font-size: .75em
    }

    .katex .fontsize-ensurer.reset-size7.size6,
    .katex .sizing.reset-size7.size6 {
      font-size: .83333333em
    }

    .katex .fontsize-ensurer.reset-size7.size7,
    .katex .sizing.reset-size7.size7 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size7.size8,
    .katex .sizing.reset-size7.size8 {
      font-size: 1.2em
    }

    .katex .fontsize-ensurer.reset-size7.size9,
    .katex .sizing.reset-size7.size9 {
      font-size: 1.44em
    }

    .katex .fontsize-ensurer.reset-size7.size10,
    .katex .sizing.reset-size7.size10 {
      font-size: 1.72833333em
    }

    .katex .fontsize-ensurer.reset-size7.size11,
    .katex .sizing.reset-size7.size11 {
      font-size: 2.07333333em
    }

    .katex .fontsize-ensurer.reset-size8.size1,
    .katex .sizing.reset-size8.size1 {
      font-size: .34722222em
    }

    .katex .fontsize-ensurer.reset-size8.size2,
    .katex .sizing.reset-size8.size2 {
      font-size: .41666667em
    }

    .katex .fontsize-ensurer.reset-size8.size3,
    .katex .sizing.reset-size8.size3 {
      font-size: .48611111em
    }

    .katex .fontsize-ensurer.reset-size8.size4,
    .katex .sizing.reset-size8.size4 {
      font-size: .55555556em
    }

    .katex .fontsize-ensurer.reset-size8.size5,
    .katex .sizing.reset-size8.size5 {
      font-size: .625em
    }

    .katex .fontsize-ensurer.reset-size8.size6,
    .katex .sizing.reset-size8.size6 {
      font-size: .69444444em
    }

    .katex .fontsize-ensurer.reset-size8.size7,
    .katex .sizing.reset-size8.size7 {
      font-size: .83333333em
    }

    .katex .fontsize-ensurer.reset-size8.size8,
    .katex .sizing.reset-size8.size8 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size8.size9,
    .katex .sizing.reset-size8.size9 {
      font-size: 1.2em
    }

    .katex .fontsize-ensurer.reset-size8.size10,
    .katex .sizing.reset-size8.size10 {
      font-size: 1.44027778em
    }

    .katex .fontsize-ensurer.reset-size8.size11,
    .katex .sizing.reset-size8.size11 {
      font-size: 1.72777778em
    }

    .katex .fontsize-ensurer.reset-size9.size1,
    .katex .sizing.reset-size9.size1 {
      font-size: .28935185em
    }

    .katex .fontsize-ensurer.reset-size9.size2,
    .katex .sizing.reset-size9.size2 {
      font-size: .34722222em
    }

    .katex .fontsize-ensurer.reset-size9.size3,
    .katex .sizing.reset-size9.size3 {
      font-size: .40509259em
    }

    .katex .fontsize-ensurer.reset-size9.size4,
    .katex .sizing.reset-size9.size4 {
      font-size: .46296296em
    }

    .katex .fontsize-ensurer.reset-size9.size5,
    .katex .sizing.reset-size9.size5 {
      font-size: .52083333em
    }

    .katex .fontsize-ensurer.reset-size9.size6,
    .katex .sizing.reset-size9.size6 {
      font-size: .5787037em
    }

    .katex .fontsize-ensurer.reset-size9.size7,
    .katex .sizing.reset-size9.size7 {
      font-size: .69444444em
    }

    .katex .fontsize-ensurer.reset-size9.size8,
    .katex .sizing.reset-size9.size8 {
      font-size: .83333333em
    }

    .katex .fontsize-ensurer.reset-size9.size9,
    .katex .sizing.reset-size9.size9 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size9.size10,
    .katex .sizing.reset-size9.size10 {
      font-size: 1.20023148em
    }

    .katex .fontsize-ensurer.reset-size9.size11,
    .katex .sizing.reset-size9.size11 {
      font-size: 1.43981481em
    }

    .katex .fontsize-ensurer.reset-size10.size1,
    .katex .sizing.reset-size10.size1 {
      font-size: .24108004em
    }

    .katex .fontsize-ensurer.reset-size10.size2,
    .katex .sizing.reset-size10.size2 {
      font-size: .28929605em
    }

    .katex .fontsize-ensurer.reset-size10.size3,
    .katex .sizing.reset-size10.size3 {
      font-size: .33751205em
    }

    .katex .fontsize-ensurer.reset-size10.size4,
    .katex .sizing.reset-size10.size4 {
      font-size: .38572806em
    }

    .katex .fontsize-ensurer.reset-size10.size5,
    .katex .sizing.reset-size10.size5 {
      font-size: .43394407em
    }

    .katex .fontsize-ensurer.reset-size10.size6,
    .katex .sizing.reset-size10.size6 {
      font-size: .48216008em
    }

    .katex .fontsize-ensurer.reset-size10.size7,
    .katex .sizing.reset-size10.size7 {
      font-size: .57859209em
    }

    .katex .fontsize-ensurer.reset-size10.size8,
    .katex .sizing.reset-size10.size8 {
      font-size: .69431051em
    }

    .katex .fontsize-ensurer.reset-size10.size9,
    .katex .sizing.reset-size10.size9 {
      font-size: .83317261em
    }

    .katex .fontsize-ensurer.reset-size10.size10,
    .katex .sizing.reset-size10.size10 {
      font-size: 1em
    }

    .katex .fontsize-ensurer.reset-size10.size11,
    .katex .sizing.reset-size10.size11 {
      font-size: 1.19961427em
    }

    .katex .fontsize-ensurer.reset-size11.size1,
    .katex .sizing.reset-size11.size1 {
      font-size: .20096463em
    }

    .katex .fontsize-ensurer.reset-size11.size2,
    .katex .sizing.reset-size11.size2 {
      font-size: .24115756em
    }

    .katex .fontsize-ensurer.reset-size11.size3,
    .katex .sizing.reset-size11.size3 {
      font-size: .28135048em
    }

    .katex .fontsize-ensurer.reset-size11.size4,
    .katex .sizing.reset-size11.size4 {
      font-size: .32154341em
    }

    .katex .fontsize-ensurer.reset-size11.size5,
    .katex .sizing.reset-size11.size5 {
      font-size: .36173633em
    }

    .katex .fontsize-ensurer.reset-size11.size6,
    .katex .sizing.reset-size11.size6 {
      font-size: .40192926em
    }

    .katex .fontsize-ensurer.reset-size11.size7,
    .katex .sizing.reset-size11.size7 {
      font-size: .48231511em
    }

    .katex .fontsize-ensurer.reset-size11.size8,
    .katex .sizing.reset-size11.size8 {
      font-size: .57877814em
    }

    .katex .fontsize-ensurer.reset-size11.size9,
    .katex .sizing.reset-size11.size9 {
      font-size: .69453376em
    }

    .katex .fontsize-ensurer.reset-size11.size10,
    .katex .sizing.reset-size11.size10 {
      font-size: .83360129em
    }

    .katex .fontsize-ensurer.reset-size11.size11,
    .katex .sizing.reset-size11.size11 {
      font-size: 1em
    }

    .katex .delimsizing.size1 {
      font-family: KaTeX_Size1
    }

    .katex .delimsizing.size2 {
      font-family: KaTeX_Size2
    }

    .katex .delimsizing.size3 {
      font-family: KaTeX_Size3
    }

    .katex .delimsizing.size4 {
      font-family: KaTeX_Size4
    }

    .katex .delimsizing.mult .delim-size1>span {
      font-family: KaTeX_Size1
    }

    .katex .delimsizing.mult .delim-size4>span {
      font-family: KaTeX_Size4
    }

    .katex .nulldelimiter {
      display: inline-block;
      width: .12em
    }

    .katex .delimcenter,
    .katex .op-symbol {
      position: relative
    }

    .katex .op-symbol.small-op {
      font-family: KaTeX_Size1
    }

    .katex .op-symbol.large-op {
      font-family: KaTeX_Size2
    }

    .katex .accent>.vlist-t,
    .katex .op-limits>.vlist-t {
      text-align: center
    }

    .katex .accent .accent-body>span {
      width: 0
    }

    .katex .accent .accent-body.accent-vec>span {
      position: relative;
      left: .326em
    }

    .katex .accent .accent-body.accent-hungarian>span {
      position: relative;
      left: .25em
    }

    .katex .mtable .vertical-separator {
      display: inline-block;
      margin: 0 -.025em;
      width: .05em
    }

    @media screen {
      .katex .mtable .vertical-separator {
        min-width: 1px
      }
    }

    @media screen and (-webkit-min-device-pixel-ratio:2),
    screen and (min-resolution:192dpi) {
      .katex .mtable .vertical-separator {
        min-width: .5px
      }
    }

    .katex .mtable .arraycolsep {
      display: inline-block
    }

    .katex .mtable .col-align-c>.vlist-t {
      text-align: center
    }

    .katex .mtable .col-align-l>.vlist-t {
      text-align: left
    }

    .katex .mtable .col-align-r>.vlist-t {
      text-align: right
    }

    .katex .svg-align {
      text-align: left
    }

    .katex svg {
      display: block;
      position: absolute;
      width: 100%
    }

    .katex svg path {
      fill: currentColor
    }

    .katex svg line {
      stroke: currentColor
    }

    .katex .stretchy {
      width: 100%;
      display: block
    }

    .katex .stretchy:after,
    .katex .stretchy:before {
      content: ""
    }

    .katex .hide-tail {
      width: 100%;
      position: relative;
      overflow: hidden
    }

    .katex .halfarrow-left {
      position: absolute;
      left: 0;
      width: 50.1%;
      overflow: hidden
    }

    .katex .halfarrow-right {
      position: absolute;
      right: 0;
      width: 50%;
      overflow: hidden
    }

    .katex .brace-left {
      position: absolute;
      left: 0;
      width: 25.1%;
      overflow: hidden
    }

    .katex .brace-center {
      position: absolute;
      left: 25%;
      width: 50%;
      overflow: hidden
    }

    .katex .brace-right {
      position: absolute;
      right: 0;
      width: 25.1%;
      overflow: hidden
    }

    .katex .x-arrow-pad {
      padding: 0 .5em
    }

    .katex .mover,
    .katex .munder,
    .katex .x-arrow {
      text-align: center
    }

    .katex .boxpad {
      padding: 0 .3em
    }

    .katex .fbox {
      box-sizing: border-box;
      border: .04em solid #000
    }

    .katex .fcolorbox {
      box-sizing: border-box;
      border: .04em solid
    }

    .katex .cancel-pad {
      padding: 0 .2em
    }

    .katex .cancel-lap+.mbin,
    .katex .cancel-lap+.mord,
    .katex .cancel-lap+.msupsub,
    .katex .mbin+.cancel-lap,
    .katex .mord+.cancel-lap {
      margin-left: -.2em
    }

    .katex .sout {
      border-bottom-style: solid;
      border-bottom-width: .08em
    }

    .mermaid {
      font-size: 16px
    }

    .mermaid svg {
      color: rgba(0, 0, 0, .75);
      width: 100%;
      max-width: 100%
    }

    .app--dark .mermaid svg {
      color: rgba(255, 255, 255, .75)
    }

    .mermaid svg * {
      font-family: Lato, 'Helvetica Neue', Helvetica, sans-serif
    }

    .mermaid .mermaid .label {
      color: #333
    }

    .mermaid .node circle,
    .mermaid .node ellipse,
    .mermaid .node polygon,
    .mermaid .node rect {
      fill: #eee;
      stroke: #999;
      stroke-width: 1px
    }

    .mermaid .edgePath .path {
      stroke: #666;
      stroke-width: 1.5px
    }

    .mermaid .edgeLabel {
      background-color: #fff
    }

    .mermaid .cluster rect {
      fill: #eaf2fb !important;
      stroke: #26a !important;
      stroke-width: 1px !important
    }

    .mermaid .cluster text {
      fill: #333
    }

    .mermaid .actor {
      stroke: #999;
      fill: #eee
    }

    .mermaid text.actor {
      fill: #333;
      stroke: none
    }

    .mermaid .actor-line {
      stroke: #666
    }

    .mermaid .messageLine0 {
      stroke-width: 1.5;
      stroke-dasharray: "2 2";
      marker-end: "url(#arrowhead)";
      stroke: #333
    }

    .mermaid .messageLine1 {
      stroke-width: 1.5;
      stroke-dasharray: "2 2";
      stroke: #333
    }

    .mermaid #arrowhead {
      fill: #333
    }

    .mermaid #crosshead path {
      fill: #333 !important;
      stroke: #333 !important
    }

    .mermaid .messageText {
      fill: #333;
      stroke: none
    }

    .mermaid .labelBox {
      stroke: #999;
      fill: #eee
    }

    .mermaid .labelText {
      fill: #fff;
      stroke: none
    }

    .mermaid .loopText {
      fill: #fff;
      stroke: none
    }

    .mermaid .loopLine {
      stroke-width: 2;
      stroke-dasharray: "2 2";
      marker-end: "url(#arrowhead)";
      stroke: #999
    }

    .mermaid .note {
      stroke: #770;
      fill: #ffa
    }

    .mermaid .noteText {
      fill: #000;
      stroke: none;
      font-family: Arial, Helvetica, sans-serif;
      font-size: 14px
    }

    .mermaid .section {
      stroke: none;
      opacity: .2
    }

    .mermaid .section0 {
      fill: #7fb2e6
    }

    .mermaid .section2 {
      fill: #7fb2e6
    }

    .mermaid .section1,
    .mermaid .section3 {
      fill: #fff;
      opacity: .2
    }

    .mermaid .sectionTitle0 {
      fill: #333
    }

    .mermaid .sectionTitle1 {
      fill: #333
    }

    .mermaid .sectionTitle2 {
      fill: #333
    }

    .mermaid .sectionTitle3 {
      fill: #333
    }

    .mermaid .sectionTitle {
      text-anchor: start;
      font-size: 11px
    }

    .mermaid .grid .tick {
      stroke: #e5e5e5;
      opacity: .3;
      shape-rendering: crispEdges
    }

    .mermaid .grid path {
      stroke-width: 0
    }

    .mermaid .today {
      fill: none;
      stroke: #d42;
      stroke-width: 2px
    }

    .mermaid .task {
      stroke-width: 2
    }

    .mermaid .taskText {
      text-anchor: middle;
      font-size: 11px
    }

    .mermaid .taskTextOutsideRight {
      fill: #333;
      text-anchor: start;
      font-size: 11px
    }

    .mermaid .taskTextOutsideLeft {
      fill: #333;
      text-anchor: end;
      font-size: 11px
    }

    .mermaid .taskText0,
    .mermaid .taskText1,
    .mermaid .taskText2,
    .mermaid .taskText3 {
      fill: #fff
    }

    .mermaid .task0,
    .mermaid .task1,
    .mermaid .task2,
    .mermaid .task3 {
      fill: #26a;
      stroke: #194c7f
    }

    .mermaid .taskTextOutside0,
    .mermaid .taskTextOutside2 {
      fill: #333
    }

    .mermaid .taskTextOutside1,
    .mermaid .taskTextOutside3 {
      fill: #333
    }

    .mermaid .active0,
    .mermaid .active1,
    .mermaid .active2,
    .mermaid .active3 {
      fill: #eee;
      stroke: #194c7f
    }

    .mermaid .activeText0,
    .mermaid .activeText1,
    .mermaid .activeText2,
    .mermaid .activeText3 {
      fill: #333 !important
    }

    .mermaid .done0,
    .mermaid .done1,
    .mermaid .done2,
    .mermaid .done3 {
      stroke: #666;
      fill: #bbb;
      stroke-width: 2
    }

    .mermaid .doneText0,
    .mermaid .doneText1,
    .mermaid .doneText2,
    .mermaid .doneText3 {
      fill: #333 !important
    }

    .mermaid .crit0,
    .mermaid .crit1,
    .mermaid .crit2,
    .mermaid .crit3 {
      stroke: #b1361b;
      fill: #d42;
      stroke-width: 2
    }

    .mermaid .activeCrit0,
    .mermaid .activeCrit1,
    .mermaid .activeCrit2,
    .mermaid .activeCrit3 {
      stroke: #b1361b;
      fill: #eee;
      stroke-width: 2
    }

    .mermaid .doneCrit0,
    .mermaid .doneCrit1,
    .mermaid .doneCrit2,
    .mermaid .doneCrit3 {
      stroke: #b1361b;
      fill: #bbb;
      stroke-width: 2;
      cursor: pointer
    }

    .mermaid .doneCritText0,
    .mermaid .doneCritText1,
    .mermaid .doneCritText2,
    .mermaid .doneCritText3 {
      fill: #333 !important
    }

    .mermaid .activeCritText0,
    .mermaid .activeCritText1,
    .mermaid .activeCritText2,
    .mermaid .activeCritText3 {
      fill: #333 !important
    }

    .mermaid .titleText {
      text-anchor: middle;
      font-size: 18px;
      fill: #333
    }

    .mermaid g.classGroup text {
      fill: #999;
      stroke: none;
      font-family: 'trebuchet ms', verdana, arial;
      font-size: 10px
    }

    .mermaid g.classGroup rect {
      fill: #eee;
      stroke: #999
    }

    .mermaid g.classGroup line {
      stroke: #999;
      stroke-width: 1
    }

    .mermaid svg .classLabel .box {
      stroke: none;
      stroke-width: 0;
      fill: #eee;
      opacity: .5
    }

    .mermaid svg .classLabel .label {
      fill: #999;
      font-size: 10px
    }

    .mermaid .relation {
      stroke: #999;
      stroke-width: 1;
      fill: none
    }

    .mermaid .composition {
      fill: #999;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #compositionStart {
      fill: #999;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #compositionEnd {
      fill: #999;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid .aggregation {
      fill: #eee;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #aggregationStart {
      fill: #eee;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #aggregationEnd {
      fill: #eee;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #dependencyStart {
      fill: #999;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #dependencyEnd {
      fill: #999;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #extensionStart {
      fill: #999;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid #extensionEnd {
      fill: #999;
      stroke: #999;
      stroke-width: 1
    }

    .mermaid .node text {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 14px
    }

    .mermaid div.mermaidTooltip {
      position: absolute;
      text-align: center;
      max-width: 200px;
      padding: 2px;
      font-family: Arial, Helvetica, sans-serif;
      font-size: 12px;
      background: #eaf2fb;
      border: 1px solid #26a;
      border-radius: 2px;
      pointer-events: none;
      z-index: 100
    }

    .app--dark .mermaid .label {
      color: #323d47
    }

    .app--dark .mermaid .node circle,
    .app--dark .mermaid .node ellipse,
    .app--dark .mermaid .node polygon,
    .app--dark .mermaid .node rect {
      fill: #bdd5ea;
      stroke: #81b1db;
      stroke-width: 1px
    }

    .app--dark .mermaid .edgePath .path {
      stroke: #d3d3d3
    }

    .app--dark .mermaid .edgeLabel {
      background-color: #e8e8e8
    }

    .app--dark .mermaid .cluster rect {
      fill: #6d6d65 !important;
      stroke: rgba(255, 255, 255, .25) !important;
      stroke-width: 1px !important
    }

    .app--dark .mermaid .cluster text {
      fill: #f9fffe
    }

    .app--dark .mermaid .actor {
      stroke: #81b1db;
      fill: #bdd5ea
    }

    .app--dark .mermaid text.actor {
      fill: #000;
      stroke: none
    }

    .app--dark .mermaid .actor-line {
      stroke: #d3d3d3
    }

    .app--dark .mermaid .messageLine0 {
      stroke-width: 1.5;
      stroke-dasharray: "2 2";
      marker-end: "url(#arrowhead)";
      stroke: #d3d3d3
    }

    .app--dark .mermaid .messageLine1 {
      stroke-width: 1.5;
      stroke-dasharray: "2 2";
      stroke: #d3d3d3
    }

    .app--dark .mermaid #arrowhead {
      fill: #d3d3d3 !important
    }

    .app--dark .mermaid #crosshead path {
      fill: #d3d3d3 !important;
      stroke: #d3d3d3 !important
    }

    .app--dark .mermaid .messageText {
      fill: #d3d3d3;
      stroke: none
    }

    .app--dark .mermaid .labelBox {
      stroke: #81b1db;
      fill: #bdd5ea
    }

    .app--dark .mermaid .labelText {
      fill: #323d47;
      stroke: none
    }

    .app--dark .mermaid .loopText {
      fill: #d3d3d3;
      stroke: none
    }

    .app--dark .mermaid .loopLine {
      stroke-width: 2;
      stroke-dasharray: "2 2";
      marker-end: "url(#arrowhead)";
      stroke: #81b1db
    }

    .app--dark .mermaid .note {
      stroke: rgba(255, 255, 255, .25);
      fill: #fff5ad
    }

    .app--dark .mermaid .noteText {
      fill: #000;
      stroke: none;
      font-family: 'trebuchet ms', verdana, arial;
      font-size: 14px
    }

    .app--dark .mermaid .section {
      stroke: none;
      opacity: .2
    }

    .app--dark .mermaid .section0 {
      fill: rgba(255, 255, 255, .3)
    }

    .app--dark .mermaid .section2 {
      fill: #eae8b9
    }

    .app--dark .mermaid .section1,
    .app--dark .mermaid .section3 {
      fill: #fff;
      opacity: .2
    }

    .app--dark .mermaid .sectionTitle0 {
      fill: #f9fffe
    }

    .app--dark .mermaid .sectionTitle1 {
      fill: #f9fffe
    }

    .app--dark .mermaid .sectionTitle2 {
      fill: #f9fffe
    }

    .app--dark .mermaid .sectionTitle3 {
      fill: #f9fffe
    }

    .app--dark .mermaid .sectionTitle {
      text-anchor: start;
      font-size: 11px
    }

    .app--dark .mermaid .grid .tick {
      stroke: rgba(255, 255, 255, .3);
      opacity: .3;
      shape-rendering: crispEdges
    }

    .app--dark .mermaid .grid .tick text {
      fill: #d3d3d3;
      opacity: .5
    }

    .app--dark .mermaid .grid path {
      stroke-width: 0
    }

    .app--dark .mermaid .today {
      fill: none;
      stroke: #db5757;
      stroke-width: 2px
    }

    .app--dark .mermaid .task {
      stroke-width: 1
    }

    .app--dark .mermaid .taskText {
      text-anchor: middle;
      font-size: 11px
    }

    .app--dark .mermaid .taskTextOutsideRight {
      fill: #323d47;
      text-anchor: start;
      font-size: 11px
    }

    .app--dark .mermaid .taskTextOutsideLeft {
      fill: #323d47;
      text-anchor: end;
      font-size: 11px
    }

    .app--dark .mermaid .taskText0,
    .app--dark .mermaid .taskText1,
    .app--dark .mermaid .taskText2,
    .app--dark .mermaid .taskText3 {
      fill: #323d47
    }

    .app--dark .mermaid .task0,
    .app--dark .mermaid .task1,
    .app--dark .mermaid .task2,
    .app--dark .mermaid .task3 {
      fill: #bdd5ea;
      stroke: rgba(255, 255, 255, .5)
    }

    .app--dark .mermaid .taskTextOutside0,
    .app--dark .mermaid .taskTextOutside2 {
      fill: #d3d3d3
    }

    .app--dark .mermaid .taskTextOutside1,
    .app--dark .mermaid .taskTextOutside3 {
      fill: #d3d3d3
    }

    .app--dark .mermaid .active0,
    .app--dark .mermaid .active1,
    .app--dark .mermaid .active2,
    .app--dark .mermaid .active3 {
      fill: #81b1db;
      stroke: rgba(255, 255, 255, .5)
    }

    .app--dark .mermaid .activeText0,
    .app--dark .mermaid .activeText1,
    .app--dark .mermaid .activeText2,
    .app--dark .mermaid .activeText3 {
      fill: #323d47 !important
    }

    .app--dark .mermaid .done0,
    .app--dark .mermaid .done1,
    .app--dark .mermaid .done2,
    .app--dark .mermaid .done3 {
      fill: #d3d3d3
    }

    .app--dark .mermaid .doneText0,
    .app--dark .mermaid .doneText1,
    .app--dark .mermaid .doneText2,
    .app--dark .mermaid .doneText3 {
      fill: #323d47 !important
    }

    .app--dark .mermaid .crit0,
    .app--dark .mermaid .crit1,
    .app--dark .mermaid .crit2,
    .app--dark .mermaid .crit3 {
      stroke: #e83737;
      fill: #e83737;
      stroke-width: 2
    }

    .app--dark .mermaid .activeCrit0,
    .app--dark .mermaid .activeCrit1,
    .app--dark .mermaid .activeCrit2,
    .app--dark .mermaid .activeCrit3 {
      stroke: #e83737;
      fill: #81b1db;
      stroke-width: 2
    }

    .app--dark .mermaid .doneCrit0,
    .app--dark .mermaid .doneCrit1,
    .app--dark .mermaid .doneCrit2,
    .app--dark .mermaid .doneCrit3 {
      stroke: #e83737;
      fill: #d3d3d3;
      stroke-width: 1;
      cursor: pointer;
      shape-rendering: crispEdges
    }

    .app--dark .mermaid .doneCritText0,
    .app--dark .mermaid .doneCritText1,
    .app--dark .mermaid .doneCritText2,
    .app--dark .mermaid .doneCritText3 {
      fill: #d3d3d3 !important
    }

    .app--dark .mermaid .activeCritText0,
    .app--dark .mermaid .activeCritText1,
    .app--dark .mermaid .activeCritText2,
    .app--dark .mermaid .activeCritText3 {
      fill: #323d47 !important
    }

    .app--dark .mermaid .titleText {
      text-anchor: middle;
      font-size: 18px;
      fill: #d3d3d3
    }

    .app--dark .mermaid .node text {
      font-family: 'trebuchet ms', verdana, arial;
      font-size: 14px
    }

    .app--dark .mermaid div.mermaidTooltip {
      position: absolute;
      text-align: center;
      max-width: 200px;
      padding: 2px;
      font-family: 'trebuchet ms', verdana, arial;
      font-size: 12px;
      background: #6d6d65;
      border: 1px solid rgba(255, 255, 255, .25);
      border-radius: 2px;
      pointer-events: none;
      z-index: 100
    }

    .prism *,
    .token.pre.gfm * {
      font-weight: inherit !important
    }

    .prism .token.cdata,
    .prism .token.comment,
    .prism .token.doctype,
    .prism .token.prolog,
    .token.pre.gfm .token.cdata,
    .token.pre.gfm .token.comment,
    .token.pre.gfm .token.doctype,
    .token.pre.gfm .token.prolog {
      color: #708090
    }

    .prism .token.punctuation,
    .token.pre.gfm .token.punctuation {
      color: #999
    }

    .prism .namespace,
    .token.pre.gfm .namespace {
      opacity: .7
    }

    .prism .token.boolean,
    .prism .token.constant,
    .prism .token.deleted,
    .prism .token.number,
    .prism .token.property,
    .prism .token.symbol,
    .prism .token.tag,
    .token.pre.gfm .token.boolean,
    .token.pre.gfm .token.constant,
    .token.pre.gfm .token.deleted,
    .token.pre.gfm .token.number,
    .token.pre.gfm .token.property,
    .token.pre.gfm .token.symbol,
    .token.pre.gfm .token.tag {
      color: #ae81ff
    }

    .prism .token.attr-name,
    .prism .token.builtin,
    .prism .token.char,
    .prism .token.inserted,
    .prism .token.selector,
    .prism .token.string,
    .token.pre.gfm .token.attr-name,
    .token.pre.gfm .token.builtin,
    .token.pre.gfm .token.char,
    .token.pre.gfm .token.inserted,
    .token.pre.gfm .token.selector,
    .token.pre.gfm .token.string {
      color: #78ab12
    }

    .prism .language-css .token.string,
    .prism .style .token.string,
    .prism .token.entity,
    .prism .token.operator,
    .prism .token.url,
    .token.pre.gfm .language-css .token.string,
    .token.pre.gfm .style .token.string,
    .token.pre.gfm .token.entity,
    .token.pre.gfm .token.operator,
    .token.pre.gfm .token.url {
      color: #a67f59
    }

    .prism .token.atrule,
    .prism .token.attr-value,
    .prism .token.keyword,
    .token.pre.gfm .token.atrule,
    .token.pre.gfm .token.attr-value,
    .token.pre.gfm .token.keyword {
      color: #36bcd6
    }

    .prism .token.function,
    .token.pre.gfm .token.function {
      color: #f92672
    }

    .prism .token.important,
    .prism .token.regex,
    .prism .token.variable,
    .token.pre.gfm .token.important,
    .token.pre.gfm .token.regex,
    .token.pre.gfm .token.variable {
      color: #e90
    }

    .prism .token.bold,
    .prism .token.important,
    .token.pre.gfm .token.bold,
    .token.pre.gfm .token.important {
      font-weight: 500
    }

    .prism .token.italic,
    .token.pre.gfm .token.italic {
      font-style: italic
    }

    body {
      background-color: #f8fafc
    }

    .transition {
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .moco-ico-btn {
      line-height: 36px;
      height: 36px;
      padding: 0 24px
    }

    #main {
      min-height: initial;
      padding: 0
    }

    .main_con {
      position: relative;
      width: 1200px;
      margin: 32px auto 0 auto
    }

    .main_con .left_essay {
      width: 1200px
    }

    .main_con .right_recommend {
      width: 280px
    }

    .main_con .right_recommend>div:first-child {
      margin-top: 0
    }

    .active-box {
      text-align: center;
      position: fixed;
      top: 190px;
      left: 50%;
      margin-left: -546px;
      z-index: 88
    }

    .active-box .icon-warp {
      padding-bottom: 12px
    }

    .active-box .icon-warp .sharetext {
      position: relative;
      top: -6px
    }

    .active-box .icon-warp .tip {
      width: 221px;
      height: 26px;
      background: #fa0;
      box-shadow: 0 4px 8px 0 rgba(255, 170, 0, .4);
      border-radius: 6px;
      position: absolute;
      right: -220px;
      top: 0;
      box-sizing: border-box
    }

    .active-box .icon-warp .tip .text {
      font-size: 12px;
      color: #fff;
      line-height: 26px;
      padding-left: 4px
    }

    .active-box .icon-warp .tip .js-close {
      position: relative;
      top: 1px;
      font-size: 14px;
      color: rgba(255, 255, 255, .6);
      line-height: 26px;
      cursor: pointer
    }

    .active-box .icon-warp .tip::before {
      position: absolute;
      left: -6px;
      top: 6px;
      content: '';
      width: 0;
      height: 0;
      border-top: 7px solid transparent;
      border-right: 6px solid #fa0;
      border-bottom: 7px solid transparent
    }

    .active-box .sharetext {
      margin-bottom: 8px;
      font-size: 12px;
      color: #9199a1
    }

    .active-box .icon-warp2 {
      width: 36px;
      padding-bottom: 16px;
      position: relative
    }

    .active-box .weichat-posi {
      width: 36px;
      height: 262px
    }

    .active-box .weichat-posi span {
      font-size: 12px;
      color: #9199a1;
      line-height: 18px
    }

    .active-box .active-star {
      color: #4d555d !important
    }

    .active-box .active-star:hover {
      color: #4d555d !important
    }

    .active-box .small-share .weichat-posi {
      height: auto;
      padding-left: 0
    }

    .active-box .small-share .weichat-posi .praise-box {
      position: relative;
      width: 100%;
      left: -2px;
      text-align: center;
      padding-bottom: 12px
    }

    .active-box .small-share .weichat-posi .praise-box button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 170, 0, .1);
      border: none;
      position: relative;
      display: block;
      margin: 0 auto;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .active-box .small-share .weichat-posi .praise-box button .imv2-thumb_up {
      line-height: 24px;
      position: relative;
      display: inline-block;
      font-size: 24px;
      color: #fa0;
      cursor: pointer;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .active-box .small-share .weichat-posi .praise-box button .praised {
      color: #fff
    }

    .active-box .small-share .weichat-posi .praise-box button .praised:hover {
      color: #fff
    }

    .active-box .small-share .weichat-posi .praise-box button svg {
      left: 0
    }

    .active-box .small-share .weichat-posi .praise-box button:focus,
    .active-box .small-share .weichat-posi .praise-box button:hover {
      outline: 0
    }

    .active-box .small-share .weichat-posi .praise-box button:hover {
      background: #fa0
    }

    .active-box .small-share .weichat-posi .praise-box button:hover .imv2-thumb_up {
      color: #fff
    }

    .active-box .small-share .weichat-posi .icon-nav {
      width: 24px;
      height: 24px;
      font-size: 24px;
      color: #b2b8bd;
      line-height: 24px;
      border-radius: 50%
    }

    .active-box .small-share .weichat-posi .icon-nav:hover {
      color: #545c63
    }

    .active-box .small-share .weichat-posi .line {
      width: 24px;
      height: 1px;
      margin: 4px auto 8px auto;
      background: rgba(28, 31, 33, .1)
    }

    .active-box .small-share .weichat-posi .dc-follow {
      cursor: pointer;
      height: 18px;
      line-height: 18px
    }

    .active-box .small-share .weichat-posi .dc-follow i,
    .active-box .small-share .weichat-posi .dc-follow span {
      display: inline-block;
      vertical-align: middle;
      height: 18px;
      line-height: 18px
    }

    .active-box .small-share .weichat-posi .dc-follow i {
      margin: -5px 5px 0 0;
      font-size: 22px;
      color: #787d82
    }

    .active-box .small-share .weichat-posi .dc-follow span {
      font-size: 12px
    }

    .active-box .small-share .weichat-posi .dc-follow:hover i {
      color: #f01400
    }

    .left_essay .part_essay {
      background: #fff;
      box-shadow: 0 8px 16px 0 rgba(7, 17, 27, .05);
      border-radius: 12px;
      box-sizing: border-box;
      padding: 40px 40px 24px 40px;
      position: relative
    }

    .left_essay .part_essay .originalImg {
      background: url(/static/img/article/original.png?t=2);
      background-position: 0 0;
      background-size: 64px;
      width: 64px;
      height: 64px;
      position: absolute;
      left: 0;
      top: 0
    }

    .left_essay .part_essay .firstPublishImg {
      background: url(/static/img/article/original.png?t=2);
      background-size: 64px;
      background-position: 0 64px;
      width: 64px;
      height: 64px;
      position: absolute;
      left: 0;
      top: 0
    }

    .left_essay .part_essay .detail-path {
      font-size: 12px;
      color: #9199a1;
      line-height: 24px
    }

    .left_essay .part_essay .detail-path i {
      font-size: 20px;
      line-height: 16px;
      vertical-align: text-bottom
    }

    .left_essay .part_essay .detail-path .imooc {
      position: relative;
      z-index: 2;
      cursor: pointer
    }

    .left_essay .part_essay .detail-path .imooc:hover {
      text-decoration: none
    }

    .left_essay .part_essay .detail-path a {
      color: #9199a1
    }

    .left_essay .part_essay .detail-path a:hover {
      text-decoration: underline
    }

    .left_essay .part_essay .detail-path span {
      margin: 0 5px
    }

    .left_essay .part_essay .detail-title-wrap .detail-title {
      font-size: 32px;
      color: #1c1f21;
      line-height: 40px;
      margin: 8px 0;
      word-wrap: break-word;
      word-break: break-all
    }

    .left_essay .part_essay .detail-title-wrap .detail-title .d-t {
      font-weight: 700
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile {
      font-size: 12px;
      color: #9199a1;
      line-height: 24px
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile span {
      vertical-align: middle
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile a {
      vertical-align: middle;
      cursor: pointer
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .spacer {
      margin-right: 24px
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .dc-sns {
      position: relative;
      margin-right: 24px;
      font-size: 12px;
      color: #9199a1;
      line-height: 16px
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .dc-sns:last-child {
      margin-right: 0
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .dc-sns i {
      width: 16px;
      height: 16px;
      display: inline-block;
      font-size: 16px;
      margin-top: -3px;
      vertical-align: middle
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .dc-sns:hover {
      color: #4d555d
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info {
      position: relative;
      display: inline-block
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info.active-font {
      color: red
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info i {
      font-size: 16px;
      color: #9199a1;
      line-height: 16px;
      padding-right: 2px;
      vertical-align: middle
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info .size-show {
      font-size: 12px;
      color: #9199a1;
      line-height: 16px
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info .font-box-s {
      width: 204px;
      height: 66px;
      box-sizing: border-box;
      background: #1c1f21;
      box-shadow: 0 8px 16px 0 rgba(28, 31, 33, .2);
      border-radius: 12px;
      position: absolute;
      right: -80px;
      top: 30px;
      z-index: 2;
      padding: 16px 24px
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info .font-box-s .s-font {
      color: #fff !important
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info .font-box-s .b-z {
      font-weight: 700;
      font-size: 20px;
      color: rgba(255, 255, 255, .6);
      line-height: 32px;
      margin-right: 24px;
      cursor: pointer
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info .font-box-s .m-z {
      font-weight: 700;
      font-size: 18px;
      color: rgba(255, 255, 255, .6);
      line-height: 32px;
      margin-right: 24px;
      cursor: pointer
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info .font-box-s .s-z {
      font-weight: 700;
      font-size: 16px;
      color: rgba(255, 255, 255, .6);
      line-height: 32px;
      cursor: pointer
    }

    .left_essay .part_essay .detail-title-wrap .dc-profile .path-right-box .rinfo .font-info .font-box-s .triangle {
      width: 0;
      height: 0;
      position: absolute;
      left: 86px;
      top: -8px;
      border-bottom: 10px #1c1f21 solid;
      border-left: 12px transparent solid;
      border-right: 12px transparent solid
    }

    .left_essay .part_essay .detail-content-wrap {
      overflow: hidden;
      padding-top: 24px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content {
      font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, STHeiti, "Microsoft Yahei", sans-serif;
      font-size: 16px;
      line-height: 32px;
      color: #1c1f21;
      word-wrap: break-word;
      color: #1c1f21;
      font-family: "PingFang SC", "微软雅黑", "Microsoft YaHei", Helvetica, "Helvetica Neue", Tahoma, Arial, sans-serif;
      line-height: 36px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content.long-content {
      max-height: 1800px;
      overflow-y: hidden;
      position: relative
    }

    .left_essay .part_essay .detail-content-wrap .detail-content.long-content .showMore {
      display: block;
      width: 100%;
      position: absolute;
      bottom: 0;
      left: 0;
      height: 56px;
      font-size: 16px;
      text-align: center;
      line-height: 24px;
      background: #fff;
      box-shadow: 0 -10px 120px 54px #fff;
      border-bottom: 1px solid rgba(28, 31, 33, .1)
    }

    .left_essay .part_essay .detail-content-wrap .detail-content.long-content .showMore span {
      cursor: pointer;
      color: #37f;
      display: block;
      margin-top: 10px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content.long-content .showMore span:hover {
      color: #04c
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .showMore {
      display: none
    }

    .left_essay .part_essay .detail-content-wrap .detail-content img {
      margin: .6em auto
    }

    .left_essay .part_essay .detail-content-wrap .detail-content b,
    .left_essay .part_essay .detail-content-wrap .detail-content strong {
      font-weight: 700;
      font-style: inherit
    }

    .left_essay .part_essay .detail-content-wrap .detail-content address,
    .left_essay .part_essay .detail-content-wrap .detail-content cite,
    .left_essay .part_essay .detail-content-wrap .detail-content dfn,
    .left_essay .part_essay .detail-content-wrap .detail-content em,
    .left_essay .part_essay .detail-content-wrap .detail-content i,
    .left_essay .part_essay .detail-content-wrap .detail-content var {
      font-style: italic;
      font-weight: inherit
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol p,
    .left_essay .part_essay .detail-content-wrap .detail-content ul p {
      margin: .6em 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol {
      list-style: decimal;
      padding-left: 30px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ul {
      list-style: disc;
      padding-left: 30px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content a:link,
    .left_essay .part_essay .detail-content-wrap .detail-content a:visited {
      color: #08c;
      text-decoration: none
    }

    .left_essay .part_essay .detail-content-wrap .detail-content a:active,
    .left_essay .part_essay .detail-content-wrap .detail-content a:hover {
      text-decoration: underline
    }

    .left_essay .part_essay .detail-content-wrap .detail-content blockquote {
      text-indent: 0;
      padding: 10.5px 21px;
      background-color: #f5f5f5;
      border-left: 4px solid #ccc;
      color: #555;
      font-size: 1em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content code,
    .left_essay .part_essay .detail-content-wrap .detail-content kbd,
    .left_essay .part_essay .detail-content-wrap .detail-content pre,
    .left_essay .part_essay .detail-content-wrap .detail-content samp {
      font-family: Menlo, Monaco, Consolas, "Courier New", monospace
    }

    .left_essay .part_essay .detail-content-wrap .detail-content code {
      font-size: 90%;
      color: #c7254e;
      background-color: #f9f2f4;
      border-radius: 3px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre {
      display: block;
      padding: 9.5px;
      margin: 0 0 10px;
      font-size: 13px;
      line-height: 1.42857143;
      color: #333;
      word-break: break-all;
      word-wrap: break-word;
      background-color: #eee !important;
      border-radius: 4px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h1 {
      padding-bottom: 8px;
      font-size: 1.57143em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h2 {
      padding-bottom: 8px;
      font-size: 1.42857em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h3 {
      font-size: 1.14286em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h4 {
      font-size: 1em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h5 {
      font-size: .92857em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h6 {
      font-size: .85714em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content blockquote,
    .left_essay .part_essay .detail-content-wrap .detail-content h4,
    .left_essay .part_essay .detail-content-wrap .detail-content ol,
    .left_essay .part_essay .detail-content-wrap .detail-content p,
    .left_essay .part_essay .detail-content-wrap .detail-content pre,
    .left_essay .part_essay .detail-content-wrap .detail-content table,
    .left_essay .part_essay .detail-content-wrap .detail-content ul {
      margin: .8em 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h1,
    .left_essay .part_essay .detail-content-wrap .detail-content h2,
    .left_essay .part_essay .detail-content-wrap .detail-content h3 {
      font-family: inherit;
      margin: 22px 0 10px;
      font-weight: 700
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h4,
    .left_essay .part_essay .detail-content-wrap .detail-content h5,
    .left_essay .part_essay .detail-content-wrap .detail-content h6 {
      font-weight: 700;
      font-family: inherit
    }

    .left_essay .part_essay .detail-content-wrap .detail-content blockquote:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content h1:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content h2:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content h3:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content h4:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content ol:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content p:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content pre:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content table:first-child,
    .left_essay .part_essay .detail-content-wrap .detail-content ul:first-child {
      margin-top: 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content blockquote ol:last-child,
    .left_essay .part_essay .detail-content-wrap .detail-content blockquote p:last-child,
    .left_essay .part_essay .detail-content-wrap .detail-content blockquote ul:last-child {
      margin-bottom: 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol,
    .left_essay .part_essay .detail-content-wrap .detail-content ul {
      padding-left: 30px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol ol,
    .left_essay .part_essay .detail-content-wrap .detail-content ol ul,
    .left_essay .part_essay .detail-content-wrap .detail-content ul ol,
    .left_essay .part_essay .detail-content-wrap .detail-content ul ul {
      margin-top: 0;
      margin-bottom: 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content audio,
    .left_essay .part_essay .detail-content-wrap .detail-content img,
    .left_essay .part_essay .detail-content-wrap .detail-content video {
      max-width: 100%;
      position: static !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content blockquote p:first-child {
      margin-top: 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content code,
    .left_essay .part_essay .detail-content-wrap .detail-content pre {
      font-size: .92857em;
      background-color: #f3f3f3
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre {
      position: relative;
      padding: 10px;
      border: none;
      overflow: auto;
      line-height: 1.3;
      text-indent: 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre code {
      background-color: transparent;
      font-size: 1em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content hr {
      margin: 20px auto;
      border-top: 2px dotted #eee
    }

    .left_essay .part_essay .detail-content-wrap .detail-content kbd {
      padding: 4px 4px 3px;
      background: #eee;
      color: #555
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .x-scroll {
      overflow-x: auto
    }

    .left_essay .part_essay .detail-content-wrap .detail-content table {
      max-width: 100%
    }

    .left_essay .part_essay .detail-content-wrap .detail-content table td,
    .left_essay .part_essay .detail-content-wrap .detail-content table th {
      border: 1px solid #e6e6e6 !important;
      padding: 5px 8px !important;
      word-break: normal
    }

    .left_essay .part_essay .detail-content-wrap .detail-content table th {
      background: #eee
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .editor__inner {
      font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, STHeiti, "Microsoft Yahei", sans-serif;
      font-size: 16px;
      color: #1c1f21;
      background-color: #fff;
      overflow: auto;
      word-wrap: break-word
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .editor__inner .cledit-section {
      line-height: 1.8
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .markdown-preview {
      font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, STHeiti, "Microsoft Yahei", sans-serif;
      font-size: 16px;
      color: #1c1f21;
      word-wrap: break-word;
      height: 100%;
      background-color: #fff;
      overflow: auto
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section {
      font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, STHeiti, "Microsoft Yahei", sans-serif;
      font-size: 16px;
      color: #1c1f21;
      word-wrap: break-word;
      background-color: #fff;
      line-height: 32px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box {
      display: none;
      position: fixed;
      width: 70%;
      min-width: 800px;
      max-width: 1440px;
      min-height: 320px;
      top: 50%;
      left: 50%;
      -webkit-transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
      border-radius: 12px;
      box-sizing: border-box;
      z-index: 860;
      background: #26292c;
      box-shadow: 0 4px 8px 0 #1c1f21;
      overflow: hidden
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box .code-preview-title {
      width: 100%;
      color: #fff;
      line-height: 24px;
      font-size: 16px;
      font-weight: 600;
      padding: 12px 16px;
      display: block;
      box-sizing: border-box
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box .code-preview-title i {
      float: right;
      font-size: 22px;
      cursor: pointer;
      color: rgba(255, 255, 255, .4)
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box .code-preview-title i:hover {
      color: #fff
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box pre {
      position: relative;
      overflow: auto;
      min-height: 272px;
      margin: 0 !important;
      border-radius: 0;
      background: #1d1f21 !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box pre::-webkit-scrollbar {
      width: 10px;
      height: 10px;
      background-color: transparent
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box pre::-webkit-scrollbar-track {
      background-color: #26292c;
      border-radius: 10px;
      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3)
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box pre::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, .2);
      border-radius: 10px;
      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3)
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box pre::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, .6)
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box pre::-webkit-scrollbar-corner {
      background-color: #26292c
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .cl-preview-section.code-preview-box pre code {
      background: #1d1f21 !important;
      color: #fff !important;
      border: 0;
      overflow-x: initial
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ul.more-expand {
      margin: 0;
      top: 36px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content img {
      display: block;
      margin: .6em auto
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol {
      list-style: decimal;
      padding-left: 40px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ul {
      list-style: disc;
      padding-left: 40px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol li,
    .left_essay .part_essay .detail-content-wrap .detail-content ul li {
      text-indent: 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol li img,
    .left_essay .part_essay .detail-content-wrap .detail-content ul li img {
      margin: 0;
      max-width: 100% !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content blockquote img {
      margin: 0;
      max-width: 100% !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol p,
    .left_essay .part_essay .detail-content-wrap .detail-content ul p {
      margin: .6em 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h1 {
      padding-bottom: 8px;
      font-size: 1.57143em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h2 {
      padding-bottom: 8px;
      font-size: 1.42857em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h3 {
      font-size: 1.14286em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h4 {
      font-size: 1em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h5 {
      font-size: .92857em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h6 {
      font-size: .85714em
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h1,
    .left_essay .part_essay .detail-content-wrap .detail-content h2,
    .left_essay .part_essay .detail-content-wrap .detail-content h3 {
      font-family: inherit;
      margin: 22px 0 10px;
      font-weight: 700
    }

    .left_essay .part_essay .detail-content-wrap .detail-content h4,
    .left_essay .part_essay .detail-content-wrap .detail-content h5,
    .left_essay .part_essay .detail-content-wrap .detail-content h6 {
      font-weight: 700;
      font-family: inherit;
      margin: .8em 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content blockquote,
    .left_essay .part_essay .detail-content-wrap .detail-content ol,
    .left_essay .part_essay .detail-content-wrap .detail-content p,
    .left_essay .part_essay .detail-content-wrap .detail-content pre,
    .left_essay .part_essay .detail-content-wrap .detail-content table,
    .left_essay .part_essay .detail-content-wrap .detail-content ul {
      margin: .8em 0 !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content address,
    .left_essay .part_essay .detail-content-wrap .detail-content cite,
    .left_essay .part_essay .detail-content-wrap .detail-content dfn,
    .left_essay .part_essay .detail-content-wrap .detail-content em,
    .left_essay .part_essay .detail-content-wrap .detail-content i,
    .left_essay .part_essay .detail-content-wrap .detail-content var {
      font-style: italic !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content b,
    .left_essay .part_essay .detail-content-wrap .detail-content strong {
      font-style: inherit !important;
      font-weight: 700 !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content a:link,
    .left_essay .part_essay .detail-content-wrap .detail-content a:visited {
      color: #08c;
      text-decoration: none
    }

    .left_essay .part_essay .detail-content-wrap .detail-content a:active,
    .left_essay .part_essay .detail-content-wrap .detail-content a:hover {
      text-decoration: underline
    }

    .left_essay .part_essay .detail-content-wrap .detail-content table {
      max-width: 100%
    }

    .left_essay .part_essay .detail-content-wrap .detail-content table td,
    .left_essay .part_essay .detail-content-wrap .detail-content table th {
      border: 1px solid #e6e6e6 !important;
      padding: 5px 8px !important;
      word-break: normal
    }

    .left_essay .part_essay .detail-content-wrap .detail-content table th {
      background: #eee
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .mermaid {
      line-height: 1.67
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .mermaid svg {
      height: auto
    }

    .left_essay .part_essay .detail-content-wrap .detail-content code {
      background-color: rgba(0, 0, 0, .05) !important;
      border-radius: 2px;
      padding: 2px 4px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre {
      padding: 0 !important;
      line-height: 1.67
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre>code {
      background-color: #fbfdff !important;
      color: #07111b !important;
      border: 1px solid #f1f3f5;
      display: block;
      padding: 10px !important;
      -webkit-text-size-adjust: none;
      overflow-x: auto;
      white-space: pre;
      font-size: 1em;
      line-height: 1.5
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .toc ul {
      list-style-type: none;
      padding-left: 20px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content p {
      text-indent: 0;
      line-height: 32px;
      margin: 24px 0 !important;
      color: #1c1f21;
      overflow-x: auto;
      text-align: justify
    }

    .left_essay .part_essay .detail-content-wrap .detail-content p img {
      cursor: pointer;
      display: block;
      margin: 10px auto 14px;
      max-width: 100% !important;
      transform: none !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content strong {
      margin-top: 2px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre {
      margin: 24px 0 !important;
      text-indent: 0
    }

    .left_essay .part_essay .detail-content-wrap .detail-content img {
      margin: 24px auto;
      max-width: 100% !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content img.lazyload {
      width: 100%;
      height: 240px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content code {
      text-indent: 0;
      word-break: break-all;
      line-height: 24px !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content .video-play-box,
    .left_essay .part_essay .detail-content-wrap .detail-content blockquote,
    .left_essay .part_essay .detail-content-wrap .detail-content ol,
    .left_essay .part_essay .detail-content-wrap .detail-content ul {
      margin: 24px 0 !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content ol,
    .left_essay .part_essay .detail-content-wrap .detail-content ul {
      margin-left: -20px !important
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre #code-preview {
      width: 42px;
      height: 24px;
      line-height: 24px;
      position: absolute;
      top: 0;
      right: 0;
      color: #fff;
      background: rgba(28, 31, 33, .2);
      transition: all .2s;
      font-size: 13px;
      text-align: center;
      cursor: pointer;
      border-radius: 0 4px 0 4px
    }

    .left_essay .part_essay .detail-content-wrap .detail-content pre #code-preview:hover {
      color: #fff;
      background: rgba(28, 31, 33, .4)
    }

    .left_essay .part_essay .detail-content-wrap .cat-box {
      margin-top: 24px;
      width: 100%;
      text-align: center
    }

    .left_essay .part_essay .detail-content-wrap .cat-box .cat-wrap {
      display: inline-block
    }

    .left_essay .part_essay .detail-content-wrap .cat-box p {
      margin-top: 8px;
      text-align: center;
      font-size: 12px;
      color: #9199a1;
      line-height: 18px
    }

    .left_essay .part_essay .detail-content-wrap .cat-box .cat {
      display: inline-block;
      margin-right: 12px;
      padding: 4px 12px;
      background: rgba(84, 92, 99, .1);
      border-radius: 12px;
      font-size: 12px;
      color: #545c63;
      line-height: 16px
    }

    .left_essay .part_essay .detail-content-wrap .cat-box .cat:hover {
      color: #07111b
    }

    .left_essay .part_essay .detail-content-wrap .cat-box .original {
      margin-top: 8px;
      text-align: center;
      font-size: 12px;
      color: #9199a1;
      line-height: 18px;
      display: inline-block
    }

    .left_essay .part_essay .detail-content-wrap .cat-box .line-r {
      width: 130px;
      height: 2px;
      background: #f3f5f7;
      display: inline-block;
      margin: 0 24px
    }

    .left_essay .part_essay .detail-content-wrap .praise-box {
      position: relative;
      width: 100%;
      margin: 48px 0 0 0;
      text-align: center
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      background: rgba(255, 170, 0, .1);
      border: none;
      position: relative;
      display: block;
      margin: 0 auto;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button .imv2-thumb_up {
      line-height: 72px;
      position: relative;
      display: inline-block;
      font-size: 36px;
      color: #fa0;
      cursor: pointer;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button .praised {
      color: #fff
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button .praised:hover {
      color: #fff
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button svg {
      left: 0
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button:focus,
    .left_essay .part_essay .detail-content-wrap .praise-box button:hover {
      outline: 0
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button:hover {
      background: #fa0
    }

    .left_essay .part_essay .detail-content-wrap .praise-box button:hover .imv2-thumb_up {
      color: #fff
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .num-person {
      margin-top: 4px;
      font-size: 14px;
      color: #545c63;
      line-height: 22px;
      cursor: pointer
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share {
      position: absolute;
      top: 80px;
      left: 252px;
      color: #2b333b;
      font-size: 72px;
      z-index: 10
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share .praise-share-box {
      position: absolute;
      top: 44px;
      left: -88px;
      padding: 16px 24px;
      background: #fff;
      width: 200px;
      height: 64px;
      background: #2b333b;
      box-shadow: 0 8px 16px 0 rgba(7, 17, 27, .2);
      border-radius: 8px
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share .praise-share-box p {
      font-size: 12px;
      color: #f90;
      line-height: 24px;
      margin-bottom: 8px
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share .praise-share-box .share-content .icon-warp {
      float: left;
      width: 32px;
      height: 32px;
      margin-right: 24px;
      font-size: 32px;
      color: rgba(255, 255, 255, .8)
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share .praise-share-box .share-content .icon-warp:first-child {
      margin-left: 16px
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share .praise-share-box .share-content .icon-warp:last-child {
      margin-right: 0
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share .praise-share-box .share-content .icon-warp a {
      font-size: 32px;
      color: rgba(255, 255, 255, .8);
      background-image: inherit;
      background-repeat: inherit;
      cursor: pointer
    }

    .left_essay .part_essay .detail-content-wrap .praise-box .praise-share .praise-share-box .share-content .icon-warp a:hover {
      color: rgba(255, 255, 255, .4)
    }

    .left_essay .article_wrap {
      margin-bottom: 80px
    }

    .left_essay .article_wrap .article-wrapper:not(.empty) {
      padding: 12px 0 20px;
      background: #fff;
      border-radius: 12px
    }

    .left_essay .article_wrap .line_con {
      width: 100%;
      position: relative;
      margin: 0 0 28px 0
    }

    .left_essay .article_wrap .line_con .line {
      width: 100%;
      height: 1px;
      background: #d3d6d9;
      display: inline-block
    }

    .left_essay .article_wrap .line_con .line_text {
      display: inline-block;
      position: absolute;
      top: 3px;
      left: 256px;
      padding: 0 24px;
      font-weight: 700;
      font-size: 16px;
      color: #9199a1;
      line-height: 24px;
      background: #f8fafc
    }

    .left_essay .article_wrap ul {
      width: 626px;
      height: 89px;
      padding-top: 8px;
      margin: 8px auto 0 auto
    }

    .left_essay .article_wrap ul li {
      width: 116px;
      height: 32px;
      cursor: pointer;
      line-height: 32px;
      text-align: center;
      font-size: 12px;
      color: #545c63;
      margin-right: 9px;
      margin-bottom: 8px;
      background: #fff;
      border: 1px solid rgba(28, 31, 33, .1);
      border-radius: 16px
    }

    .left_essay .article_wrap ul li:nth-child(5n) {
      margin-right: 0
    }

    .left_essay .article_wrap ul li:hover a {
      color: #37f
    }

    .left_essay .article_wrap .article {
      width: 100%;
      height: 80px;
      padding: 0 4px;
      box-sizing: border-box;
      margin-bottom: 0;
      background: #fff;
      box-shadow: unset;
      border-radius: 0;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .left_essay .article_wrap .article .imgCon {
      width: 66px;
      height: 66px;
      border-radius: 8px;
      margin: 8px 16px 6px 16px
    }

    .left_essay .article_wrap .article .imgCon img {
      width: 100%;
      height: 100%;
      border-radius: 8px
    }

    .left_essay .article_wrap .article .list-content {
      width: 534px;
      height: 69px;
      padding-top: 10px;
      border-bottom: 1px solid rgba(28, 31, 33, .1)
    }

    .left_essay .article_wrap .article .list-content .title p {
      font-weight: 700;
      margin-bottom: 4px;
      font-size: 16px;
      color: #1c1f21;
      line-height: 30px;
      word-break: keep-all;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .left_essay .article_wrap .article .list-content .title p:hover {
      color: #37f
    }

    .left_essay .article_wrap .article .list-content .list-bottom {
      width: 100%;
      height: 24px
    }

    .left_essay .article_wrap .article .list-content .list-bottom .labels-area {
      max-width: 460px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap
    }

    .left_essay .article_wrap .article .list-content .list-bottom .browseNum {
      margin-right: 16px;
      font-size: 12px;
      color: #9199a1;
      line-height: 18px;
      padding-top: 3px
    }

    .left_essay .article_wrap .article .list-content .list-bottom .browseNum i {
      padding-right: 4px;
      font-size: 12px
    }

    .left_essay .article_wrap .article .list-content .list-bottom .nickName {
      margin-right: 16px;
      font-size: 12px;
      color: #9199a1;
      line-height: 18px;
      cursor: pointer;
      padding-top: 3px;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .left_essay .article_wrap .article .list-content .list-bottom .nickName:hover {
      color: #545c63
    }

    .left_essay .article_wrap .article .list-content .list-bottom .skill {
      padding-top: 3px;
      white-space: nowrap;
      vertical-align: middle
    }

    .left_essay .article_wrap .article .list-content .list-bottom .skill a {
      color: #9199a1
    }

    .left_essay .article_wrap .article .list-content .list-bottom .skill a span {
      font-size: 12px;
      color: #9199a1;
      line-height: 18px;
      padding-top: 3px;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .left_essay .article_wrap .article .list-content .list-bottom .skill a span:hover {
      color: #545c63
    }

    .left_essay .article_wrap .article .list-content .list-bottom .skill a:hover {
      color: #9199a1 !important
    }

    .left_essay .article_wrap .article .list-content .list-bottom .skill i {
      color: #9199a1;
      vertical-align: middle
    }

    .left_essay .article_wrap .article .list-content .list-bottom .createTime {
      font-size: 12px;
      color: #9199a1;
      line-height: 18px;
      padding-top: 3px
    }

    @keyframes spin {
      from {
        transform: rotate(0)
      }

      to {
        transform: rotate(360deg)
      }
    }

    .left_essay .article_wrap .feed-loading {
      display: none;
      border-radius: 8px;
      font-size: 12px;
      text-align: center;
      line-height: 50px;
      height: 50px;
      cursor: pointer;
      padding-left: 300px;
      font-size: 14px;
      color: #9199a1
    }

    .left_essay .article_wrap .feed-loading i {
      margin-right: 5px;
      font-size: 16px;
      color: #93999f;
      line-height: 50px;
      animation: spin 1s linear infinite
    }

    .left_essay .article_wrap .feed-loading i,
    .left_essay .article_wrap .feed-loading span {
      float: left;
      height: 50px
    }

    .left_essay .article_wrap .feed-loading a {
      font-size: 14px;
      color: #f01400;
      line-height: 24px
    }

    .right_recommend>div:first-child {
      margin-top: 0
    }

    .right_recommend .author_info {
      height: 114px;
      background: rgba(43, 51, 59, .06);
      border-radius: 12px;
      box-sizing: border-box;
      padding: 20px 0 20px 20px
    }

    .right_recommend .author_info .img_con {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      overflow: hidden
    }

    .right_recommend .author_info .img_con img {
      width: 48px;
      height: 48px;
      border-radius: 50%
    }

    .right_recommend .author_info .text_con {
      width: 184px;
      margin-left: 8px
    }

    .right_recommend .author_info .text_con .name_con {
      position: relative;
      margin-bottom: 2px
    }

    .right_recommend .author_info .text_con .name_con .name {
      font-size: 16px;
      color: #1c1f21;
      line-height: 24px;
      font-weight: 700
    }

    .right_recommend .author_info .text_con .name_con .name .nick {
      display: inline-block;
      max-width: 136px;
      margin-right: 4px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap
    }

    .right_recommend .author_info .text_con .name_con .name .nick:hover {
      color: #37f
    }

    .right_recommend .author_info .text_con .name_con .name:hover {
      color: #07111b
    }

    .right_recommend .author_info .text_con .name_con .forward {
      position: absolute;
      font-size: 12px;
      color: #9199a1;
      line-height: 24px;
      cursor: pointer;
      right: 0;
      top: -2px;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .right_recommend .author_info .text_con .name_con .forward:hover {
      color: #545c63
    }

    .right_recommend .author_info .text_con .name_con .forward .js-add-follow {
      color: #37f
    }

    .right_recommend .author_info .text_con .name_con .forward .js-add-follow:hover {
      color: #04c
    }

    .right_recommend .author_info .text_con .job {
      font-size: 12px;
      color: #545c63;
      line-height: 18px;
      text-align: left;
      margin-bottom: 12px
    }

    .right_recommend .author_info .text_con .job .job-title {
      max-width: 120px;
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      vertical-align: top;
      margin-right: 4px
    }

    .right_recommend .author_info .text_con .job .job-icon .user-icon {
      width: 16px;
      height: 16px;
      vertical-align: middle;
      display: inline-block;
      background: url(/static/img/common/user-icon.png);
      position: relative;
      top: -2px
    }

    .right_recommend .author_info .text_con .job .job-icon .ismooc {
      background-position: 0 1px;
      background-size: cover
    }

    .right_recommend .author_info .text_con .job .job-icon .great {
      background-position: 0 -16px;
      background-size: cover
    }

    .right_recommend .author_info .text_con .job .job-icon .teacher {
      background-position: 0 -34px;
      background-size: cover
    }

    .right_recommend .author_info .text_con .contribution a {
      padding-right: 13px;
      font-size: 12px;
      color: #545c63
    }

    .right_recommend .author_info .text_con .contribution a span {
      font-weight: 600;
      font-size: 12px;
      color: #545c63;
      line-height: 18px
    }

    .right_recommend .author_info .text_con .contribution a:hover {
      color: #07111b
    }

    .right_recommend .other_article {
      margin-top: 24px
    }

    .right_recommend .other_article .title {
      font-size: 16px;
      color: #07111b;
      line-height: 24px;
      font-weight: 700;
      margin-bottom: 12px
    }

    .right_recommend .other_article .more a {
      font-size: 12px;
      color: #9199a1;
      line-height: 24px;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .right_recommend .other_article .more a:hover {
      color: #545c63
    }

    .right_recommend .other_article ul {
      width: 100%
    }

    .right_recommend .other_article .article-item {
      overflow: hidden;
      padding: 12px 0;
      border-bottom: 1px solid rgba(43, 51, 59, .1)
    }

    .right_recommend .other_article .article-item:last-child {
      border-bottom: none
    }

    .right_recommend .other_article .article-item i {
      font-size: 16px;
      color: #9199a1;
      padding-right: 10px;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s;
      position: relative;
      top: 3px
    }

    .right_recommend .other_article .article-item a {
      font-size: 14px;
      color: #545c63;
      line-height: 22px;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s;
      max-width: 254px;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical
    }

    .right_recommend .other_article .article-item:hover i {
      color: #37f
    }

    .right_recommend .other_article .article-item:hover a {
      color: #37f
    }

    .right_recommend .column_recommend {
      width: 100%;
      margin-top: 12px;
      margin-bottom: 12px
    }

    .right_recommend .column_recommend .title {
      font-weight: 700;
      font-size: 16px;
      line-height: 24px;
      margin-bottom: 16px;
      color: #1c1f21;
      position: relative
    }

    .right_recommend .column_recommend .more {
      position: absolute;
      right: 0;
      top: 0;
      font-size: 12px;
      color: #9199a1;
      line-height: 24px;
      cursor: pointer;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .right_recommend .column_recommend .more:hover {
      color: #545c63
    }

    .right_recommend .column_recommend ul li {
      width: 100%;
      margin-bottom: 8px
    }

    .right_recommend .column_recommend ul li .img {
      width: 70px;
      height: 98px;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      border-radius: 10px;
      position: relative;
      margin-right: 12px
    }

    .right_recommend .column_recommend ul li .img .insale {
      position: absolute;
      left: -6px;
      top: -4px;
      width: 40px;
      height: 24px;
      line-height: 20px;
      background: #37f;
      border: 2px solid #fff;
      box-shadow: 0 2px 4px 0 rgba(28, 31, 33, .2);
      border-radius: 12px;
      font-size: 12px;
      color: #fff;
      font-weight: 700;
      text-align: center;
      box-sizing: border-box
    }

    .right_recommend .column_recommend ul li .text_con {
      width: 198px;
      padding-top: 4px;
      height: 106px;
      box-sizing: border-box;
      border-bottom: 1px solid rgba(28, 31, 33, .1)
    }

    .right_recommend .column_recommend ul li .text_con .title {
      font-weight: 700;
      font-size: 14px;
      color: #545c63;
      line-height: 20px;
      text-align: left;
      margin-bottom: 4px;
      max-height: 40px;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .right_recommend .column_recommend ul li .text_con .title:hover {
      color: #37f
    }

    .right_recommend .column_recommend ul li .text_con .info {
      margin-bottom: 4px
    }

    .right_recommend .column_recommend ul li .text_con .info i {
      font-size: 12px;
      color: #9199a1;
      text-align: left;
      line-height: 18px;
      padding: 0 4px
    }

    .right_recommend .column_recommend ul li .text_con .info span {
      font-size: 12px;
      color: #9199a1;
      text-align: left;
      line-height: 18px
    }

    .right_recommend .column_recommend ul li .text_con .price_con .goBuy {
      padding: 0 12px;
      height: 24px;
      font-weight: 700;
      font-size: 12px;
      color: #37f;
      line-height: 24px;
      background: rgba(51, 119, 255, .1);
      border-radius: 12px;
      margin-right: 16px
    }

    .right_recommend .column_recommend ul li .text_con .price_con .ori {
      font-size: 12px;
      color: #9199a1;
      line-height: 24px
    }

    .right_recommend .column_recommend ul li .text_con .price_con .sale {
      font-weight: 700;
      font-size: 12px;
      color: #37f;
      text-align: left;
      line-height: 24px;
      margin-right: 4px
    }

    .right_recommend .column_recommend ul li .text_con .price_con .sale-ori {
      font-size: 12px;
      color: #9199a1;
      text-align: left;
      line-height: 24px;
      text-decoration-line: line-through
    }

    .right_recommend .column_recommend ul li:last-child {
      margin-bottom: 0
    }

    .right_recommend .column_recommend ul li:last-child .text_con {
      border-bottom: none
    }

    .right_recommend .related_lessons {
      padding-top: 12px
    }

    .right_recommend .related_lessons .title {
      font-weight: 700;
      font-size: 16px;
      color: #07111b;
      line-height: 24px;
      margin-bottom: 16px
    }

    .right_recommend .related_lessons ul .lesson-item {
      margin-bottom: 8px
    }

    .right_recommend .related_lessons ul .lesson-item .img_con {
      width: 80px;
      height: 59px;
      border-radius: 6px;
      overflow: hidden;
      position: relative
    }

    .right_recommend .related_lessons ul .lesson-item .img_con img {
      width: 80px;
      height: 59px;
      border-radius: 6px
    }

    .right_recommend .related_lessons ul .lesson-item .img_con .root {
      position: absolute;
      left: 0;
      top: 0;
      font-size: 12px;
      color: #fff;
      line-height: 18px;
      padding: 2px 4px;
      background: #1c1f21;
      border-radius: 6px 0 6px 0
    }

    .right_recommend .related_lessons ul .lesson-item .text_con {
      width: 224px;
      height: 67px;
      position: relative;
      box-sizing: border-box;
      margin-left: 16px;
      font-size: 12px;
      color: #545c63;
      line-height: 18px;
      padding-bottom: 15px;
      padding-top: 8px;
      border-bottom: 1px solid rgba(43, 51, 59, .1)
    }

    .right_recommend .related_lessons ul .lesson-item .text_con a.name {
      width: 100%;
      font-size: 14px;
      line-height: 22px;
      margin-bottom: 4px;
      cursor: pointer;
      background: #f8fafc;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .right_recommend .related_lessons ul .lesson-item .text_con a.oneLine {
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical
    }

    .right_recommend .related_lessons ul .lesson-item .text_con .marginTop {
      margin-top: 26px !important
    }

    .right_recommend .related_lessons ul .lesson-item .text_con a.hoverClass {
      position: absolute;
      color: #1c1f21
    }

    .right_recommend .related_lessons ul .lesson-item .text_con .price {
      font-weight: 700
    }

    .right_recommend .related_lessons ul .lesson-item .text_con .dot {
      margin: 0 4px
    }

    .right_recommend .related_lessons ul .lesson-item:last-child .text_con {
      border-bottom: none
    }

    .right_recommend .related_lessons.js-fixed {
      position: fixed;
      top: -1px;
      background: #f8fafc;
      width: 280px
    }

    .bottom-fixed {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 48px;
      background: #fff;
      box-shadow: 0 0 16px 0 rgba(28, 31, 33, .1);
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s;
      z-index: 88
    }

    .bottom-fixed .bottom-wrap {
      width: 1152px;
      margin: 0 auto
    }

    .bottom-fixed .bottom-wrap .praise-box {
      position: relative;
      left: -2px;
      text-align: center;
      margin-right: 32px;
      margin-top: 8px
    }

    .bottom-fixed .bottom-wrap .praise-box button {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(255, 170, 0, .1);
      border: none;
      position: relative;
      display: inline-block;
      margin: 0 auto;
      vertical-align: middle;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .bottom-fixed .bottom-wrap .praise-box button .imv2-thumb_up {
      line-height: 20px;
      position: relative;
      display: inline-block;
      font-size: 20px;
      color: #fa0;
      cursor: pointer;
      -webkit-transition: all .3s;
      -moz-transition: all .3s;
      transition: all .3s;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    .bottom-fixed .bottom-wrap .praise-box button .praised {
      color: #fff
    }

    .bottom-fixed .bottom-wrap .praise-box button .praised:hover {
      color: #fff
    }

    .bottom-fixed .bottom-wrap .praise-box button svg {
      left: 0
    }

    .bottom-fixed .bottom-wrap .praise-box button:focus,
    .bottom-fixed .bottom-wrap .praise-box button:hover {
      outline: 0
    }

    .bottom-fixed .bottom-wrap .praise-box button:hover {
      background: #fa0
    }

    .bottom-fixed .bottom-wrap .praise-box button:hover .imv2-thumb_up {
      color: #fff
    }

    .bottom-fixed .bottom-wrap .praise-box span {
      font-size: 12px;
      color: #9199a1
    }

    .bottom-fixed .bottom-wrap .icon-warp {
      margin-top: 14px;
      margin-right: 32px
    }

    .bottom-fixed .bottom-wrap .icon-warp span {
      font-size: 12px;
      color: #9199a1;
      line-height: 20px;
      vertical-align: text-bottom
    }

    .bottom-fixed .bottom-wrap .icon-warp .active-star {
      color: #4d555d !important
    }

    .bottom-fixed .bottom-wrap .icon-warp .active-star:hover {
      color: #4d555d !important
    }

    .bottom-fixed .bottom-wrap .icon-warp .icon-nav {
      font-size: 20px;
      color: #b2b8bd;
      line-height: 20px;
      border-radius: 50%
    }

    .bottom-fixed .bottom-wrap .icon-warp .icon-nav:hover {
      color: #4d555d
    }

    .bottom-fixed .bottom-wrap .input {
      width: 320px;
      height: 32px;
      margin: 8px 104px 8px 0;
      background: #f3f5f6;
      border-radius: 16px;
      padding: 7px 12px;
      box-sizing: border-box;
      font-size: 12px;
      color: #9199a1;
      line-height: 18px;
      cursor: pointer
    }

    .bottom-fixed .bottom-wrap .icon-warp2 {
      padding-top: 12px
    }

    .bottom-fixed .bottom-wrap .icon-warp2 .icon-nav2 {
      font-size: 20px;
      color: #b2b8bd;
      line-height: 24px;
      border-radius: 50%;
      padding-right: 24px
    }

    .bottom-fixed .bottom-wrap .icon-warp2 .icon-nav2:hover {
      color: #4d555d
    }

    .big-size-f {
      font-size: 20px !important;
      line-height: 48px !important
    }

    .md-size-f {
      font-size: 18px !important;
      line-height: 42px !important
    }

    .sm-size-f {
      font-size: 16px !important;
      line-height: 36px !important
    }

    .df-title {
      margin: 24px 0 16px 0;
      font-weight: 700;
      color: #07111b;
      line-height: 24px;
      font-size: 16px
    }

    .df-title span i {
      font-style: normal
    }

    .detail-feedback-wrap {
      margin: 0 0 24px 0;
      background: #fff;
      border-radius: 12px;
      padding-bottom: 20px;
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, .05)
    }

    .detail-feedback-wrap .hot-df-title {
      display: none;
      height: 28px;
      padding: 35px 0 15px;
      line-height: 28px;
      font-size: 18px;
      font-weight: 700;
      color: #f01400;
      border-bottom: 1px solid #b7bbbf
    }

    .detail-feedback-wrap .df-ipt-wrap {
      padding: 28px 0;
      margin: 0 32px;
      box-sizing: border-box;
      border-bottom: 1px solid rgba(56, 61, 66, .1)
    }

    .detail-feedback-wrap .df-ipt-wrap .feeds-author {
      width: 48px;
      height: 48px;
      line-height: 48px;
      margin-right: 16px;
      text-align: center;
      overflow: hidden;
      font-size: 16px;
      font-weight: 700;
      color: #1c1f21
    }

    .detail-feedback-wrap .df-ipt-wrap .feeds-author img {
      border-radius: 50%;
      width: 48px;
      height: 48px;
      overflow: hidden
    }

    .detail-feedback-wrap .df-ipt-wrap .fadeInput {
      width: 526px;
      height: 48px;
      padding: 12px 16px;
      box-sizing: border-box;
      background: #f3f5f6;
      border-radius: 6px;
      font-size: 16px;
      color: #9199a1;
      line-height: 24px
    }

    .detail-feedback-wrap #js-feedback-list-wrap .feedback-loading,
    .detail-feedback-wrap #js-feedback-list-wrap .feedback-none {
      text-align: center;
      margin-top: 20px
    }

    .detail-feedback-wrap #js-feedback-hot-list-wrap {
      display: none
    }

    .df-text {
      margin: 0 auto
    }

    .df-text textarea {
      display: block;
      box-sizing: border-box;
      padding: 8px 12px;
      height: 84px;
      border-radius: 4px;
      resize: none;
      font-size: 16px;
      color: #93999f;
      line-height: 28px;
      border: 1px solid #d9dde1;
      width: 100%;
      background: #fff;
      margin-bottom: 30px
    }

    .df-text .df-bottom {
      position: relative
    }

    .df-text .df-bottom .comment-btn {
      padding: 0 16px;
      height: 36px;
      color: #fff;
      font-size: 14px;
      text-align: center;
      line-height: 36px;
      background: #37f;
      border-radius: 18px;
      cursor: pointer
    }

    .df-text .df-bottom .comment-btn:hover {
      background: #37f
    }

    .df-text .df-bottom .captcha-verify-box {
      position: absolute;
      right: -90px;
      bottom: 55px;
      padding: 6px;
      width: 320px;
      background: #fff;
      border-radius: 4px;
      border: 1px solid #d0d6d9;
      z-index: 1000
    }

    .df-text .df-bottom .captcha-verify-box:after {
      position: absolute;
      bottom: -11px;
      left: 156px;
      content: " ";
      display: block;
      width: 0;
      height: 0;
      border-top: 10px solid #d0d6d9;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      z-index: 9
    }

    .df-text .df-bottom .captcha-verify-box:before {
      position: absolute;
      bottom: -9px;
      left: 157px;
      content: " ";
      display: block;
      width: 0;
      height: 0;
      border-top: 9px solid #fff;
      border-left: 9px solid transparent;
      border-right: 9px solid transparent;
      z-index: 10
    }

    .df-text .df-bottom .captcha-verify-box .js-mocaptcha-close {
      position: absolute;
      right: -40px;
      top: -7px;
      display: block;
      color: #fff;
      width: 30px;
      height: 30px;
      font-size: 18px;
      line-height: 30px;
      text-align: center;
      background: rgba(0, 0, 0, .6);
      cursor: pointer
    }

    .df-text .feed-error {
      height: 30px;
      font-size: 12px;
      line-height: 30px;
      color: #f01414
    }

    .df-text-login textarea {
      color: #93999f
    }

    .comment-box {
      background: #fff;
      padding: 28px 0;
      margin: 0 32px;
      border-bottom: 1px solid rgba(56, 61, 66, .1);
      width: inherit;
      position: relative;
      cursor: pointer
    }

    .comment-box:hover .feed-list-content .comment-footer {
      display: block
    }

    .comment-box:last-child {
      border-bottom: none
    }

    .comment-box .feed-author {
      width: 48px;
      margin-right: 16px
    }

    .comment-box .feed-author a {
      display: inline-block;
      text-align: center
    }

    .comment-box .feed-author a img {
      border-radius: 50%;
      opacity: .8
    }

    .comment-box .feed-author a .com-floor {
      font-size: 12px;
      color: #b7bbbf;
      line-height: 24px
    }

    .comment-box .feed-author a:hover img {
      opacity: 1
    }

    .moreBtn {
      width: 656px;
      height: 200px;
      position: absolute;
      padding-top: 148px;
      box-sizing: border-box;
      left: -32px;
      bottom: -20px;
      text-align: center;
      font-size: 14px;
      color: #37f;
      line-height: 20px;
      background-image: linear-gradient(-180deg, rgba(248, 250, 252, 0) 0, #f8fafc 57%)
    }

    .feed-list-content {
      word-break: break-all;
      color: #14191e;
      font-size: 16px;
      line-height: 36px;
      margin-left: 64px
    }

    .feed-list-content pre {
      white-space: pre-wrap !important
    }

    .feed-list-content .nick {
      display: inline-block;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-size: 14px;
      color: #07111b;
      line-height: 24px;
      font-weight: 700
    }

    .feed-list-content .nick:hover {
      color: #37f
    }

    .feed-list-content .user-icon {
      width: 16px;
      height: 16px;
      vertical-align: middle;
      display: inline-block;
      background: url(/static/img/common/user-icon.png);
      position: relative;
      top: -2px;
      margin-left: 5px
    }

    .feed-list-content .ismooc {
      background-position: 0 1px;
      background-size: cover
    }

    .feed-list-content .great {
      background-position: 0 -16px;
      background-size: cover
    }

    .feed-list-content .teacher {
      background-position: 0 -34px;
      background-size: cover
    }

    .feed-list-content blockquote {
      text-indent: 0;
      padding: 1px 20px;
      margin: 1em 0;
      border-left: 4px solid #ccc;
      color: #787d82;
      background-color: #f5f5f5
    }

    .feed-list-content p {
      font-size: 16px;
      color: #1c1f21;
      line-height: 28px;
      word-wrap: break-word
    }

    .feed-list-content p strong {
      font-weight: 700
    }

    .feed-list-content p em {
      font-style: italic
    }

    .feed-list-content p a {
      color: #0088d5
    }

    .feed-list-content p a:hover {
      color: #0088d5;
      text-decoration: underline
    }

    .feed-list-content .feed-list-time {
      font-size: 12px;
      color: #93999f;
      line-height: 32px;
      position: absolute;
      right: 32px
    }

    .feed-list-content .comment-footer {
      margin: 12px 0 0 0;
      line-height: 32px;
      position: relative
    }

    .feed-list-content .comment-footer .reply-btn {
      float: left;
      font-size: 12px;
      color: #9199a1;
      line-height: 32px;
      cursor: pointer;
      margin-right: 24px
    }

    .feed-list-content .comment-footer .reply-btn:hover {
      color: #545c63
    }

    .feed-list-content .comment-footer .report-btn {
      float: left;
      font-size: 12px;
      color: #9199a1;
      line-height: 32px;
      cursor: pointer;
      margin-right: 24px;
      display: none
    }

    .feed-list-content .comment-footer .feed-list-times {
      font-size: 12px;
      color: #9199a1;
      line-height: 32px;
      position: absolute;
      right: 0
    }

    .feed-list-content .comment-footer .agree-with {
      height: 32px;
      background: rgba(28, 31, 33, .08);
      border-radius: 16px;
      line-height: 32px;
      display: inline-block;
      cursor: pointer;
      text-align: center;
      padding: 0 16px;
      margin-right: 24px
    }

    .feed-list-content .comment-footer .agree-with b {
      display: inline-block;
      margin-right: 5px;
      font-size: 16px;
      color: #545c63
    }

    .feed-list-content .comment-footer .agree-with .active-t-up {
      color: #fff
    }

    .feed-list-content .comment-footer .agree-with em {
      color: #545c63;
      font-size: 12px
    }

    .feed-list-content .comment-footer .active {
      background: #37f
    }

    .feed-list-content .comment-footer .active em {
      color: #fff
    }

    .reply-box {
      margin: 32px 0 0 64px
    }

    .reply-box .comment {
      margin-top: 24px
    }

    .reply-box .comment:first-child {
      margin-top: 0
    }

    .reply-box .comment .feed-author {
      width: 48px
    }

    .reply-box .comment .feed-list-content {
      margin: 0 0 0 64px;
      font-size: 14px;
      color: #93999f;
      line-height: 24px;
      position: relative
    }

    .reply-box .comment .feed-list-content .to-user {
      color: #07111b;
      font-weight: 600
    }

    .reply-box .comment .feed-list-content .from-user {
      color: #07111b;
      font-weight: 600
    }

    .reply-box .comment .feed-list-content p {
      font-size: 14px;
      color: #07111b;
      line-height: 22px
    }

    .reply-box .comment .feed-list-content .feed-list-time {
      font-size: 12px;
      color: #93999f;
      line-height: 32px;
      position: absolute;
      right: 0;
      top: -1px
    }

    .reply-box .comment .feed-list-content .comment-footer {
      margin-top: 4px
    }

    .reply-box .getMoreReply {
      height: 34px;
      width: 528px;
      box-sizing: border-box;
      background: rgba(84, 92, 99, .1);
      border-radius: 16px;
      font-size: 12px;
      color: #545c63;
      line-height: 18px;
      padding-top: 8px;
      text-align: center;
      margin-top: 24px;
      cursor: pointer
    }

    .reply-box .getMoreReply:hover {
      color: #14191e
    }

    .release-reply {
      display: none;
      position: relative;
      margin-left: 64px;
      margin-top: 24px
    }

    .release-reply .nick {
      font-weight: 700;
      color: #787d82
    }

    .release-reply .replay-con {
      width: 450px
    }

    .release-reply .user-head {
      float: left;
      display: block;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      overflow: hidden;
      margin-right: 24px
    }

    .release-reply .user-head img {
      display: block;
      height: 100%
    }

    .release-reply .textarea-wrap {
      position: relative;
      border: 1px solid #d9dde1;
      border-radius: 4px;
      padding: 8px 12px;
      background: #fff;
      font-size: 14px;
      color: #93999f;
      line-height: 22px
    }

    .release-reply textarea {
      width: 100%;
      min-height: 58px;
      resize: none
    }

    .release-reply .errtip {
      height: 30px;
      font-size: 12px;
      color: #f01400;
      text-align: left;
      line-height: 20px
    }

    .release-reply .reply-ctrl {
      position: relative
    }

    .release-reply .reply-ctrl .btn-wrap {
      float: right;
      margin-bottom: 20px
    }

    .release-reply .reply-ctrl .cancel-btn {
      display: inline-block;
      height: 36px;
      font-size: 14px;
      line-height: 36px;
      color: #93999f;
      padding: 0 16px;
      text-align: center;
      cursor: pointer;
      border: 1px solid #d9dde1;
      border-radius: 18px
    }

    .release-reply .reply-ctrl .cancel-btn:hover {
      color: #4d555d;
      border: 1px solid #93999f
    }

    .release-reply .reply-ctrl .release-reply-btn {
      display: inline-block;
      height: 36px;
      font-size: 14px;
      line-height: 36px;
      text-align: center;
      padding: 0 16px;
      color: #fff;
      background: #37f;
      border-radius: 18px;
      cursor: pointer;
      margin-left: 12px
    }

    .release-reply .reply-ctrl .release-reply-btn:hover {
      background-color: #37f
    }

    .release-reply .reply-ctrl .captcha-verify-box {
      position: absolute;
      right: -134px;
      bottom: 80px;
      padding: 6px;
      width: 320px;
      background: #fff;
      border-radius: 4px;
      border: 1px solid #d0d6d9;
      z-index: 9
    }

    .release-reply .reply-ctrl .captcha-verify-box:after {
      position: absolute;
      bottom: -11px;
      left: 156px;
      content: " ";
      display: block;
      width: 0;
      height: 0;
      border-top: 10px solid #d0d6d9;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      z-index: 9
    }

    .release-reply .reply-ctrl .captcha-verify-box:before {
      position: absolute;
      bottom: -9px;
      left: 157px;
      content: " ";
      display: block;
      width: 0;
      height: 0;
      border-top: 9px solid #fff;
      border-left: 9px solid transparent;
      border-right: 9px solid transparent;
      z-index: 10
    }

    .release-reply .reply-ctrl .captcha-verify-box .js-mocaptcha-close {
      position: absolute;
      right: -40px;
      top: -7px;
      display: block;
      color: #fff;
      width: 30px;
      height: 30px;
      font-size: 18px;
      line-height: 30px;
      text-align: center;
      background: rgba(0, 0, 0, .6);
      cursor: pointer
    }

    .flipx {
      -moz-transform: scaleX(-1);
      -webkit-transform: scaleX(-1);
      -o-transform: scaleX(-1);
      transform: scaleX(-1);
      filter: FlipH
    }

    .edui-editor {
      z-index: 1000 !important
    }

    #edui_fixedlayer {
      z-index: 1000 !important
    }

    .qa-comment-page {
      position: relative
    }

    .qa-comment-page .moreBtn {
      width: 656px;
      height: 200px;
      position: absolute;
      cursor: pointer;
      padding-top: 148px;
      box-sizing: border-box;
      left: 0;
      top: -166px;
      text-align: center;
      font-size: 14px;
      color: #37f;
      line-height: 20px;
      background-image: linear-gradient(-180deg, rgba(248, 250, 252, 0) 0, #f8fafc 57%)
    }

    .qa-comment-page .moreBtn:hover {
      color: #04c
    }

    .code-preview-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(7, 17, 27, .6);
      z-index: 850
    }

    @-moz-document url-prefix() {

      .dc-addon .dc-follow i,
      .dc-addon .dc-praise i {
        margin-top: 0
      }
    }

    .transition {
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    #sub-header {
      width: 100%;
      height: 60px;
      background: #fff;
      box-shadow: 0 8px 16px 0 rgba(28, 31, 33, .1)
    }

    #sub-header .sub-container {
      max-width: 1088px;
      height: 100%;
      margin: 0 auto
    }

    #sub-header .sub-container .search-article {
      position: relative;
      width: 480px;
      height: 36px;
      background: #f3f5f6;
      border-radius: 8px;
      padding-right: 56px;
      margin: 12px;
      float: right;
      overflow: hidden
    }

    #sub-header .sub-container .search-article input.search-input {
      width: 100%;
      height: 36px;
      line-height: 20px;
      padding: 8px 16px;
      font-size: 14px;
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input::-webkit-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input::-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input:-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article input.search-input:-ms-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-article .search-btn {
      position: absolute;
      right: 0;
      top: 0;
      font-size: 24px;
      color: #9199a1;
      line-height: 24px;
      padding: 6px 16px
    }

    #sub-header .sub-container .search-warp {
      float: right;
      width: 480px;
      height: 36px;
      background: #f3f5f6;
      border-radius: 8px;
      padding-right: 56px;
      margin: 12px;
      box-sizing: border-box
    }

    #sub-header .sub-container .search-warp.search-active {
      box-shadow: 5px 5px 6px #e6e6e6
    }

    #sub-header .sub-container .search-warp.search-active .showhide-search {
      background: 0 0
    }

    #sub-header .sub-container .search-warp.search-active .showhide-search i {
      color: #37f
    }

    #sub-header .sub-container .search-warp .searchTags {
      bottom: 6px;
      right: 60px
    }

    #sub-header .sub-container .search-warp .searchTags a {
      color: #fff;
      background-color: rgba(0, 0, 0, .6)
    }

    #sub-header .sub-container .search-warp .search-area {
      width: 100% !important;
      height: 36px;
      background: #f3f5f6;
      font-size: 14px;
      color: #9199a1;
      padding: 0;
      margin: 0;
      border-radius: inherit
    }

    #sub-header .sub-container .search-warp .search-area.suggest-active {
      border: 0
    }

    #sub-header .sub-container .search-warp .search-area input.search-input {
      width: 100%;
      height: 36px;
      line-height: 20px;
      padding: 8px 16px;
      font-size: 14px;
      color: #9199a1;
      border-radius: inherit
    }

    #sub-header .sub-container .search-warp .search-area input.search-input::-webkit-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area input.search-input::-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area input.search-input:-moz-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area input.search-input:-ms-input-placeholder {
      color: #9199a1
    }

    #sub-header .sub-container .search-warp .search-area .search-area-result {
      top: 48px
    }

    #sub-header .sub-container .search-warp .showhide-search {
      position: absolute;
      right: 0;
      top: 0;
      font-size: 24px;
      color: #9199a1;
      line-height: 24px;
      padding: 6px 16px;
      border-radius: 0
    }

    #sub-header .sub-container .search-warp .showhide-search:active,
    #sub-header .sub-container .search-warp .showhide-search:focus,
    #sub-header .sub-container .search-warp .showhide-search:hover {
      background: 0 0
    }

    #sub-header .sub-container .search-warp .showhide-search:active i,
    #sub-header .sub-container .search-warp .showhide-search:focus i,
    #sub-header .sub-container .search-warp .showhide-search:hover i {
      color: #37f
    }

    #sub-header .sub-container .operate-area {
      float: right
    }

    #sub-header .sub-container .operate-area span {
      display: inline-block;
      position: relative
    }

    #sub-header .sub-container .operate-area span .btn {
      width: 90px;
      height: 36px;
      line-height: 18px;
      padding: 8px 24px;
      margin: 12px 0;
      color: #fff;
      font-size: 14px;
      border-radius: 24px;
      box-sizing: border-box
    }

    #sub-header .sub-container .operate-area span .btn.btn-blue {
      background: #37f
    }

    #sub-header .sub-container .operate-area span .btn.btn-discovery {
      background: #383d42;
      margin-left: 13px;
      position: relative
    }

    #sub-header .sub-container .operate-area span .btn.btn-discovery+.count {
      height: 16px;
      line-height: 14px;
      position: absolute;
      right: -5px;
      top: 7px;
      color: #fff;
      font-size: 12px;
      background: #f20d0d;
      padding: 0 5px 0 4px;
      border: 1px solid #fff;
      border-radius: 8px;
      box-sizing: border-box
    }

    #sub-header .sub-container.discovery {
      width: 682px
    }

    #sub-header .sub-container.discovery a.discovery-logo {
      display: inline-block;
      padding: 12px 0
    }

    #sub-header .sub-container.discovery a.discovery-logo i {
      width: 36px;
      height: 36px;
      font-size: 18px;
      color: #fff;
      line-height: 18px;
      padding: 9px;
      background: #383d42;
      border-radius: 50%;
      margin-right: 12px
    }

    #sub-header .sub-container.discovery a.discovery-logo span {
      font-size: 20px;
      color: #1c1f21;
      line-height: 36px;
      font-weight: 600
    }

    #sub-header .sub-container.discovery ul {
      display: inline-block;
      margin-left: 160px
    }

    #sub-header .sub-container.discovery ul li {
      float: left
    }

    #sub-header .sub-container.discovery ul li.follow a {
      cursor: pointer
    }

    #sub-header .sub-container.discovery ul li a {
      display: inline-block;
      height: 40px;
      line-height: 40px;
      margin: 10px 24px;
      font-size: 16px;
      color: #545c63;
      font-weight: 600;
      position: relative
    }

    #sub-header .sub-container.discovery ul li a:after {
      content: "";
      display: block;
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      border-radius: 25%;
      transform: scaleX(0);
      background-color: #37f;
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s
    }

    #sub-header .sub-container.discovery ul li a.active,
    #sub-header .sub-container.discovery ul li a:hover {
      transition: all .3s;
      -moz-transition: all .3s;
      -webkit-transition: all .3s;
      -o-transition: all .3s;
      color: #37f
    }

    #sub-header .sub-container.discovery ul li a.active:after,
    #sub-header .sub-container.discovery ul li a:hover:after {
      transform: scaleX(.6)
    }

    .article.container {
      width: 1088px;
      padding-top: 24px
    }

    .article.container .centerlist {
      position: relative
    }

    .article.container .centerlist .article_tip {
      display: none;
      position: absolute;
      width: 288px;
      height: 144px;
      background: #2b333b;
      box-shadow: 0 8px 16px 0 rgba(7, 17, 27, .2);
      border-radius: 8px
    }

    .article.container .centerlist .article_tip>div {
      position: relative;
      width: 288px;
      height: 144px;
      padding: 24px;
      box-sizing: border-box
    }

    .article.container .centerlist .article_tip>div .article_tip_tit {
      height: 24px;
      margin-bottom: 4px
    }

    .article.container .centerlist .article_tip>div .article_tip_tit i {
      float: left;
      font-size: 24px;
      color: #f90;
      line-height: 24px;
      margin-right: 8px
    }

    .article.container .centerlist .article_tip>div .article_tip_tit i.sz-tips:before {
      content: "\e91e"
    }

    .article.container .centerlist .article_tip>div .article_tip_tit .span1 {
      float: left;
      font-size: 16px;
      color: #f90;
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_tit .span2 {
      float: right;
      font-size: 12px;
      color: #fff;
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_content {
      font-size: 12px;
      color: #fff;
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_footer {
      position: absolute;
      height: 24px;
      bottom: 16px;
      left: 24px;
      right: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_footer .no_tip {
      float: left;
      font-size: 12px;
      color: rgba(255, 255, 255, .6);
      line-height: 24px
    }

    .article.container .centerlist .article_tip>div .article_tip_footer .next_tip {
      float: right;
      font-size: 12px;
      color: rgba(255, 255, 255, .6);
      line-height: 24px
    }

    .article.container .centerlist .article_tip .triangle-right {
      position: absolute;
      right: -12px;
      top: 15px;
      width: 0;
      height: 0;
      border-top: 12px solid transparent;
      border-left: 12px solid #2b333b;
      border-bottom: 12px solid transparent
    }

    .article.container .centerlist .article_tip_step1 {
      right: 130px;
      top: 2px;
      z-index: 1
    }

    .article.container .centerlist .article_tip_step2 {
      right: -196px;
      top: -82px;
      z-index: 1
    }
  </style>
</head>

<body>
  <div id="main">
    <div class="main_con clearfix">
      <div class="left_essay l">
        <div class="part_essay js-part_essay">
          <!-- 面包屑 -->
          <div class="detail-path">
            <a class="imooc" target="_blank" href="https://www.imooc.com/"><i class="imv2-imooc"></i></a>
            <a href="https://www.imooc.com/article" target="_blank">手记</a> /<a href="https://www.imooc.com/article/fe"
              target="_blank" class="js-column">前端开发</a>
          </div>
          <!-- 面包屑end -->
          <div class="detail-title-wrap">
            <h1 class="detail-title">
              <span class="d-t js-title">Axios源码深度剖析 - AJAX新王者</span>
            </h1>
            <div class="dc-profile clearfix">
              <div class="l">
                <span class="spacer">2018.06.01 15:37</span>
                <span class="spacer spacer-2">7159浏览</span>
              </div>
              <div class="r path-right-box">
                <div class="rinfo l">


                </div>
              </div>
            </div>
          </div>

          <!-- 手记详情 -->
          <div class="detail-content-wrap">
            <div class="detail-content js-lookimg">

              <div>
                <p>axios源码分析 - XHR篇</p>
                <h3>文章源码托管在<a href="https://github.com/ronffy/axios-tutorial" target="_blank"
                    rel="nofollow">github</a>上，欢迎fork指正！</h3>
                <p><a href="https://github.com/axios/axios" target="_blank" rel="nofollow">axios</a> 是一个基于 Promise
                  的http请求库，可以用在浏览器和node.js中，目前在github上有 42K 的star数</p>
                <h3>备注：</h3>
                <ol>
                  <li>每一小节都会从两个方面介绍：如何使用 -&gt; 源码分析</li>
                  <li>[工具方法简单介绍]一节可先跳过，后面用到了再过来查看</li>
                  <li>axios最核心的技术点是<a
                      href="https://www.imooc.com/article/32292?block_id=tuijian_wz#[%E5%A6%82%E4%BD%95%E6%8B%A6%E6%88%AA%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E5%B9%B6%E4%BF%AE%E6%94%B9%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%BF%AE%E6%94%B9%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE]"
                      target="_blank" rel="nofollow">如何拦截请求响应并修改请求参数修改响应数据</a> 和 <a
                      href="https://www.imooc.com/article/32292?block_id=tuijian_wz#axios%E6%98%AF%E5%A6%82%E4%BD%95%E7%94%A8promise%E6%90%AD%E8%B5%B7%E5%9F%BA%E4%BA%8Exhr%E7%9A%84%E5%BC%82%E6%AD%A5%E6%A1%A5%E6%A2%81%E7%9A%84"
                      target="_blank" rel="nofollow">axios是如何用promise搭起基于xhr的异步桥梁的</a> </li>
                </ol>
                <h3>axios项目目录结构</h3>
                <pre
                  class="prettyprint"><code><span class="pln">
</span><span class="pun">├──</span><span class="pln"> </span><span class="pun">/</span><span class="pln">dist</span><span class="pun">/</span><span class="pln">                     </span><span class="com"># 项目输出目录</span><span class="pln">
</span><span class="pun">├──</span><span class="pln"> </span><span class="pun">/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">                      </span><span class="com"># 项目源码目录</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> </span><span class="pun">/</span><span class="pln">cancel</span><span class="pun">/</span><span class="pln">                 </span><span class="com"># 定义取消功能</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> </span><span class="pun">/</span><span class="pln">core</span><span class="pun">/</span><span class="pln">                   </span><span class="com"># 一些核心功能</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> </span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">js               </span><span class="com"># axios的核心主类</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> dispatchRequest</span><span class="pun">.</span><span class="pln">js     </span><span class="com"># 用来调用http请求适配器方法发送请求</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> </span><span class="typ">InterceptorManager</span><span class="pun">.</span><span class="pln">js  </span><span class="com"># 拦截器构造函数</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">│</span><span class="pln"> </span><span class="pun">└──</span><span class="pln"> settle</span><span class="pun">.</span><span class="pln">js              </span><span class="com"># 根据http响应状态，改变Promise的状态</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> </span><span class="pun">/</span><span class="pln">helpers</span><span class="pun">/</span><span class="pln">                </span><span class="com"># 一些辅助方法</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> </span><span class="pun">/</span><span class="pln">adapters</span><span class="pun">/</span><span class="pln">               </span><span class="com"># 定义请求的适配器 xhr、http</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> http</span><span class="pun">.</span><span class="pln">js                </span><span class="com"># 实现http适配器</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">│</span><span class="pln"> </span><span class="pun">└──</span><span class="pln"> xhr</span><span class="pun">.</span><span class="pln">js                 </span><span class="com"># 实现xhr适配器</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> axios</span><span class="pun">.</span><span class="pln">js                 </span><span class="com"># 对外暴露接口</span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">├──</span><span class="pln"> defaults</span><span class="pun">.</span><span class="pln">js              </span><span class="com"># 默认配置 </span><span class="pln">
</span><span class="pun">│</span><span class="pln"> </span><span class="pun">└──</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">js                 </span><span class="com"># 公用工具</span><span class="pln">
</span><span class="pun">├──</span><span class="pln"> </span><span class="kwd">package</span><span class="pun">.</span><span class="pln">json               </span><span class="com"># 项目信息</span><span class="pln">
</span><span class="pun">├──</span><span class="pln"> index</span><span class="pun">.</span><span class="pln">d</span><span class="pun">.</span><span class="pln">ts                 </span><span class="com"># 配置TypeScript的声明文件</span><span class="pln">
</span><span class="pun">└──</span><span class="pln"> index</span><span class="pun">.</span><span class="pln">js                   </span><span class="com"># 入口文件</span></code></pre>
                <p>注：因为我们需要要看的代码都是<code>/lib/</code>目录下的文件，所以以下所有涉及到文件路径的地方，<br>
                  我们都会在<code>/lib/</code>下进行查找</p>
                <h3>名词解释</h3>
                <ul>
                  <li>
                    <p>拦截器 interceptors </p>
                    <p>（如果你熟悉中间件，那么就很好理解了，因为它起到的就是基于promise的中间件的作用）</p>
                    <p>拦截器分为请求拦截器和响应拦截器，顾名思义：<br>
                      请求拦截器(<code>interceptors.request</code>)是指可以拦截住每次或指定http请求，并可修改配置项<br>
                      响应拦截器(<code>interceptors.response</code>)可以在每次http请求后拦截住每次或指定http请求，并可修改返回结果项。</p>
                    <p>这里先简单说明，后面会做详细的介绍<a
                        href="https://www.imooc.com/article/32292?block_id=tuijian_wz#%E5%A6%82%E4%BD%95%E6%8B%A6%E6%88%AA%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E5%B9%B6%E4%BF%AE%E6%94%B9%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%BF%AE%E6%94%B9%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"
                        target="_blank" rel="nofollow">如何拦截请求响应并修改请求参数修改响应数据</a>。</p>
                  </li>
                  <li>
                    <p>数据转换器 （其实就是对数据进行转换，比如将对象转换为JSON字符串）</p>
                    <p>数据转换器分为请求转换器和响应转换器，顾名思义：<br>
                      请求转换器(<code>transformRequest</code>)是指在请求前对数据进行转换，<br>
                      响应转换器(<code>transformResponse</code>)主要对请求响应后的响应体做数据转换。</p>
                  </li>
                  <li>
                    <p>http请求适配器（其实就是一个方法）</p>
                    <p>在axios项目里，http请求适配器主要指两种：XHR、http。<br>
                      XHR的核心是浏览器端的XMLHttpRequest对象，<br>
                      http核心是node的http[s].request方法</p>
                    <p>当然，axios也留给了用户通过config自行配置适配器的接口的，<br>
                      不过，一般情况下，这两种适配器就能够满足从浏览器端向服务端发请求或者从node的http客户端向服务端发请求的需求。</p>
                    <p>本次分享主要围绕XHR。</p>
                  </li>
                  <li>
                    <p>config配置项 （其实就是一个对象）</p>
                    <p>此处我们说的config，在项目内不是真的都叫config这个变量名，这个名字是我根据它的用途起的一个名字，方便大家理解。</p>
                    <p>在axios项目中的，设置\读取config时，<br>
                      有的地方叫它<code>defaults</code>(<code>/lib/defaults.js</code>)，这儿是默认配置项，<br>
                      有的地方叫它<code>config</code>，如<code>Axios.prototype.request</code>的参数，再如<code>xhrAdapter</code>http请求适配器方法的参数。
                    </p>
                    <p>config在axios项目里的是非常重要的一条链，是用户跟axios项目内部“通信”的主要桥梁。</p>
                  </li>
                </ul>
                <h3>axios内部的运作流程图</h3>
                <p><img title="Axios源码深度剖析-AJAX新王者_" 图片1=""
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                    alt="" target="_blank" rel="nofollow" data-original="https://www.imooc.com/article/axios-tree.jpg"
                    class="lazyload" style="cursor: pointer;"></p>
                <h3>工具方法简单介绍</h3>
                <p>（注：本节可先跳过，后面用到了再过来查看）</p>
                <p>有一些方法在项目中多处使用，简单介绍下这些方法</p>
                <ol>
                  <li>bind： 给某个函数指定上下文，也就是this指向</li>
                </ol>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
bind</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">,</span><span class="pln"> context</span><span class="pun">);</span><span class="pln"> </span></code></pre>
                <p>实现效果同<code>Function.prototype.bind</code>方法: <code>fn.bind(context)</code></p>
                <ol>
                  <li>forEach：遍历数组或对象</li>
                </ol>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">var</span><span class="pln"> utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'./utils'</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> forEach </span><span class="pun">=</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">;</span><span class="pln">

</span><span class="com">// 数组</span><span class="pln">
utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">([],</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{})</span><span class="pln">

</span><span class="com">// 对象</span><span class="pln">
utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">({},</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value</span><span class="pun">,</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">object</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{})</span></code></pre>
                <ol>
                  <li>merge：深度合并多个对象为一个对象</li>
                </ol>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">var</span><span class="pln"> utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'./utils'</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> merge </span><span class="pun">=</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">var</span><span class="pln"> obj1 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  a</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
  b</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    bb</span><span class="pun">:</span><span class="pln"> </span><span class="lit">11</span><span class="pun">,</span><span class="pln">
    bbb</span><span class="pun">:</span><span class="pln"> </span><span class="lit">111</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> obj2 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  a</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">
  b</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    bb</span><span class="pun">:</span><span class="pln"> </span><span class="lit">22</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> mergedObj </span><span class="pun">=</span><span class="pln"> merge</span><span class="pun">(</span><span class="pln">obj1</span><span class="pun">,</span><span class="pln"> obj2</span><span class="pun">);</span><span class="pln"> </span></code></pre>
                <p>mergedObj对象是：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="pun">{</span><span class="pln"> 
  a</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> 
  b</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> 
    bb</span><span class="pun">:</span><span class="pln"> </span><span class="lit">22</span><span class="pun">,</span><span class="pln"> 
    bbb</span><span class="pun">:</span><span class="pln"> </span><span class="lit">111</span><span class="pln"> 
  </span><span class="pun">}</span><span class="pln"> 
</span><span class="pun">}</span></code></pre>
                <ol>
                  <li>extend：将一个对象的方法和属性扩展到另外一个对象上，并指定上下文</li>
                </ol>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">var</span><span class="pln"> utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'./utils'</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> extend </span><span class="pun">=</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">var</span><span class="pln"> context </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  a</span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> target </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  k</span><span class="pun">:</span><span class="pln"> </span><span class="str">'k1'</span><span class="pun">,</span><span class="pln">
  fn</span><span class="pun">(){</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">a </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> source </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  k</span><span class="pun">:</span><span class="pln"> </span><span class="str">'k2'</span><span class="pun">,</span><span class="pln">
  fn</span><span class="pun">(){</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">a </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
let extendObj </span><span class="pun">=</span><span class="pln"> extend</span><span class="pun">(</span><span class="pln">target</span><span class="pun">,</span><span class="pln"> source</span><span class="pun">,</span><span class="pln"> context</span><span class="pun">);</span></code></pre>
                <p>extendObj对象是：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="pun">{</span><span class="pln">
  k</span><span class="pun">:</span><span class="pln"> </span><span class="str">'k2'</span><span class="pun">,</span><span class="pln">
  fn</span><span class="pun">:</span><span class="pln"> source</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="pln">context</span><span class="pun">),</span><span class="pln">
</span><span class="pun">}</span></code></pre>
                <p>执行<code>extendObj.fn();</code>, 打印<code>3</code></p>
                <h3>axios为何会有多种使用方式</h3>
                <h4>如何使用</h4>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// 首先将axios包引进来</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span></code></pre>
                <p>第1种使用方式：<code>axios(option)</code></p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
axios</span><span class="pun">({</span><span class="pln">
  url</span><span class="pun">,</span><span class="pln">
  method</span><span class="pun">,</span><span class="pln">
  headers</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <p>第2种使用方式：<code>axios(url[, option])</code></p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
axios</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  method</span><span class="pun">,</span><span class="pln">
  headers</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <p>第3种使用方式（对于<code>get、delete</code>等方法）：<code>axios[method](url[, option])</code></p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  headers</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <p>第4种使用方式（对于<code>post、put</code>等方法）：<code>axios[method](url[, data[, option]])</code></p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
axios</span><span class="pun">.</span><span class="pln">post</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  headers</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <p>第5种使用方式：<code>axios.request(option)</code></p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
axios</span><span class="pun">.</span><span class="pln">request</span><span class="pun">({</span><span class="pln">
  url</span><span class="pun">,</span><span class="pln">
  method</span><span class="pun">,</span><span class="pln">
  headers</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <h4>源码分析</h4>
                <p>作为axios项目的入口文件，我们先来看下<code>axios.js</code>的源码<br>
                  能够实现axios的多种使用方式的核心是<code>createInstance</code>方法：</p>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/axios.js</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> createInstance</span><span class="pun">(</span><span class="pln">defaultConfig</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// 创建一个Axios实例</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> context </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Axios</span><span class="pun">(</span><span class="pln">defaultConfig</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// 以下代码也可以这样实现：var instance = Axios.prototype.request.bind(context);</span><span class="pln">
  </span><span class="com">// 这样instance就指向了request方法，且上下文指向context，所以可以直接以 instance(option) 方式调用 </span><span class="pln">
  </span><span class="com">// Axios.prototype.request 内对第一个参数的数据类型判断，使我们能够以 instance(url, option) 方式调用</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> instance </span><span class="pun">=</span><span class="pln"> bind</span><span class="pun">(</span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">request</span><span class="pun">,</span><span class="pln"> context</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// 把Axios.prototype上的方法扩展到instance对象上，</span><span class="pln">
  </span><span class="com">// 这样 instance 就有了 get、post、put等方法</span><span class="pln">
  </span><span class="com">// 并指定上下文为context，这样执行Axios原型链上的方法时，this会指向context</span><span class="pln">
  utils</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="pln">instance</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">,</span><span class="pln"> context</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// 把context对象上的自身属性和方法扩展到instance上</span><span class="pln">
  </span><span class="com">// 注：因为extend内部使用的forEach方法对对象做for in 遍历时，只遍历对象本身的属性，而不会遍历原型链上的属性</span><span class="pln">
  </span><span class="com">// 这样，instance 就有了  defaults、interceptors 属性。（这两个属性后面我们会介绍）</span><span class="pln">
  utils</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="pln">instance</span><span class="pun">,</span><span class="pln"> context</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// 接收默认配置项作为参数（后面会介绍配置项），创建一个Axios实例，最终会被作为对象导出</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> axios </span><span class="pun">=</span><span class="pln"> createInstance</span><span class="pun">(</span><span class="pln">defaults</span><span class="pun">);</span></code></pre>
                <p>
                  以上代码看上去很绕，其实<code>createInstance</code>最终是希望拿到一个Function，这个Function指向<code>Axios.prototype.request</code>，这个Function还会有<code>Axios.prototype</code>上的每个方法作为静态方法，且这些方法的上下文都是指向同一个对象。
                </p>
                <p>那么在来看看<code>Axios、Axios.prototype.request</code>的源码是怎样的？</p>
                <p><code>Axios</code>是axios包的核心，一个<code>Axios</code>实例就是一个axios应用，其他方法都是对<code>Axios</code>内容的扩展<br>
                  而<code>Axios</code>构造函数的核心方法是<code>request</code>方法，各种axios的调用方式最终都是通过<code>request</code>方法发请求的</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/Axios.js</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> </span><span class="typ">Axios</span><span class="pun">(</span><span class="pln">instanceConfig</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">defaults </span><span class="pun">=</span><span class="pln"> instanceConfig</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">interceptors </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    request</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InterceptorManager</span><span class="pun">(),</span><span class="pln">
    response</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InterceptorManager</span><span class="pun">()</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> request</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...省略代码</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">// 为支持的请求方法提供别名</span><span class="pln">
utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">([</span><span class="str">'delete'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'head'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'options'</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> forEachMethodNoData</span><span class="pun">(</span><span class="pln">method</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">[</span><span class="pln">method</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">request</span><span class="pun">(</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">(</span><span class="pln">config </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      method</span><span class="pun">:</span><span class="pln"> method</span><span class="pun">,</span><span class="pln">
      url</span><span class="pun">:</span><span class="pln"> url
    </span><span class="pun">}));</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span><span class="pln">
utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">([</span><span class="str">'post'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'put'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'patch'</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> forEachMethodWithData</span><span class="pun">(</span><span class="pln">method</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">[</span><span class="pln">method</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">request</span><span class="pun">(</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">(</span><span class="pln">config </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      method</span><span class="pun">:</span><span class="pln"> method</span><span class="pun">,</span><span class="pln">
      url</span><span class="pun">:</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
      data</span><span class="pun">:</span><span class="pln"> data
    </span><span class="pun">}));</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
                <p>通过以上代码，我们就可以以多种方式发起http请求了: <code>axios()、axios.get()、axios.post()</code></p>
                <p>一般情况，项目使用默认导出的axios实例就可以满足需求了，<br>
                  如果不满足需求需要创建新的axios实例，axios包也预留了接口，<br>
                  看下面的代码：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/axios.js  -  31行</span><span class="pln">
axios</span><span class="pun">.</span><span class="typ">Axios</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Axios</span><span class="pun">;</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">create </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> create</span><span class="pun">(</span><span class="pln">instanceConfig</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> createInstance</span><span class="pun">(</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">(</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln"> instanceConfig</span><span class="pun">));</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>说完axios为什么会有这么多种使用方式，可能你心中会有一个疑问：<br>
                  使用axios时，无论<code>get</code>方法还是<code>post</code>方法，最终都是调用的<code>Axios.prototype.request</code>方法，那么这个方法是怎么根据我们的config配置发请求的呢？
                </p>
                <p>在开始说<code>Axios.prototype.request</code>之前，我们先来捋一捋在axios项目中，用户配置的config是怎么起作用的？</p>
                <h3>用户配置的config是怎么起作用的</h3>
                <p>这里说的<code>config</code>，指的是贯穿整个项目的配置项对象，<br>
                  通过这个对象，可以设置：</p>
                <p><code>http请求适配器、请求地址、请求方法、请求头header、 请求数据、请求或响应数据的转换、请求进度、http状态码验证规则、超时、取消请求等</code></p>
                <p>可以发现，几乎<code>axios</code>所有的功能都是通过这个对象进行配置和传递的，<br>
                  既是<code>axios</code>项目内部的沟通桥梁，也是用户跟<code>axios</code>进行沟通的桥梁。</p>
                <p>首先我们看看，用户能以什么方式定义配置项:</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

</span><span class="com">// 第1种：直接修改Axios实例上defaults属性，主要用来设置通用配置</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">[</span><span class="pln">configName</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">;</span><span class="pln">

</span><span class="com">// 第2种：发起请求时最终会调用Axios.prototype.request方法，然后传入配置项，主要用来设置“个例”配置</span><span class="pln">
axios</span><span class="pun">({</span><span class="pln">
  url</span><span class="pun">,</span><span class="pln">
  method</span><span class="pun">,</span><span class="pln">
  headers</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">

</span><span class="com">// 第3种：新建一个Axios实例，传入配置项，此处设置的是通用配置</span><span class="pln">
let newAxiosInstance </span><span class="pun">=</span><span class="pln"> axios</span><span class="pun">.</span><span class="pln">create</span><span class="pun">({</span><span class="pln">
  </span><span class="pun">[</span><span class="pln">configName</span><span class="pun">]:</span><span class="pln"> value</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <p>看下 <code>Axios.prototype.request</code> 方法里的一行代码: (<code>/lib/core/Axios.js</code> - 第35行)</p>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
config </span><span class="pun">=</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">(</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">method</span><span class="pun">:</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">},</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln"> config</span><span class="pun">);</span></code></pre>
                <p>
                  可以发现此处将默认配置对象<code>defaults</code>（<code>/lib/defaults.js</code>）、Axios实例属性<code>this.defaults</code>、<code>request</code>请求的参数<code>config</code>进行了合并。
                </p>
                <p>由此得出，多处配置的优先级由低到高是：<br>
                  —&gt; 默认配置对象<code>defaults</code>（<code>/lib/defaults.js</code>)<br>
                  —&gt; { method: 'get' }<br>
                  —&gt; Axios实例属性<code>this.defaults</code><br>
                  —&gt; <code>request</code>请求的参数<code>config</code></p>
                <p>留给大家思考一个问题: <code>defaults</code> 和 <code>this.defaults</code> 什么时候配置是相同的，什么时候是不同的？</p>
                <p>至此，我们已经得到了将多处<code>merge</code>后的<code>config</code>对象，那么这个对象在项目中又是怎样传递的呢？</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> request</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  config </span><span class="pun">=</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">(</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">method</span><span class="pun">:</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">},</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln"> config</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> chain </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dispatchRequest</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">];</span><span class="pln">
  </span><span class="com">// 将config对象当作参数传给Primise.resolve方法</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> promise </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">resolve</span><span class="pun">(</span><span class="pln">config</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// ...省略代码</span><span class="pln">

  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// config会按序通过 请求拦截器 - dispatchRequest方法 - 响应拦截器</span><span class="pln">
    </span><span class="com">// 关于拦截器 和 dispatchRequest方法，下面会作为一个专门的小节来介绍。</span><span class="pln">
    promise </span><span class="pun">=</span><span class="pln"> promise</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">(),</span><span class="pln"> chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">());</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> promise</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>至此，<code>config</code>走完了它传奇的一生 <code>-_-</code><br>
                  下一节就要说到重头戏了: <code>Axios.prototype.request</code></p>
                <h3>axios.prototype.request</h3>
                <p>这里面的代码比较复杂，一些方法需要追根溯源才能搞清楚，<br>
                  所以只需对chain数组有个简单的了解就好，涉及到的<a
                    href="https://www.imooc.com/article/32292?block_id=tuijian_wz#%E5%A6%82%E4%BD%95%E6%8B%A6%E6%88%AA%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E5%B9%B6%E4%BF%AE%E6%94%B9%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%BF%AE%E6%94%B9%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"
                    target="_blank" rel="nofollow">拦截器</a>、[<code>dispatchRequest</code>]后面都会详细介绍</p>
                <p><code>chain</code>数组是用来盛放拦截器方法和<code>dispatchRequest</code>方法的，<br>
                  通过promise从<code>chain</code>数组里按序取出回调函数逐一执行，最后将处理后的新的promise在<code>Axios.prototype.request</code>方法里返回出去，<br>
                  并将response或error传送出去，这就是<code>Axios.prototype.request</code>的使命了。</p>
                <p>查看源码：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/Axios.js</span><span class="pln">
</span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> request</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> chain </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dispatchRequest</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> promise </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">resolve</span><span class="pun">(</span><span class="pln">config</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> unshiftRequestInterceptors</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    chain</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">.</span><span class="pln">fulfilled</span><span class="pun">,</span><span class="pln"> interceptor</span><span class="pun">.</span><span class="pln">rejected</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> pushResponseInterceptors</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    chain</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">.</span><span class="pln">fulfilled</span><span class="pun">,</span><span class="pln"> interceptor</span><span class="pun">.</span><span class="pln">rejected</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    promise </span><span class="pun">=</span><span class="pln"> promise</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">(),</span><span class="pln"> chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">());</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> promise</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>此时，你一定对拦截器充满了好奇，这个拦截器到底是个什么家伙，下一节就让我们一探究竟吧</p>
                <h3>如何拦截请求响应并修改请求参数修改响应数据</h3>
                <h4>如何使用</h4>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// 添加请求拦截器</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> myRequestInterceptor </span><span class="pun">=</span><span class="pln"> axios</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">use</span><span class="pun">(</span><span class="pln">config </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// 在发送http请求之前做些什么</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> config</span><span class="pun">;</span><span class="pln"> </span><span class="com">// 有且必须有一个config对象被返回</span><span class="pln">
</span><span class="pun">},</span><span class="pln"> error </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// 对请求错误做些什么</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

</span><span class="com">// 添加响应拦截器</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="kwd">use</span><span class="pun">(</span><span class="pln">response </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// 对响应数据做点什么</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> response</span><span class="pun">;</span><span class="pln"> </span><span class="com">// 有且必须有一个response对象被返回</span><span class="pln">
</span><span class="pun">},</span><span class="pln"> error </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// 对响应错误做点什么</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

</span><span class="com">// 移除某次拦截器</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">eject</span><span class="pun">(</span><span class="pln">myRequestInterceptor</span><span class="pun">);</span></code></pre>
                <h4>思考</h4>
                <ol>
                  <li>是否可以直接 return error？</li>
                </ol>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
axios</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">use</span><span class="pun">(</span><span class="pln">config </span><span class="pun">=&gt;</span><span class="pln"> config</span><span class="pun">,</span><span class="pln"> error </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// 是否可以直接 return error ？</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"> 
</span><span class="pun">});</span></code></pre>
                <ol>
                  <li>如何实现promise的链式调用</li>
                </ol>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">People</span><span class="pun">(</span><span class="str">'whr'</span><span class="pun">).</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">3000</span><span class="pun">).</span><span class="pln">eat</span><span class="pun">(</span><span class="str">'apple'</span><span class="pun">).</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">5000</span><span class="pun">).</span><span class="pln">eat</span><span class="pun">(</span><span class="str">'durian'</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 打印结果</span><span class="pln">
</span><span class="com">// (等待3s)--&gt; 'whr eat apple' -(等待5s)--&gt; 'whr eat durian'</span></code></pre>
                <h4>源码分析</h4>
                <p>关于拦截器，<a
                    href="https://www.imooc.com/article/32292?block_id=tuijian_wz#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"
                    target="_blank" rel="nofollow">名词解释</a>一节已经做过简单说明。</p>
                <p>每个axios实例都有一个<code>interceptors</code>实例属性，<br>
                  <code>interceptors</code>对象上有两个属性<code>request</code>、<code>response</code>。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">function</span><span class="pln"> </span><span class="typ">Axios</span><span class="pun">(</span><span class="pln">instanceConfig</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">interceptors </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    request</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InterceptorManager</span><span class="pun">(),</span><span class="pln">
    response</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InterceptorManager</span><span class="pun">()</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}</span></code></pre>
                <p>这两个属性都是一个<code>InterceptorManager</code>实例，而这个<code>InterceptorManager</code>构造函数就是用来管理拦截器的。</p>
                <p>我们先来看看<code>InterceptorManager</code>构造函数：</p>
                <p><code>InterceptorManager</code>构造函数就是用来实现拦截器的，这个构造函数原型上有3个方法：use、eject、forEach。<br>
                  关于源码，其实是比较简单的，都是用来操作该构造函数的handlers实例属性的。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/InterceptorManager.js</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> </span><span class="typ">InterceptorManager</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handlers </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> </span><span class="com">// 存放拦截器方法，数组内每一项都是有两个属性的对象，两个属性分别对应成功和失败后执行的函数。</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// 往拦截器里添加拦截方法</span><span class="pln">
</span><span class="typ">InterceptorManager</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="kwd">use</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="kwd">use</span><span class="pun">(</span><span class="pln">fulfilled</span><span class="pun">,</span><span class="pln"> rejected</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handlers</span><span class="pun">.</span><span class="pln">push</span><span class="pun">({</span><span class="pln">
    fulfilled</span><span class="pun">:</span><span class="pln"> fulfilled</span><span class="pun">,</span><span class="pln">
    rejected</span><span class="pun">:</span><span class="pln"> rejected
  </span><span class="pun">});</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handlers</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">// 用来注销指定的拦截器</span><span class="pln">
</span><span class="typ">InterceptorManager</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">eject </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> eject</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handlers</span><span class="pun">[</span><span class="pln">id</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handlers</span><span class="pun">[</span><span class="pln">id</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">// 遍历this.handlers，并将this.handlers里的每一项作为参数传给fn执行</span><span class="pln">
</span><span class="typ">InterceptorManager</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">forEach </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> forEach</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handlers</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> forEachHandler</span><span class="pun">(</span><span class="pln">h</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">h </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      fn</span><span class="pun">(</span><span class="pln">h</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>那么当我们通过<code>axios.interceptors.request.use</code>添加拦截器后，<br>
                  axios内部又是怎么让这些拦截器能够在请求前、请求后拿到我们想要的数据的呢？</p>
                <p>先看下代码：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/Axios.js</span><span class="pln">
</span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> request</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> chain </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dispatchRequest</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">];</span><span class="pln">

  </span><span class="com">// 初始化一个promise对象，状态微resolved，接收到的参数微config对象</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> promise </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">resolve</span><span class="pun">(</span><span class="pln">config</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// 注意：interceptor.fulfilled 或 interceptor.rejected 是可能为undefined</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> unshiftRequestInterceptors</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    chain</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">.</span><span class="pln">fulfilled</span><span class="pun">,</span><span class="pln"> interceptor</span><span class="pun">.</span><span class="pln">rejected</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> pushResponseInterceptors</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    chain</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">interceptor</span><span class="pun">.</span><span class="pln">fulfilled</span><span class="pun">,</span><span class="pln"> interceptor</span><span class="pun">.</span><span class="pln">rejected</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  </span><span class="com">// 添加了拦截器后的chain数组大概会是这样的：</span><span class="pln">
  </span><span class="com">// [</span><span class="pln">
  </span><span class="com">//   requestFulfilledFn, requestRejectedFn, ..., </span><span class="pln">
  </span><span class="com">//   dispatchRequest, undefined,</span><span class="pln">
  </span><span class="com">//   responseFulfilledFn, responseRejectedFn, ....,</span><span class="pln">
  </span><span class="com">// ]</span><span class="pln">

  </span><span class="com">// 只要chain数组长度不为0，就一直执行while循环</span><span class="pln">
  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// 数组的 shift() 方法用于把数组的第一个元素从其中删除，并返回第一个元素的值。</span><span class="pln">
    </span><span class="com">// 每次执行while循环，从chain数组里按序取出两项，并分别作为promise.then方法的第一个和第二个参数</span><span class="pln">

    </span><span class="com">// 按照我们使用InterceptorManager.prototype.use添加拦截器的规则，正好每次添加的就是我们通过InterceptorManager.prototype.use方法添加的成功和失败回调</span><span class="pln">

    </span><span class="com">// 通过InterceptorManager.prototype.use往拦截器数组里添加拦截器时使用的数组的push方法，</span><span class="pln">
    </span><span class="com">// 对于请求拦截器，从拦截器数组按序读到后是通过unshift方法往chain数组数里添加的，又通过shift方法从chain数组里取出的，所以得出结论：对于请求拦截器，先添加的拦截器会后执行</span><span class="pln">
    </span><span class="com">// 对于响应拦截器，从拦截器数组按序读到后是通过push方法往chain数组里添加的，又通过shift方法从chain数组里取出的，所以得出结论：对于响应拦截器，添加的拦截器先执行</span><span class="pln">

    </span><span class="com">// 第一个请求拦截器的fulfilled函数会接收到promise对象初始化时传入的config对象，而请求拦截器又规定用户写的fulfilled函数必须返回一个config对象，所以通过promise实现链式调用时，每个请求拦截器的fulfilled函数都会接收到一个config对象</span><span class="pln">

    </span><span class="com">// 第一个响应拦截器的fulfilled函数会接受到dispatchRequest（也就是我们的请求方法）请求到的数据（也就是response对象）,而响应拦截器又规定用户写的fulfilled函数必须返回一个response对象，所以通过promise实现链式调用时，每个响应拦截器的fulfilled函数都会接收到一个response对象</span><span class="pln">

    </span><span class="com">// 任何一个拦截器的抛出的错误，都会被下一个拦截器的rejected函数收到，所以dispatchRequest抛出的错误才会被响应拦截器接收到。</span><span class="pln">

    </span><span class="com">// 因为axios是通过promise实现的链式调用，所以我们可以在拦截器里进行异步操作，而拦截器的执行顺序还是会按照我们上面说的顺序执行，也就是 dispatchRequest 方法一定会等待所有的请求拦截器执行完后再开始执行，响应拦截器一定会等待 dispatchRequest 执行完后再开始执行。</span><span class="pln">

    promise </span><span class="pun">=</span><span class="pln"> promise</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">(),</span><span class="pln"> chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">());</span><span class="pln">

  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> promise</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>现在，你应该已经清楚了拦截器是怎么回事，以及拦截器是如何在<code>Axios.prototype.request</code>方法里发挥作用的了，<br>
                  那么处于"中游位置"的<code>dispatchRequest</code>是如何发送http请求的呢？</p>
                <h3>dispatchrequest都做了哪些事</h3>
                <p>dispatchRequest主要做了3件事：<br>
                  1，拿到config对象，对config进行传给http请求适配器前的最后处理；<br>
                  2，http请求适配器根据config配置，发起请求<br>
                  3，http请求适配器请求完成后，如果成功则根据header、data、和config.transformResponse（关于transformResponse，下面的<a
                    href="https://www.imooc.com/article/32292?block_id=tuijian_wz#%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2%E5%99%A8-%E8%BD%AC%E6%8D%A2%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"
                    target="_blank" rel="nofollow">数据转换器</a>会进行讲解）拿到数据转换后的response，并return。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/dispatchRequest.js</span><span class="pln">
</span><span class="kwd">module</span><span class="pun">.</span><span class="pln">exports </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> dispatchRequest</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  throwIfCancellationRequested</span><span class="pun">(</span><span class="pln">config</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// Support baseURL config</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">config</span><span class="pun">.</span><span class="pln">baseURL </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">isAbsoluteURL</span><span class="pun">(</span><span class="pln">config</span><span class="pun">.</span><span class="pln">url</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">url </span><span class="pun">=</span><span class="pln"> combineURLs</span><span class="pun">(</span><span class="pln">config</span><span class="pun">.</span><span class="pln">baseURL</span><span class="pun">,</span><span class="pln"> config</span><span class="pun">.</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">// Ensure headers exist</span><span class="pln">
  config</span><span class="pun">.</span><span class="pln">headers </span><span class="pun">=</span><span class="pln"> config</span><span class="pun">.</span><span class="pln">headers </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">

  </span><span class="com">// 对请求data进行转换</span><span class="pln">
  config</span><span class="pun">.</span><span class="pln">data </span><span class="pun">=</span><span class="pln"> transformData</span><span class="pun">(</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">data</span><span class="pun">,</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">,</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">transformRequest
  </span><span class="pun">);</span><span class="pln">

  </span><span class="com">// 对header进行合并处理</span><span class="pln">
  config</span><span class="pun">.</span><span class="pln">headers </span><span class="pun">=</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">(</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">.</span><span class="pln">common </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">[</span><span class="pln">config</span><span class="pun">.</span><span class="pln">method</span><span class="pun">]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">

  </span><span class="com">// 删除header属性里无用的属性</span><span class="pln">
  utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">
    </span><span class="pun">[</span><span class="str">'delete'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'head'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'post'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'put'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'patch'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'common'</span><span class="pun">],</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> cleanHeaderConfig</span><span class="pun">(</span><span class="pln">method</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">delete</span><span class="pln"> config</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">[</span><span class="pln">method</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">

  </span><span class="com">// http请求适配器会优先使用config上自定义的适配器，没有配置时才会使用默认的XHR或http适配器，不过大部分时候，axios提供的默认适配器是能够满足我们的</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> adapter </span><span class="pun">=</span><span class="pln"> config</span><span class="pun">.</span><span class="pln">adapter </span><span class="pun">||</span><span class="pln"> defaults</span><span class="pun">.</span><span class="pln">adapter</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> adapter</span><span class="pun">(</span><span class="pln">config</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="com">/**/</span><span class="pun">);</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>好了，看到这里，我们是时候梳理一下：axios是如何用promise搭起基于xhr的异步桥梁的？</p>
                <h3>axios是如何用promise搭起基于xhr的异步桥梁的</h3>
                <p>axios是如何通过Promise进行异步处理的？</p>
                <h4>如何使用</h4>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="com">/**/</span><span class="pun">)</span><span class="pln">
</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">data </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// 此处可以拿到向服务端请求回的数据</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="kwd">catch</span><span class="pun">(</span><span class="pln">error </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// 此处可以拿到请求失败或取消或其他处理失败的错误对象</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <h4>源码分析</h4>
                <p>先来一个图简单的了解下axios项目里，http请求完成后到达用户的顺序流：</p>
                <p><img title="Axios源码深度剖析-AJAX新王者_" 图片2=""
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
                    alt="" target="_blank" rel="nofollow" data-original="https://www.imooc.com/article/promise-tree.png"
                    class="lazyload" style="cursor: pointer;"></p>
                <p>通过<a
                    href="https://www.imooc.com/article/32292?block_id=tuijian_wz#axios%E4%B8%BA%E4%BD%95%E4%BC%9A%E6%9C%89%E5%A4%9A%E7%A7%8D%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"
                    target="_blank" rel="nofollow">axios为何会有多种使用方式</a>我们知道，<br>
                  用户无论以什么方式调用axios，最终都是调用的<code>Axios.prototype.request</code>方法，<br>
                  这个方法最终返回的是一个Promise对象。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="typ">Axios</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> request</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> chain </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dispatchRequest</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">];</span><span class="pln">
  </span><span class="com">// 将config对象当作参数传给Primise.resolve方法</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> promise </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">resolve</span><span class="pun">(</span><span class="pln">config</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    promise </span><span class="pun">=</span><span class="pln"> promise</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">(),</span><span class="pln"> chain</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">());</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> promise</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>
                  <code>Axios.prototype.request</code>方法会调用<code>dispatchRequest</code>方法，而<code>dispatchRequest</code>方法会调用<code>xhrAdapter</code>方法，<code>xhrAdapter</code>方法返回的是还一个Promise对象
                </p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/adapters/xhr.js</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> xhrAdapter</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> dispatchXhrRequest</span><span class="pun">(</span><span class="pln">resolve</span><span class="pun">,</span><span class="pln"> reject</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// ... 省略代码</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p><code>xhrAdapter</code>内的XHR发送请求成功后会执行这个Promise对象的<code>resolve</code>方法,并将请求的数据传出去,<br>
                  反之则执行<code>reject</code>方法，并将错误信息作为参数传出去。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/adapters/xhr.js</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XMLHttpRequest</span><span class="pun">();</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> loadEvent </span><span class="pun">=</span><span class="pln"> </span><span class="str">'onreadystatechange'</span><span class="pun">;</span><span class="pln">

request</span><span class="pun">[</span><span class="pln">loadEvent</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> handleLoad</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  </span><span class="com">// 往下走有settle的源码</span><span class="pln">
  settle</span><span class="pun">(</span><span class="pln">resolve</span><span class="pun">,</span><span class="pln"> reject</span><span class="pun">,</span><span class="pln"> response</span><span class="pun">);</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
request</span><span class="pun">.</span><span class="pln">onerror </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> handleError</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  reject</span><span class="pun">(</span><span class="com">/**/</span><span class="pun">);</span><span class="pln">
  request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
request</span><span class="pun">.</span><span class="pln">ontimeout </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> handleTimeout</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  reject</span><span class="pun">(</span><span class="com">/**/</span><span class="pun">);</span><span class="pln">
  request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>验证服务端的返回结果是否通过验证：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/settle.js</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> settle</span><span class="pun">(</span><span class="pln">resolve</span><span class="pun">,</span><span class="pln"> reject</span><span class="pun">,</span><span class="pln"> response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> validateStatus </span><span class="pun">=</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">validateStatus</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">response</span><span class="pun">.</span><span class="pln">status </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">validateStatus </span><span class="pun">||</span><span class="pln"> validateStatus</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">status</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    resolve</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    reject</span><span class="pun">(</span><span class="com">/**/</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>回到<code>dispatchRequest</code>方法内，首先得到<code>xhrAdapter</code>方法返回的Promise对象,<br>
                  然后通过<code>.then</code>方法，对<code>xhrAdapter</code>返回的Promise对象的成功或失败结果再次加工，<br>
                  成功的话，则将处理后的<code>response</code>返回，<br>
                  失败的话，则返回一个状态为<code>rejected</code>的Promise对象，</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> adapter</span><span class="pun">(</span><span class="pln">config</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> onAdapterResolution</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// ...</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> response</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> onAdapterRejection</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// ...</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>那么至此，用户调用<code>axios()</code>方法时，就可以直接调用Promise的<code>.then</code>或<code>.catch</code>进行业务处理了。</p>
                <p>回过头来，我们在介绍<code>dispatchRequest</code>一节时说到的数据转换，而axios官方也将数据转换专门作为一个亮点来介绍的，那么数据转换到底能在使用axios发挥什么功效呢？
                </p>
                <h3>数据转换器-转换请求与响应数据</h3>
                <h4>如何使用</h4>
                <ol>
                  <li>修改全局的转换器</li>
                </ol>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

</span><span class="com">// 往现有的请求转换器里增加转换方法</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">transformRequest</span><span class="pun">.</span><span class="pln">push</span><span class="pun">((</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...处理data</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

</span><span class="com">// 重写请求转换器</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">transformRequest </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...处理data</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}];</span><span class="pln">

</span><span class="com">// 往现有的响应转换器里增加转换方法</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">transformResponse</span><span class="pun">.</span><span class="pln">push</span><span class="pun">((</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...处理data</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

</span><span class="com">// 重写响应转换器</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">transformResponse </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...处理data</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}];</span></code></pre>
                <ol>
                  <li>修改某次axios请求的转换器</li>
                </ol>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

</span><span class="com">// 往已经存在的转换器里增加转换方法</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  transformRequest</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">transformRequest</span><span class="pun">,</span><span class="pln"> </span><span class="com">// 去掉这行代码就等于重写请求转换器了</span><span class="pln">
    </span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// ...处理data</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  transformResponse</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">transformResponse</span><span class="pun">,</span><span class="pln"> </span><span class="com">// 去掉这行代码就等于重写响应转换器了</span><span class="pln">
    </span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// ...处理data</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <h4>源码分析</h4>
                <p>默认的<code>defaults</code>配置项里已经自定义了一个请求转换器和一个响应转换器，<br>
                  看下源码：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/defaults.js</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> defaults </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  transformRequest</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="kwd">function</span><span class="pln"> transformRequest</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    normalizeHeaderName</span><span class="pun">(</span><span class="pln">headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Content-Type'</span><span class="pun">);</span><span class="pln">
    </span><span class="com">// ...</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">isArrayBufferView</span><span class="pun">(</span><span class="pln">data</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">isURLSearchParams</span><span class="pun">(</span><span class="pln">data</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      setContentTypeIfUnset</span><span class="pun">(</span><span class="pln">headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">'application/x-www-form-urlencoded;charset=utf-8'</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">isObject</span><span class="pun">(</span><span class="pln">data</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      setContentTypeIfUnset</span><span class="pun">(</span><span class="pln">headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">'application/json;charset=utf-8'</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">data</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}],</span><span class="pln">

  transformResponse</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="kwd">function</span><span class="pln"> transformResponse</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> data </span><span class="pun">===</span><span class="pln"> </span><span class="str">'string'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        data </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">data</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">/* Ignore */</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}],</span><span class="pln">

</span><span class="pun">};</span></code></pre>
                <p>那么在axios项目里，是在什么地方使用了转换器呢？</p>
                <p>请求转换器的使用地方是http请求前，使用请求转换器对请求数据做处理，<br>
                  然后传给http请求适配器使用。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/dispatchRequest.js</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> dispatchRequest</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  config</span><span class="pun">.</span><span class="pln">data </span><span class="pun">=</span><span class="pln"> transformData</span><span class="pun">(</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">data</span><span class="pun">,</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">,</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">transformRequest
  </span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> adapter</span><span class="pun">(</span><span class="pln">config</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="com">/* ... */</span><span class="pun">);</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>看下<code>transformData</code>方法的代码，<br>
                  主要遍历转换器数组，分别执行每一个转换器，根据data和headers参数，返回新的data。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/transformData.js</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> transformData</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> fns</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  utils</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">fns</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> transform</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    data </span><span class="pun">=</span><span class="pln"> fn</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <p>响应转换器的使用地方是在http请求完成后，根据http请求适配器的返回值做数据转换处理：</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/dispatchRequest.js</span><span class="pln">
</span><span class="kwd">return</span><span class="pln"> adapter</span><span class="pun">(</span><span class="pln">config</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> onAdapterResolution</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// ...</span><span class="pln">
    response</span><span class="pun">.</span><span class="pln">data </span><span class="pun">=</span><span class="pln"> transformData</span><span class="pun">(</span><span class="pln">
      response</span><span class="pun">.</span><span class="pln">data</span><span class="pun">,</span><span class="pln">
      response</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">,</span><span class="pln">
      config</span><span class="pun">.</span><span class="pln">transformResponse
    </span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> response</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> onAdapterRejection</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isCancel</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// ...</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">reason </span><span class="pun">&amp;&amp;</span><span class="pln"> reason</span><span class="pun">.</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        reason</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="pln">data </span><span class="pun">=</span><span class="pln"> transformData</span><span class="pun">(</span><span class="pln">
          reason</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="pln">data</span><span class="pun">,</span><span class="pln">
          reason</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">,</span><span class="pln">
          config</span><span class="pun">.</span><span class="pln">transformResponse
        </span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span></code></pre>
                <h4>转换器和拦截器的关系？</h4>
                <p>拦截器同样可以实现转换请求和响应数据的需求，但根据作者的设计和综合代码可以看出，<br>
                  在请求时，拦截器主要负责修改config配置项，数据转换器主要负责转换请求体，比如转换对象为字符串<br>
                  在请求响应后，拦截器可以拿到<code>response</code>，数据转换器主要负责处理响应体，比如转换字符串为对象。</p>
                <p>axios官方是将"自动转换为JSON数据"作为一个独立的亮点来介绍的，那么数据转换器是如何完成这个功能的呢？<br>
                  其实非常简单，我们一起看下吧。</p>
                <h3>自动转换json数据</h3>
                <p>在默认情况下，axios将会自动的将传入的data对象序列化为JSON字符串，将响应数据中的JSON字符串转换为JavaScript对象</p>
                <h4>源码分析</h4>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// 请求时，将data数据转换为JSON 字符串</span><span class="pln">
</span><span class="com">// /lib/defaults.js </span><span class="pln">
transformRequest</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="kwd">function</span><span class="pln"> transformRequest</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">isObject</span><span class="pun">(</span><span class="pln">data</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      setContentTypeIfUnset</span><span class="pun">(</span><span class="pln">headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">'application/json;charset=utf-8'</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">data</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]</span><span class="pln">

</span><span class="com">// 得到响应后，将请求到的数据转换为JSON对象</span><span class="pln">
</span><span class="com">// /lib/defaults.js</span><span class="pln">
transformResponse</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="kwd">function</span><span class="pln"> transformResponse</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> data </span><span class="pun">===</span><span class="pln"> </span><span class="str">'string'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        data </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">data</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">/* Ignore */</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]</span></code></pre>
                <p>至此，axios项目的运作流程已经介绍完毕，是不是已经打通了任督二脉了呢<br>
                  接下来我们一起看下axios还带给了我们哪些好用的技能点吧。</p>
                <h3>header设置</h3>
                <h4>如何使用</h4>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

</span><span class="com">// 设置通用header</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">.</span><span class="pln">common</span><span class="pun">[</span><span class="str">'X-Requested-With'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">'XMLHttpRequest'</span><span class="pun">;</span><span class="pln"> </span><span class="com">// xhr标识</span><span class="pln">

</span><span class="com">// 设置某种请求的header</span><span class="pln">
axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">.</span><span class="pln">post</span><span class="pun">[</span><span class="str">'Content-Type'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">'application/x-www-form-urlencoded;charset=utf-8'</span><span class="pun">;</span><span class="pln">

</span><span class="com">// 设置某次请求的header</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  headers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">'Authorization'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'whr1'</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <h4>源码分析</h4>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/dispatchRequest.js  -  44行</span><span class="pln">

  config</span><span class="pun">.</span><span class="pln">headers </span><span class="pun">=</span><span class="pln"> utils</span><span class="pun">.</span><span class="pln">merge</span><span class="pun">(</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">.</span><span class="pln">common </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">[</span><span class="pln">config</span><span class="pun">.</span><span class="pln">method</span><span class="pun">]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">headers </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
  </span><span class="pun">);</span></code></pre>
                <h3>如何取消已经发送的请求</h3>
                <h4>如何使用</h4>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

</span><span class="com">// 第一种取消方法</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  cancelToken</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> axios</span><span class="pun">.</span><span class="typ">CancelToken</span><span class="pun">(</span><span class="pln">cancel </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="com">/* 取消条件 */</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      cancel</span><span class="pun">(</span><span class="str">'取消日志'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">})</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

</span><span class="com">// 第二种取消方法</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">CancelToken</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> axios</span><span class="pun">.</span><span class="typ">CancelToken</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> source </span><span class="pun">=</span><span class="pln"> </span><span class="typ">CancelToken</span><span class="pun">.</span><span class="pln">source</span><span class="pun">();</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  cancelToken</span><span class="pun">:</span><span class="pln"> source</span><span class="pun">.</span><span class="pln">token
</span><span class="pun">});</span><span class="pln">
source</span><span class="pun">.</span><span class="pln">cancel</span><span class="pun">(</span><span class="str">'取消日志'</span><span class="pun">);</span></code></pre>
                <h4>源码分析</h4>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /cancel/CancelToken.js  -  11行</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> </span><span class="typ">CancelToken</span><span class="pun">(</span><span class="pln">executor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> resolvePromise</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">promise </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> promiseExecutor</span><span class="pun">(</span><span class="pln">resolve</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    resolvePromise </span><span class="pun">=</span><span class="pln"> resolve</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> token </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln">
  executor</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> cancel</span><span class="pun">(</span><span class="pln">message</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">token</span><span class="pun">.</span><span class="pln">reason</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    token</span><span class="pun">.</span><span class="pln">reason </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Cancel</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln">
    resolvePromise</span><span class="pun">(</span><span class="pln">token</span><span class="pun">.</span><span class="pln">reason</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// /lib/adapters/xhr.js  -  159行</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">config</span><span class="pun">.</span><span class="pln">cancelToken</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    config</span><span class="pun">.</span><span class="pln">cancelToken</span><span class="pun">.</span><span class="pln">promise</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> onCanceled</span><span class="pun">(</span><span class="pln">cancel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">request</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        request</span><span class="pun">.</span><span class="pln">abort</span><span class="pun">();</span><span class="pln">
        reject</span><span class="pun">(</span><span class="pln">cancel</span><span class="pun">);</span><span class="pln">
        request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span></code></pre>
                <p>取消功能的核心是通过CancelToken内的<code>this.promise = new Promise(resolve =&gt; resolvePromise =
                    resolve)</code>，<br>
                  得到实例属性<code>promise</code>，此时该<code>promise</code>的状态为<code>pending</code><br>
                  通过这个属性，在<code>/lib/adapters/xhr.js</code>文件中继续给这个<code>promise</code>实例添加<code>.then</code>方法<br>
                  （<code>xhr.js</code>文件的159行<code>config.cancelToken.promise.then(message =&gt;
                    request.abort())</code>）；</p>
                <p>在<code>CancelToken</code>外界，通过<code>executor</code>参数拿到对<code>cancel</code>方法的控制权，<br>
                  这样当执行<code>cancel</code>方法时就可以改变实例的<code>promise</code>属性的状态为<code>rejected</code>，<br>
                  从而执行<code>request.abort()</code>方法达到取消请求的目的。</p>
                <p>上面第二种写法可以看作是对第一种写法的完善，<br>
                  因为很多是时候我们取消请求的方法是用在本次请求方法外，<br>
                  例如，发送A、B两个请求，当B请求成功后，取消A请求。</p>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// 第1种写法：</span><span class="pln">
let source</span><span class="pun">;</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="typ">Aurl</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  cancelToken</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> axios</span><span class="pun">.</span><span class="typ">CancelToken</span><span class="pun">(</span><span class="pln">cancel </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    source </span><span class="pun">=</span><span class="pln"> cancel</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">})</span><span class="pln">
</span><span class="pun">});</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="typ">Burl</span><span class="pun">)</span><span class="pln">
</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> source</span><span class="pun">(</span><span class="str">'B请求成功了'</span><span class="pun">));</span><span class="pln">

</span><span class="com">// 第2种写法：</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">CancelToken</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> axios</span><span class="pun">.</span><span class="typ">CancelToken</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> source </span><span class="pun">=</span><span class="pln"> </span><span class="typ">CancelToken</span><span class="pun">.</span><span class="pln">source</span><span class="pun">();</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="typ">Aurl</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  cancelToken</span><span class="pun">:</span><span class="pln"> source</span><span class="pun">.</span><span class="pln">token
</span><span class="pun">});</span><span class="pln">
axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="typ">Burl</span><span class="pun">)</span><span class="pln">
</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> source</span><span class="pun">.</span><span class="pln">cancel</span><span class="pun">(</span><span class="str">'B请求成功了'</span><span class="pun">));</span></code></pre>
                <p>相对来说，我更推崇第1种写法，因为第2种写法太隐蔽了，不如第一种直观好理解。</p>
                <h5>发现的问题</h5>
                <ol>
                  <li>
                    <p>/lib/adapters/xhr.js文件中，onCanceled方法的参数不应该叫message么，为什么叫cancel？</p>
                  </li>
                  <li>/lib/adapters/xhr.js文件中，onCanceled方法里，reject里应该将config信息也传出来</li>
                </ol>
                <h3>跨域携带cookie</h3>
                <h4>如何使用</h4>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">withCredentials </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></pre>
                <h4>源码分析</h4>
                <p>我们在<a
                    href="https://www.imooc.com/article/32292?block_id=tuijian_wz#%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE%E7%9A%84config%E6%98%AF%E6%80%8E%E4%B9%88%E8%B5%B7%E4%BD%9C%E7%94%A8%E7%9A%84"
                    target="_blank" rel="nofollow">用户配置的config是怎么起作用的</a>一节已经介绍了config在axios项目里的传递过程，<br>
                  由此得出，我们通过<code>axios.defaults.withCredentials = true</code>做的配置，<br>
                  在<code>/lib/adapters/xhr.js</code>里是可以取到的，然后通过以下代码配置到xhr对象项。</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">var</span><span class="pln"> request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XMLHttpRequest</span><span class="pun">();</span><span class="pln">

</span><span class="com">// /lib/adapters/xhr.js</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">config</span><span class="pun">.</span><span class="pln">withCredentials</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  request</span><span class="pun">.</span><span class="pln">withCredentials </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
                <h3>超时配置及处理</h3>
                <h4>如何使用</h4>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">timeout </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3000</span><span class="pun">;</span></code></pre>
                <h4>源码分析</h4>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /adapters/xhr.js</span><span class="pln">
request</span><span class="pun">.</span><span class="pln">timeout </span><span class="pun">=</span><span class="pln"> config</span><span class="pun">.</span><span class="pln">timeout</span><span class="pun">;</span><span class="pln">

</span><span class="com">// /adapters/xhr.js</span><span class="pln">
</span><span class="com">// 通过createError方法，将错误信息合为一个字符串</span><span class="pln">
request</span><span class="pun">.</span><span class="pln">ontimeout </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> handleTimeout</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  reject</span><span class="pun">(</span><span class="pln">createError</span><span class="pun">(</span><span class="str">'timeout of '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> config</span><span class="pun">.</span><span class="pln">timeout </span><span class="pun">+</span><span class="pln"> </span><span class="str">'ms exceeded'</span><span class="pun">,</span><span class="pln"> 
    config</span><span class="pun">,</span><span class="pln"> </span><span class="str">'ECONNABORTED'</span><span class="pun">,</span><span class="pln"> request</span><span class="pun">));</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <ul>
                  <li>axios库外如何添加超时后的处理</li>
                </ul>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
axios</span><span class="pun">().</span><span class="kwd">catch</span><span class="pun">(</span><span class="pln">error </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> message </span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">message</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">'timeout'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">){</span><span class="pln">
    </span><span class="com">// 超时处理</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">})</span></code></pre>
                <h3>改写验证成功或失败的规则validatestatus</h3>
                <p>自定义http状态码的成功、失败范围</p>
                <h4>如何使用</h4>
                <pre
                  class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="kwd">import</span><span class="pln"> axios </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'axios'</span><span class="pln">

axios</span><span class="pun">.</span><span class="pln">defaults</span><span class="pun">.</span><span class="pln">validateStatus </span><span class="pun">=</span><span class="pln"> status </span><span class="pun">=&gt;</span><span class="pln"> status </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> status </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">300</span><span class="pun">;</span></code></pre>
                <h4>源码分析</h4>
                <p>在默认配置中，定义了默认的http状态码验证规则，<br>
                  所以自定义<code>validateStatus</code>其实是对此处方法的重写</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// `/lib/defaults.js`</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> defaults </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
  validateStatus</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> validateStatus</span><span class="pun">(</span><span class="pln">status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> status </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> status </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">300</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}</span></code></pre>
                <p>axios是何时开始验证http状态码的？</p>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/adapters/xhr.js</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XMLHttpRequest</span><span class="pun">();</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> loadEvent </span><span class="pun">=</span><span class="pln"> </span><span class="str">'onreadystatechange'</span><span class="pun">;</span><span class="pln">

</span><span class="com">// /lib/adapters/xhr.js</span><span class="pln">
</span><span class="com">// 每当 readyState 改变时，就会触发 onreadystatechange 事件</span><span class="pln">
request</span><span class="pun">[</span><span class="pln">loadEvent</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> handleLoad</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">request </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">request</span><span class="pun">.</span><span class="pln">readyState </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">xDomain</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="com">// ...省略代码</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// ...</span><span class="pln">
      </span><span class="com">// IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)</span><span class="pln">
      status</span><span class="pun">:</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">status </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1223</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">204</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">status</span><span class="pun">,</span><span class="pln">
      config</span><span class="pun">:</span><span class="pln"> config</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
  settle</span><span class="pun">(</span><span class="pln">resolve</span><span class="pun">,</span><span class="pln"> reject</span><span class="pun">,</span><span class="pln"> response</span><span class="pun">);</span><span class="pln">
  </span><span class="com">// ...省略代码</span><span class="pln">
</span><span class="pun">}</span></code></pre>
                <pre class="prettyprint"><code class="language-javascript"><span class="pln">
</span><span class="com">// /lib/core/settle.js</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> settle</span><span class="pun">(</span><span class="pln">resolve</span><span class="pun">,</span><span class="pln"> reject</span><span class="pun">,</span><span class="pln"> response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// 如果我们往上捣一捣就会发现，config对象的validateStatus就是我们自定义的validateStatus方法或默认的validateStatus方法</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> validateStatus </span><span class="pun">=</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">validateStatus</span><span class="pun">;</span><span class="pln">
  </span><span class="com">// validateStatus验证通过，就会触发resolve方法</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">response</span><span class="pun">.</span><span class="pln">status </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">validateStatus </span><span class="pun">||</span><span class="pln"> validateStatus</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">status</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    resolve</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    reject</span><span class="pun">(</span><span class="pln">createError</span><span class="pun">(</span><span class="pln">
      </span><span class="str">'Request failed with status code '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">status</span><span class="pun">,</span><span class="pln">
      response</span><span class="pun">.</span><span class="pln">config</span><span class="pun">,</span><span class="pln">
      </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
      response</span><span class="pun">.</span><span class="pln">request</span><span class="pun">,</span><span class="pln">
      response
    </span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                <h3>总结</h3>
                <p>
                  axios这个项目里，有很多对JS使用很巧妙的地方，比如对promise的串联操作（当然你也可以说这块是借鉴很多异步中间件的处理方式）,让我们可以很方便对请求前后的各种处理方法的流程进行控制；很多实用的小优化，比如请求前后的数据处理，省了程序员一遍一遍去写JSON.xxx了；同时支持了浏览器和node两种环境，对使用node的项目来说无疑是极好的。
                </p>
                <p>总之，这个能够在github斩获42K+（截止2018.05.27）的star，实力绝不是概的，值得好好交交心！</p>
              </div>
            </div>
          </div>


        </div>
      </div>

    </div>
  </div>
<script>
function addMulu(fatherTagName, sonTagName){
  var h3,h4,div,mlCss,cssStr;
  window.muluH3=h3 = document.querySelectorAll(fatherTagName);
  window.muluH4=h4 = document.querySelectorAll(sonTagName);
  
  window.muluShow=function (ele,i){ ele[i].scrollIntoView(true); }
  function addMlCss(){
    mlCss=document.createElement('style')
    cssStr=".ml3{cursor:pointer;font-size: 14px; line-height: 22px;padding-top: 8px;}.ml3:hover,.ml4:hover,.ml3.active,.ml4.active{background:yellow;}.ml4{cursor:pointer;font-size: 13px; line-height: 22px;color:#666;padding-left:1.5em;}"
    if(mlCss.styleSheet){
      mlCss.styleSheet.cssText=cssStr
    }else {mlCss.innerHTML=cssStr}
    document.body.appendChild(mlCss)
  }
  function addDiv(){
    div = document.createElement('div');
    div.style.cssText="position: fixed;top:5px;left:5px;bottom:5px; width:360px;background:#fff; padding:10px;border:1px solid #ddd;; overflow-y: scroll;"
    div.innerHTML="<h3>目录</h3><hr>"
    div.addEventListener('click', function(event){
      var target = event.target,targetFather,divs=target.parentNode.querySelectorAll('div');

      function addClass(ele, className){
        var str = ele.className
        ele.className = str+ " " + className
      }
      function removeAllClass(eles, className){
        for(let i=0,l=eles.length;i<l;i++){
          if(eles[i].className.indexOf(' ' + className) !== -1){
            eles[i].className = eles[i].className.substr(0, eles[i].className.indexOf(' ' + className))
          }
        }
      }

      removeAllClass(divs, "active")
      // 增加此点击class 和他父级class
      if(target.className !== "ml3"){
        targetFather = target.previousElementSibling
        while (targetFather.className !== "ml3") { targetFather = targetFather.previousElementSibling };
        addClass(targetFather, "active")
      }
      addClass(target, "active")
    })

    for(var i = 0,l = h3.length,ll = h4.length,j = 0; i < l; i++){
      div.innerHTML += "<div class='ml3'id='ml3-"+ i +"' onclick='muluShow("+'muluH3'+','+i+")'>"+ (i+1)+'、' + h3[i].innerText + "</div>"

      // 添加h4目录 n=6,添加h4[0]
        for(let n = 0; j < ll; j++){
          if(h4[j] && h4[j].previousElementSibling ){ ele=h4[j].previousElementSibling; }else{break;}
          // 确定h4[j] 是哪个h3[n]的子集
          while (ele.tagName.toLowerCase() !== fatherTagName.toLowerCase()) { ele = ele.previousElementSibling };
          while (h3[n] !== ele) { n++ };
          // console.log('i,j,n \t',i,j,n);
          // 如果i<n,那就说明他的父级还未渲染，跳出循环
          if(i<n){break;}
          if(i === n){ div.innerHTML += "<div class='ml4'id='ml4-"+ j +"' onclick='muluShow("+'muluH4'+','+j+")'>|- "+ h4[j].innerText + "</div>"; }
        }
    }
    document.body.appendChild(div)
  }
  this.init=function(){
    addMlCss();
    addDiv();
  }
  this.init();
}

window.addh3 = new addMulu('h3','h4')
</script>
</body>

</html>